!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e="undefined"!=typeof globalThis?globalThis:e||self).DDDD=n()}(this,(function(){"use strict";function e(n){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function n(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function t(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}function i(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&a(e,n)}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,n){return(a=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e,n,t){return(l=s()?Reflect.construct:function(e,n,t){var r=[null];r.push.apply(r,n);var i=new(Function.bind.apply(e,r));return t&&a(i,t.prototype),i}).apply(null,arguments)}function u(e){var n="function"==typeof Map?new Map:void 0;return(u=function(e){if(null===e||(t=e,-1===Function.toString.call(t).indexOf("[native code]")))return e;var t;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,r)}function r(){return l(e,arguments,o(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),a(r,e)})(e)}function d(e,n){return!n||"object"!=typeof n&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function c(e){var n=s();return function(){var t,r=o(e);if(n){var i=o(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return d(this,t)}}function h(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var t=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(t.push(a.value),!n||t.length!==n);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return t}(e,n)||v(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||v(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,n){if(e){if("string"==typeof e)return f(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?f(e,n):void 0}}function f(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function g(e,n){var t;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=v(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==t.return||t.return()}finally{if(s)throw o}}}}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var _=function(e){var n={exports:{}};return e(n,n.exports),n.exports}((function(e,n){e.exports=function(){
/*!
     * mustache.js - Logic-less {{mustache}} templates with JavaScript
     * http://github.com/janl/mustache.js
     */
var e=Object.prototype.toString,n=Array.isArray||function(n){return"[object Array]"===e.call(n)};function t(e){return"function"==typeof e}function r(e){return n(e)?"array":typeof e}function i(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function o(e,n){return null!=e&&"object"==typeof e&&n in e}function a(e,n){return null!=e&&"object"!=typeof e&&e.hasOwnProperty&&e.hasOwnProperty(n)}var s=RegExp.prototype.test;function l(e,n){return s.call(e,n)}var u=/\S/;function d(e){return!l(u,e)}var c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function h(e){return String(e).replace(/[&<>"'`=\/]/g,(function(e){return c[e]}))}var p=/\s*/,v=/\s+/,f=/\s*=/,g=/\s*\}/,_=/#|\^|\/|>|\{|&|=|!/;function y(e,t){if(!e)return[];var r,o,a,s=!1,l=[],u=[],c=[],h=!1,y=!1,w="",x=0;function L(){if(h&&!y)for(;c.length;)delete u[c.pop()];else c=[];h=!1,y=!1}function C(e){if("string"==typeof e&&(e=e.split(v,2)),!n(e)||2!==e.length)throw new Error("Invalid tags: "+e);r=new RegExp(i(e[0])+"\\s*"),o=new RegExp("\\s*"+i(e[1])),a=new RegExp("\\s*"+i("}"+e[1]))}C(t||H.tags);for(var E,$,z,S,I,M,D=new k(e);!D.eos();){if(E=D.pos,z=D.scanUntil(r))for(var T=0,V=z.length;T<V;++T)d(S=z.charAt(T))?(c.push(u.length),w+=S):(y=!0,s=!0,w+=" "),u.push(["text",S,E,E+1]),E+=1,"\n"===S&&(L(),w="",x=0,s=!1);if(!D.scan(r))break;if(h=!0,$=D.scan(_)||"name",D.scan(p),"="===$?(z=D.scanUntil(f),D.scan(f),D.scanUntil(o)):"{"===$?(z=D.scanUntil(a),D.scan(g),D.scanUntil(o),$="&"):z=D.scanUntil(o),!D.scan(o))throw new Error("Unclosed tag at "+D.pos);if(I=">"==$?[$,z,E,D.pos,w,x,s]:[$,z,E,D.pos],x++,u.push(I),"#"===$||"^"===$)l.push(I);else if("/"===$){if(!(M=l.pop()))throw new Error('Unopened section "'+z+'" at '+E);if(M[1]!==z)throw new Error('Unclosed section "'+M[1]+'" at '+E)}else"name"===$||"{"===$||"&"===$?y=!0:"="===$&&C(z)}if(L(),M=l.pop())throw new Error('Unclosed section "'+M[1]+'" at '+D.pos);return m(b(u))}function b(e){for(var n,t,r=[],i=0,o=e.length;i<o;++i)(n=e[i])&&("text"===n[0]&&t&&"text"===t[0]?(t[1]+=n[1],t[3]=n[3]):(r.push(n),t=n));return r}function m(e){for(var n,t=[],r=t,i=[],o=0,a=e.length;o<a;++o)switch((n=e[o])[0]){case"#":case"^":r.push(n),i.push(n),r=n[4]=[];break;case"/":i.pop()[5]=n[2],r=i.length>0?i[i.length-1][4]:t;break;default:r.push(n)}return t}function k(e){this.string=e,this.tail=e,this.pos=0}function w(e,n){this.view=e,this.cache={".":this.view},this.parent=n}function x(){this.templateCache={_cache:{},set:function(e,n){this._cache[e]=n},get:function(e){return this._cache[e]},clear:function(){this._cache={}}}}k.prototype.eos=function(){return""===this.tail},k.prototype.scan=function(e){var n=this.tail.match(e);if(!n||0!==n.index)return"";var t=n[0];return this.tail=this.tail.substring(t.length),this.pos+=t.length,t},k.prototype.scanUntil=function(e){var n,t=this.tail.search(e);switch(t){case-1:n=this.tail,this.tail="";break;case 0:n="";break;default:n=this.tail.substring(0,t),this.tail=this.tail.substring(t)}return this.pos+=n.length,n},w.prototype.push=function(e){return new w(e,this)},w.prototype.lookup=function(e){var n,r=this.cache;if(r.hasOwnProperty(e))n=r[e];else{for(var i,s,l,u=this,d=!1;u;){if(e.indexOf(".")>0)for(i=u.view,s=e.split("."),l=0;null!=i&&l<s.length;)l===s.length-1&&(d=o(i,s[l])||a(i,s[l])),i=i[s[l++]];else i=u.view[e],d=o(u.view,e);if(d){n=i;break}u=u.parent}r[e]=n}return t(n)&&(n=n.call(this.view)),n},x.prototype.clearCache=function(){void 0!==this.templateCache&&this.templateCache.clear()},x.prototype.parse=function(e,n){var t=this.templateCache,r=e+":"+(n||H.tags).join(":"),i=void 0!==t,o=i?t.get(r):void 0;return null==o&&(o=y(e,n),i&&t.set(r,o)),o},x.prototype.render=function(e,n,t,r){var i=this.parse(e,r),o=n instanceof w?n:new w(n,void 0);return this.renderTokens(i,o,t,e,r)},x.prototype.renderTokens=function(e,n,t,r,i){for(var o,a,s,l="",u=0,d=e.length;u<d;++u)s=void 0,"#"===(a=(o=e[u])[0])?s=this.renderSection(o,n,t,r):"^"===a?s=this.renderInverted(o,n,t,r):">"===a?s=this.renderPartial(o,n,t,i):"&"===a?s=this.unescapedValue(o,n):"name"===a?s=this.escapedValue(o,n):"text"===a&&(s=this.rawValue(o)),void 0!==s&&(l+=s);return l},x.prototype.renderSection=function(e,r,i,o){var a=this,s="",l=r.lookup(e[1]);function u(e){return a.render(e,r,i)}if(l){if(n(l))for(var d=0,c=l.length;d<c;++d)s+=this.renderTokens(e[4],r.push(l[d]),i,o);else if("object"==typeof l||"string"==typeof l||"number"==typeof l)s+=this.renderTokens(e[4],r.push(l),i,o);else if(t(l)){if("string"!=typeof o)throw new Error("Cannot use higher-order sections without the original template");null!=(l=l.call(r.view,o.slice(e[3],e[5]),u))&&(s+=l)}else s+=this.renderTokens(e[4],r,i,o);return s}},x.prototype.renderInverted=function(e,t,r,i){var o=t.lookup(e[1]);if(!o||n(o)&&0===o.length)return this.renderTokens(e[4],t,r,i)},x.prototype.indentPartial=function(e,n,t){for(var r=n.replace(/[^ \t]/g,""),i=e.split("\n"),o=0;o<i.length;o++)i[o].length&&(o>0||!t)&&(i[o]=r+i[o]);return i.join("\n")},x.prototype.renderPartial=function(e,n,r,i){if(r){var o=t(r)?r(e[1]):r[e[1]];if(null!=o){var a=e[6],s=e[5],l=e[4],u=o;return 0==s&&l&&(u=this.indentPartial(o,l,a)),this.renderTokens(this.parse(u,i),n,r,u,i)}}},x.prototype.unescapedValue=function(e,n){var t=n.lookup(e[1]);if(null!=t)return t},x.prototype.escapedValue=function(e,n){var t=n.lookup(e[1]);if(null!=t)return H.escape(t)},x.prototype.rawValue=function(e){return e[1]};var H={name:"mustache.js",version:"4.0.1",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(e){L.templateCache=e},get templateCache(){return L.templateCache}},L=new x;return H.clearCache=function(){return L.clearCache()},H.parse=function(e,n){return L.parse(e,n)},H.render=function(e,n,t,i){if("string"!=typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+r(e)+'" was given as the first argument for mustache#render(template, view, partials)');return L.render(e,n,t,i)},H.escape=h,H.Scanner=k,H.Context=w,H.Writer=x,H}()})),y=function(t){i(a,t);var o=c(a);function a(e){var t,r=e.root,i=e.style,s=e.template,l=e.templateData;return n(this,a),(t=o.call(this)).__root=r,t.attachShadow({mode:"open"}),t.__element=t.__addTemplate(s,l),t.__addStyle(i),t.$el=t.__getRootElement(),t.$refs=t.__getReferences(),t}return r(a,[{key:"connectedCallback",value:function(){this.__triggerConnected()}},{key:"destroy",value:function(){this.__triggerDestroyed()}},{key:"$root",get:function(){return this.__root}},{key:"element",get:function(){return this.__element}},{key:"__addTemplate",value:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"object"===e(n)&&(n=this.$root.isLayoutSidebar()?n.templateSidebar:n.templateDevtools);var r=_.render(n,t);return this.shadowRoot.innerHTML=r,this.shadowRoot.firstChild}},{key:"__addStyle",value:function(n){"object"===e(n)&&(n=this.$root.isLayoutSidebar()?n.styleSidebar:n.styleDevtools);var t=document.createElement("style"),r=document.createTextNode(n);t.appendChild(r),this.shadowRoot.appendChild(t)}},{key:"__getRootElement",value:function(){return this.shadowRoot.firstChild}},{key:"__getReferences",value:function(){for(var e,n={},t=this.shadowRoot.querySelectorAll("[ref]"),r=0,i=t.length;r<i;r++)n[(e=t[r]).getAttribute("ref")]=e;return n}},{key:"__triggerConnected",value:function(){"function"==typeof this.connected&&this.connected()}},{key:"__triggerDestroyed",value:function(){"function"==typeof this.destroyed&&this.destroyed()}}]),a}(u(HTMLElement)),b=function(e){i(o,e);var t=c(o);function o(e){var r,i=e.root;return n(this,o),(r=t.call(this,{root:i,style:{styleSidebar:"*,\r\n*:before,\r\n*:after {\r\n    box-sizing: border-box;\r\n}\r\n\r\n.dddd {\r\n    /* Layout */\r\n    --font: 'Arial', sans-serif;\r\n    --background-color: rgba(27, 27, 27, 0.9);\r\n\r\n    /* Panels */\r\n    --panel-background-color: rgba(27, 27, 27, 0.9);\r\n    --panel-spacing: 10px;\r\n\r\n    /* Groups */\r\n    --group-header-padding: 13px 13px;\r\n    --group-header-font-size: 12px;\r\n    --group-header-background-color: rgba(255, 255, 255, 0.03);\r\n    --group-padding: 12px 11px 12px 13px;\r\n    --group-border-radius: 8px;\r\n\r\n    /* Components */\r\n    --component-row-gap: 6px;\r\n\r\n    /* Label */\r\n    --label-width: 35%;\r\n    --label-padding: 0 20px 0 0;\r\n    --label-color: rgba(255, 255, 255, 0.5);\r\n    --label-font-size: 12px;\r\n    --label-font-weight: 400;\r\n\r\n    /* Input */\r\n    --input-background-color: rgba(255, 255, 255, 0.03);\r\n    --input-background-color-hover: rgba(255, 255, 255, 0.08);\r\n    --input-background-color-transition: background-color 0.35s ease-out;\r\n    --input-highlight-color: rgba(77, 83, 217, 0.64);\r\n    --input-highlight-color-hover: rgba(77, 83, 217, 1);\r\n    --input-text-color: rgba(255, 255, 255, 0.75);\r\n    --input-font-size: 12px;\r\n    --input-font-weight: 300;\r\n    --input-border-radius: 6px;\r\n    --input-padding: 12px;\r\n    --input-height: 32px;\r\n\r\n    position: fixed;\r\n    top: 0;\r\n    right: 0;\r\n\r\n    width: 300px;\r\n    height: 100%;\r\n    max-height: 100vh;\r\n\r\n    background: var(--background-color);\r\n}\r\n\r\n.content {\r\n    width: 100%;\r\n    height: 100%;\r\n    overflow: auto;\r\n}\r\n\r\n.resize-handle {\r\n    position: absolute;\r\n\r\n    padding: 0;\r\n\r\n    background-color: transparent;\r\n\r\n    border: 0;\r\n    outline: 0;\r\n}\r\n\r\n.resize-handle.side {\r\n    top: 0;\r\n    left: 0;\r\n\r\n    width: 6px;\r\n    height: 100%;\r\n\r\n    cursor: ew-resize;\r\n}\r\n\r\n.resize-handle.bottom {\r\n    bottom: 0;\r\n    left: 0;\r\n\r\n    width: 100%;\r\n    height: 6px;\r\n\r\n    cursor: ns-resize;\r\n}\r\n\r\n.resize-handle.corner {\r\n    bottom: 0;\r\n    left: 0;\r\n\r\n    width: 10px;\r\n    height: 10px;\r\n\r\n    cursor: nesw-resize;\r\n}\r\n",styleDevtools:"*,\r\n*:before,\r\n*:after {\r\n    box-sizing: border-box;\r\n}\r\n\r\n.dddd {\r\n    /* Layout */\r\n    --font: 'Arial', sans-serif;\r\n    --background-color: #161616;\r\n\r\n    /* Panels */\r\n    --panel-background-color: #1B1B1B;\r\n    --panel-spacing: 15px;\r\n\r\n    /* Groups */\r\n    --group-header-font-size: 15px;\r\n    --group-header-background-color: rgba(255, 255, 255, 0.03);\r\n    --group-padding: 30px;\r\n    --group-border-radius: 10px;\r\n\r\n    /* Components */\r\n    --component-row-gap: 7px;\r\n\r\n    /* Label */\r\n    --label-width: 30%;\r\n    --label-padding: 0 20px 0 0;\r\n    --label-color: rgba(255, 255, 255, 0.75);\r\n    --label-font-size: 14px;\r\n    --label-font-weight: 400;\r\n    \r\n    /* Input */\r\n    --input-background-color: rgba(255, 255, 255, 0.03);\r\n    --input-background-color-hover: rgba(255, 255, 255, 0.08);\r\n    --input-background-color-transition: background-color 0.35s ease-out;\r\n    --input-highlight-color: rgba(77, 83, 217, 0.64);\r\n    --input-highlight-color-hover: rgba(77, 83, 217, 1);\r\n    --input-text-color: rgba(255, 255, 255, 0.75);\r\n    --input-font-size: 14px;\r\n    --input-font-weight: 300;\r\n    --input-border-radius: 10px;\r\n    --input-padding: 16px;\r\n    --input-height: 40px;\r\n\r\n    background: var(--background-color);\r\n}\r\n"},template:{templateSidebar:'<div class="dddd">\r\n\r\n    \x3c!-- Content --\x3e\r\n    <div class="content" ref="content"></div>\r\n\r\n    \x3c!-- Resize handle --\x3e\r\n    <button class="resize-handle side" ref="resizeHandleSide"></button>\r\n    <button class="resize-handle bottom" ref="resizeHandleBottom"></button>\r\n    <button class="resize-handle corner" ref="resizeHandleCorner"></button>\r\n\r\n</div>\r\n',templateDevtools:'<div class="dddd">\r\n\r\n    \x3c!-- Content --\x3e\r\n    <div class="content" ref="content"></div>\r\n\r\n</div>\r\n'}}))._isMouseDown=!1,r._width=0,r._height=0,r._axis={x:0,y:0},r._bindHandlers(),r._setupEventListeners(),r}return r(o,[{key:"destroyed",value:function(){this._removeEventListeners()}},{key:"content",get:function(){return this.$refs.content}},{key:"show",value:function(){this.$el.style.width="".concat(this._width,"px"),this._height?this.$el.style.height="".concat(this._height,"px"):this.$el.style.height="100%"}},{key:"hide",value:function(){this._width=this.$el.offsetWidth,this.$el.style.width="auto",this.$el.style.height="auto"}},{key:"_bindHandlers",value:function(){this._resizeHandleSideMouseDownHandler=this._resizeHandleSideMouseDownHandler.bind(this),this._resizeHandleBottomMouseDownHandler=this._resizeHandleBottomMouseDownHandler.bind(this),this._resizeHandleCornerMouseDownHandler=this._resizeHandleCornerMouseDownHandler.bind(this),this._windowMouseUpHandler=this._windowMouseUpHandler.bind(this),this._windowMouseMoveHandler=this._windowMouseMoveHandler.bind(this)}},{key:"_setupEventListeners",value:function(){this.$root.isDevtools||(this.$refs.resizeHandleSide.addEventListener("mousedown",this._resizeHandleSideMouseDownHandler),this.$refs.resizeHandleBottom.addEventListener("mousedown",this._resizeHandleBottomMouseDownHandler),this.$refs.resizeHandleCorner.addEventListener("mousedown",this._resizeHandleCornerMouseDownHandler),window.addEventListener("mouseup",this._windowMouseUpHandler),window.addEventListener("mousemove",this._windowMouseMoveHandler))}},{key:"_removeEventListeners",value:function(){this.$root.isDevtools||(this.$refs.resizeHandleCorner.removeEventListener("mousedown",this._resizeHandleCornerMouseDownHandler),window.removeEventListener("mouseup",this._windowMouseUpHandler),window.removeEventListener("mousemove",this._windowMouseMoveHandler))}},{key:"_resize",value:function(e,n){this._axis.x&&(this._width=window.innerWidth-e,this.$el.style.width="".concat(this._width,"px")),this._axis.y&&(this._height=n,this.$el.style.height="".concat(this._height,"px")),this.$root.layout.resize()}},{key:"_resizeHandleSideMouseDownHandler",value:function(){this._isMouseDown=!0,this._axis.x=1,this._axis.y=0}},{key:"_resizeHandleBottomMouseDownHandler",value:function(){this._isMouseDown=!0,this._axis.x=0,this._axis.y=1}},{key:"_resizeHandleCornerMouseDownHandler",value:function(){this._isMouseDown=!0,this._axis.x=1,this._axis.y=1}},{key:"_windowMouseUpHandler",value:function(){this._isMouseDown=!1}},{key:"_windowMouseMoveHandler",value:function(e){this._isMouseDown&&this._resize(e.clientX,e.clientY)}}]),o}(y);window.customElements.define("dddd-container",b);var m="navigation-button",k="active",w=function(e){i(o,e);var t=c(o);function o(e){var r,i=e.root;return n(this,o),(r=t.call(this,{root:i,style:{styleSidebar:".navigation {\r\n    display: none;\r\n\r\n    grid-template-columns: 1fr var(--input-height);\r\n    column-gap: var(--panel-spacing);\r\n\r\n    padding: var(--panel-spacing);\r\n\r\n    background-color: var(--panel-background-color);\r\n\r\n    box-shadow: 0px 0px 30px 2px rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n.select-container {\r\n    position: relative;\r\n\r\n    height: var(--input-height);\r\n    overflow: hidden;\r\n\r\n    background-color: var(--input-background-color);\r\n\r\n    border-radius: var(--input-border-radius);\r\n\r\n    user-select: none;\r\n\r\n    transition: var(--input-background-color-transition);\r\n}\r\n\r\n.select-container:hover {\r\n    background-color: var(--input-background-color-hover);\r\n}\r\n\r\n.select {\r\n    width: 100%;\r\n    height: 100%;\r\n\r\n    border: 0;\r\n    outline: 0;\r\n\r\n    padding: 0 var(--input-padding);\r\n\r\n    background: transparent;\r\n\r\n    font-family: var(--font);\r\n    font-size: var(--input-font-size);\r\n    font-weight: var(--input-font-weight);\r\n    color: var(--input-text-color);\r\n\r\n    appearance: none;\r\n}\r\n\r\n.select option {\r\n    color: black;\r\n}\r\n\r\n.arrow {\r\n    position: absolute;\r\n    top: 0;\r\n    right: var(--input-padding);\r\n    bottom: 0;\r\n\r\n    margin: auto 0;\r\n}\r\n\r\n.button-toggle {\r\n    position: relative;\r\n\r\n    width: var(--input-height);\r\n    height: var(--input-height);\r\n\r\n    background-color: var(--input-background-color);\r\n\r\n    border: 0;\r\n    border-radius: var(--input-border-radius);\r\n    outline: 0;\r\n\r\n    cursor: pointer;\r\n\r\n    transition: var(--input-background-color-transition);\r\n}\r\n\r\n.button-toggle:hover {\r\n    background-color: var(--input-background-color-hover);\r\n}\r\n\r\n.button-toggle__line {\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n\r\n    width: 12px;\r\n    height: 2px;\r\n\r\n    margin: auto;\r\n\r\n    background: var(--input-text-color);\r\n}\r\n",styleDevtools:".navigation {\r\n    display: none;\r\n    \r\n    padding: var(--panel-spacing);\r\n\r\n    font-size: 0;\r\n\r\n    list-style: none;\r\n\r\n    background-color: var(--panel-background-color);\r\n\r\n    box-shadow: 0px 0px 30px 2px rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n.navigation li {\r\n    display: inline-block;\r\n\r\n    margin-right: 10px;\r\n}\r\n\r\n.navigation-button {\r\n    padding: 13px 30px;\r\n\r\n    color: rgba(255, 255, 255, 0.5);\r\n\r\n    background-color: transparent;\r\n\r\n    border: 0;\r\n    border-radius: 12px;\r\n    outline: 0;\r\n\r\n    font-family: var(--font);\r\n    font-size: 13px;\r\n    font-weight: 600;\r\n\r\n    cursor: pointer;\r\n\r\n    transition: all 0.3s ease-out;\r\n}\r\n\r\n.navigation-button:hover {\r\n    background-color: rgba(255, 255, 255, 0.01);\r\n}\r\n\r\n.navigation-button.active {\r\n    color: rgba(255, 255, 255, 0.9);\r\n\r\n    background-color: rgba(255, 255, 255, 0.03);\r\n}"},template:{templateSidebar:'<div class="navigation">\r\n\r\n    \x3c!-- Select container--\x3e\r\n    <div class="select-container" ref="selectContainer">\r\n\r\n        \x3c!-- Arrow --\x3e\r\n        <svg width="11" height="6" viewBox="0 0 11 6" class="arrow">\r\n            <path d="M1 1L4.83564 4.40945C5.21452 4.74624 5.78548 4.74624 6.16436 4.40945L10 1" stroke="white" fill="transparent" stroke-opacity="0.74" stroke-linecap="round"/>\r\n        </svg>\r\n\r\n        \x3c!-- Select --\x3e\r\n        <select class="select" ref="select"></select>\r\n\r\n    </div>\r\n\r\n    \x3c!-- Button toggle --\x3e\r\n    <button class="button-toggle" ref="buttonToggle">\r\n        <div class="button-toggle__line"></div>\r\n    </button>\r\n\r\n</div>\r\n',templateDevtools:'<ul class="navigation"></ul>\r\n'}}))._activeIndex=0,r._elements=[],r._bindHandlers(),r._setupEventListeners(),r}return r(o,[{key:"destroy",value:function(){this._removeEventListeners()}},{key:"add",value:function(e,n){if(0===this._elements.length&&this._show(),this.$root.isLayoutSidebar()){var t=document.createElement("option");t.innerText=e,t.value=this._elements.length,this._elements.push(t),this.$refs.select.appendChild(t)}else{var r=document.createElement("button");r.classList.add(m),this.$el.children.length===this._activeIndex&&r.classList.add(k),r.innerText=e;var i=document.createElement("li");i.appendChild(r),this._elements.push(i),this.$el.appendChild(i)}}},{key:"goto",value:function(e){this.$refs.select.value=e}},{key:"show",value:function(){this.$refs.selectContainer.style.display="block",this.$el.style.display="grid"}},{key:"hide",value:function(){this.$refs.selectContainer.style.display="none",this.$el.style.display="block"}},{key:"_bindHandlers",value:function(){this._clickHandler=this._clickHandler.bind(this),this._selectChangeHandler=this._selectChangeHandler.bind(this),this._clickButtonToggle=this._clickButtonToggle.bind(this)}},{key:"_setupEventListeners",value:function(){this.$el.addEventListener("click",this._clickHandler),this.$refs.select&&this.$refs.select.addEventListener("change",this._selectChangeHandler),this.$refs.buttonToggle&&this.$refs.buttonToggle.addEventListener("click",this._clickButtonToggle)}},{key:"_removeEventListeners",value:function(){this.$el.removeEventListener("click",this._clickHandler),this.$refs.select&&this.$refs.select.removeEventListener("change",this._selectChangeHandler),this.$refs.buttonToggle&&this.$refs.buttonToggle.removeEventListener("click",this._clickButtonToggle)}},{key:"_show",value:function(){this.$el.style.display="grid"}},{key:"_getNavigationButtonIndex",value:function(e){return Array.prototype.indexOf.call(this.$el.children,e)}},{key:"_switch",value:function(e){this.$el.children[this._activeIndex].firstChild.classList.remove(k),this._activeIndex=e,this.$el.children[this._activeIndex].firstChild.classList.add(k),this._triggerSwitchEvent(this._activeIndex)}},{key:"_triggerSwitchEvent",value:function(e){this._activeIndex=e;var n=new CustomEvent("switch",{detail:{index:this._activeIndex}});this.dispatchEvent(n)}},{key:"_clickHandler",value:function(e){if(e.target.closest(".".concat(m))){var n=this._getNavigationButtonIndex(e.target.parentElement);this._switch(n)}}},{key:"_selectChangeHandler",value:function(){var e=parseInt(this.$refs.select.value);this._triggerSwitchEvent(e)}},{key:"_clickButtonToggle",value:function(){this.$root.layout.toggleVisibility()}}]),o}(y);window.customElements.define("dddd-navigation",w);var x="active",H=function(e){i(o,e);var t=c(o);function o(e){var r,i=e.root,a=e.label;return n(this,o),(r=t.call(this,{root:i,style:"*,\r\n*:before,\r\n*:after {\r\n    box-sizing: border-box;\r\n}\r\n\r\n.layer {\r\n    display: none;\r\n\r\n    position: relative;\r\n\r\n    width: 100%;\r\n    overflow: hidden;\r\n}\r\n\r\n.layer.active {\r\n    display: block;\r\n}\r\n",template:'<div class="layer"></div>',templateData:{label:a}}))._label=a,r._containerWidth=0,r._itemWidth=0,r._columnsHeight=[],r._bindHandlers(),r._setupEventListeners(),r}return r(o,[{key:"destroy",value:function(){this._removeEventListeners()}},{key:"label",get:function(){return this._label}},{key:"addGroup",value:function(e){return this.$root.addGroup(e,{container:this._label})}},{key:"activate",value:function(){this.$el.classList.add(x)}},{key:"deactivate",value:function(){this.$el.classList.remove(x)}},{key:"resize",value:function(){this._resize()}},{key:"_bindHandlers",value:function(){this._resizeHandler=this._resizeHandler.bind(this)}},{key:"_setupEventListeners",value:function(){window.addEventListener("resize",this._resizeHandler)}},{key:"_removeEventListeners",value:function(){window.removeEventListener("resize",this._resizeHandler)}},{key:"_resize",value:function(){0!==this.$el.children.length&&(this._containerWidth=this.$el.offsetWidth,this._columnCount=this._getColumCount(),this._itemGap=this._getItemGap(),this._itemWidth=this._getItemWidth(),this._resetColumnHeight(),this.$root.isLayoutSidebar()||(this._positionGroups(),this._updateHeight()))}},{key:"_getColumCount",value:function(){return Math.max(Math.floor(this._containerWidth/350),1)}},{key:"_getItemWidth",value:function(){var e=this._itemGap*(this._columnCount-1);return Math.floor((this._containerWidth-e)/this._columnCount)}},{key:"_getItemGap",value:function(){var e=this.$el.children[0].element,n=window.getComputedStyle(e);return parseInt(n.marginRight)}},{key:"_getItemHeight",value:function(e){var n=window.getComputedStyle(e),t=e.offsetHeight;return t+=parseInt(n.marginBottom)}},{key:"_resetColumnHeight",value:function(){this._columnsHeight=[];for(var e=0;e<this._columnCount;e++)this._columnsHeight.push(0)}},{key:"_positionGroups",value:function(){var e,n=g(this.$el.children);try{for(n.s();!(e=n.n()).done;){var t=e.value,r=this._getNexColumnIndex(),i=(r<this._columnCount?this._itemGap:0)*r,o=r*this._itemWidth+i,a=this._columnsHeight[r],s=this._getItemHeight(t.element);this._columnsHeight[r]+=s,t.element.style.position="absolute",t.element.style.transform="translate(".concat(o,"px, ").concat(a,"px)"),t.element.style.width="".concat(this._itemWidth,"px")}}catch(e){n.e(e)}finally{n.f()}}},{key:"_getNexColumnIndex",value:function(){var e=this._columnsHeight.slice(0).sort((function(e,n){return e-n})).shift();return this._columnsHeight.indexOf(e)}},{key:"_updateHeight",value:function(){var e=Math.max.apply(Math,p(this._columnsHeight));this.$el.style.height="".concat(e,"px")}},{key:"_resizeHandler",value:function(){this._resize()}}]),o}(y);window.customElements.define("dddd-layer",H);var L=function(e){i(o,e);var t=c(o);function o(e){var r,i=e.root;return n(this,o),(r=t.call(this,{root:i,style:"*,\r\n*:before,\r\n*:after {\r\n    box-sizing: border-box;\r\n}\r\n\r\n.layers {\r\n    position: relative;\r\n\r\n    width: 100%;\r\n\r\n    /* padding: var(--panel-spacing) var(--panel-spacing) 0 var(--panel-spacing); */\r\n    padding: var(--panel-spacing);\r\n\r\n    -webkit-font-smoothing: antialiased;\r\n    font-family: var(--font);\r\n    font-weight: 300;\r\n    font-size: 13px;\r\n}\r\n",template:'<div class="layers"></div>'}))._activeIndex=0,r._layers=[],r}return r(o,[{key:"destroyed",value:function(){this._destroyLayers()}},{key:"add",value:function(e){var n=new H({root:this.$root,label:e});return this._layers.length===this._activeIndex&&n.activate(),this._layers.push(n),this.$el.appendChild(n),n}},{key:"goto",value:function(e){var n=this._activeIndex,t=e;this._layers[n].deactivate(),this._layers[t].activate(),this._activeIndex=t,this._resizeLayers()}},{key:"get",value:function(e){var n,t=g(this._layers);try{for(t.s();!(n=t.n()).done;){var r=n.value;if(r.label===e)return r.element}}catch(e){t.e(e)}finally{t.f()}return null}},{key:"getByIndex",value:function(e){return this._layers[e]}},{key:"getIndexByLabel",value:function(e){for(var n=0,t=this._layers.length;n<t;n++)if(this._layers[n].label===e)return n;return null}},{key:"isEmpty",value:function(){return 0===this._layers.length}},{key:"resize",value:function(){this._resizeLayers()}},{key:"show",value:function(){this.$el.style.display="block"}},{key:"hide",value:function(){this.$el.style.display="none"}},{key:"_destroyLayers",value:function(){var e,n=g(this._layers);try{for(n.s();!(e=n.n()).done;){e.value.destroy()}}catch(e){n.e(e)}finally{n.f()}}},{key:"_resizeLayers",value:function(){var e,n=g(this._layers);try{for(n.s();!(e=n.n()).done;){e.value.resize()}}catch(e){n.e(e)}finally{n.f()}}}]),o}(y);window.customElements.define("dddd-layers",L);var C=new(function(){function e(){n(this,e)}return r(e,[{key:"set",value:function(e,n){var t=JSON.parse(localStorage.getItem(e))||{};Object.assign(t,n),localStorage.setItem(e,JSON.stringify(t))}},{key:"get",value:function(e,n){return(JSON.parse(localStorage.getItem(e))||{})[n]}}]),e}()),E=function(e){i(o,e);var t=c(o);function o(e){var r,i=e.root,a=e.label,s=e.options;return n(this,o),(r=t.call(this,{root:i,style:{styleSidebar:"*,\r\n*:before,\r\n*:after {\r\n    box-sizing: border-box;\r\n}\r\n\r\n.group {\r\n    overflow: hidden;\r\n\r\n    margin: 0 0 var(--panel-spacing) 0;\r\n\r\n    background-color: var(--panel-background-color);\r\n\r\n    border-radius: var(--group-border-radius);\r\n\r\n    box-shadow: 0px 0px 30px 2px rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n.button-header {\r\n    position: relative;\r\n\r\n    width: 100%;\r\n\r\n    padding: 0;\r\n\r\n    text-align: left;\r\n\r\n    background-color: var(--group-header-background-color);\r\n\r\n    border: 0;\r\n    outline: 0;\r\n    cursor: pointer;\r\n}\r\n\r\n.label {\r\n    display: block;\r\n\r\n    padding: var(--group-header-padding);\r\n\r\n    font-size: var(--group-header-font-size);\r\n    font-weight: 400;\r\n    color: white;\r\n    letter-spacing: 0.025em;\r\n}\r\n\r\n.arrow {\r\n    position: absolute;\r\n    top: 0;\r\n    right: calc(var(--panel-spacing) + 7px);\r\n    bottom: 0;\r\n\r\n    margin: auto 0;\r\n}\r\n\r\n.content {\r\n    display: grid;\r\n    position: relative;\r\n\r\n    row-gap: var(--component-row-gap);\r\n\r\n    padding: var(--group-padding);\r\n}\r\n\r\n.hidden .content {\r\n    display: none;\r\n}\r\n\r\n/* Subgroup */\r\n.group.subgroup {\r\n    padding: 8px 0 0 0;\r\n\r\n    background-color: transparent;\r\n\r\n    border-radius: 0;\r\n\r\n    box-shadow: initial;\r\n}\r\n\r\n.subgroup .button-header {\r\n    margin-bottom: 0;\r\n\r\n    background: transparent;\r\n}\r\n\r\n.subgroup .label {\r\n    padding: 0 0 0 21px;\r\n\r\n    font-size: 11px;\r\n}\r\n\r\n.subgroup .arrow {\r\n    position: absolute;\r\n    top: 3px;\r\n    right: 0;\r\n    bottom: 0;\r\n    left: 2px;\r\n\r\n    width: 10px;\r\n\r\n    margin: 0;\r\n}\r\n\r\n.hidden.subgroup .arrow {\r\n    transform: rotate(-90deg);\r\n}\r\n\r\n.subgroup .content {\r\n    margin: 10px 0 5px 0;\r\n    padding: 0 0 0 19px;\r\n}\r\n\r\n.subgroup .content:before {\r\n    content: '';\r\n\r\n    display: block;\r\n    position: absolute;\r\n    top: 0;\r\n    bottom: 0;\r\n    left: 6px;\r\n\r\n    width: 1px;\r\n    height: 100%;\r\n\r\n    background: rgba(255, 255, 255, 0.1);\r\n}\r\n",styleDevtools:"*,\r\n*:before,\r\n*:after {\r\n    box-sizing: border-box;\r\n}\r\n\r\n.group {\r\n    padding: calc(var(--group-padding) - 3px) var(--group-padding) var(--group-padding);\r\n    margin: 0 var(--panel-spacing) var(--panel-spacing) 0;\r\n\r\n    background-color: var(--panel-background-color);\r\n    \r\n    border-radius: var(--group-border-radius);\r\n\r\n    box-shadow: 0px 0px 30px 2px rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n.label {\r\n    display: block;\r\n\r\n    margin-bottom: 20px;\r\n\r\n    font-size: var(--group-header-font-size);\r\n    font-weight: 600;\r\n    color: white;\r\n    letter-spacing: 0.025em;\r\n}\r\n\r\n.content {\r\n    display: grid;\r\n\r\n    row-gap: var(--component-row-gap);\r\n}"},template:{templateSidebar:'<div class="group active">\r\n\r\n    \x3c!-- Button header --\x3e\r\n    <button class="button-header" ref="buttonHeader">\r\n\r\n        \x3c!-- Label --\x3e\r\n        <span class="label">\r\n            {{ label }}\r\n        </span>\r\n\r\n        \x3c!-- Arrow --\x3e\r\n        <svg width="11" height="6" viewBox="0 0 11 6" class="arrow">\r\n            <path d="M1 1L4.83564 4.40945C5.21452 4.74624 5.78548 4.74624 6.16436 4.40945L10 1" stroke="white" fill="transparent" stroke-opacity="0.74" stroke-linecap="round"/>\r\n        </svg>\r\n\r\n    </button>\r\n\r\n    \x3c!-- Content --\x3e\r\n    <div class="content" ref="content"></div>\r\n\r\n</div>\r\n',templateDevtools:'<div class="group">\r\n\r\n    \x3c!-- Label --\x3e\r\n    <span class="label">{{ label }}</span>\r\n\r\n    \x3c!-- Content --\x3e\r\n    <div class="content" ref="content"></div>\r\n\r\n</div>\r\n'},templateData:{label:a}}))._label=a,r._options=s,r._parent=s.parent,r._isVisible=!0,r._bindHandlers(),r._setupEventListeners(),r._addSubgroupClass(),r._updateStartupVisibility(),r}return r(o,[{key:"destroyed",value:function(){this._removeEventListeners()}},{key:"label",get:function(){return this._label}},{key:"content",get:function(){return this.$refs.content}},{key:"parent",get:function(){return this._parent}},{key:"add",value:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.container=this,this.$root.add(e,n,t)}},{key:"addButton",value:function(e){return e.container=this,this.$root.addButton(e)}},{key:"addCanvas",value:function(e){return e.container=this,this.$root.addCanvas(e)}},{key:"addGroup",value:function(e){return this.$root.addGroup(e,{container:this._label,parent:this})}},{key:"_bindHandlers",value:function(){this._clickHandler=this._clickHandler.bind(this)}},{key:"_setupEventListeners",value:function(){this.$refs.buttonHeader&&this.$refs.buttonHeader.addEventListener("click",this._clickHandler)}},{key:"_removeEventListeners",value:function(){this.$refs.buttonHeader&&this.$refs.buttonHeader.removeEventListener("click",this._clickHandler)}},{key:"_addSubgroupClass",value:function(){this.parent&&this.$el.classList.add("subgroup")}},{key:"_updateStartupVisibility",value:function(){var e=this._getLocalStorageKey();"hidden"===C.get(e,"visibility")&&this._hide()}},{key:"_toggleVisibility",value:function(){this._isVisible?this._hide():this._show()}},{key:"_show",value:function(){this._isVisible=!0,this._updateLocalStorage("visible"),this.$el.classList.remove("hidden"),this.$root.layout.resize()}},{key:"_hide",value:function(){this._isVisible=!1,this._updateLocalStorage("hidden"),this.$el.classList.add("hidden")}},{key:"_updateLocalStorage",value:function(e){var n=this._getLocalStorageKey();C.set(n,{visibility:e})}},{key:"_getLocalStorageKey",value:function(){return"group.".concat(this._options.container,".").concat(this._label)}},{key:"_clickHandler",value:function(){this._toggleVisibility()}}]),o}(y);window.customElements.define("dddd-group",E);var $=new(function(){function e(){n(this,e),this._layers=[],this._groups=[],this._components=[]}return r(e,[{key:"addLayer",value:function(e){this._layers.push(e)}},{key:"addGroup",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._groups.push({label:e,options:n})}},{key:"addComponent",value:function(e){this._components.push(e)}},{key:"get",value:function(){return{layers:this._layers,groups:this._groups,components:this._getComponents()}}},{key:"_getComponents",value:function(){var e,n=[],t=g(this._components);try{for(t.s();!(e=t.n()).done;){var r=e.value;n.push(r.getData())}}catch(e){t.e(e)}finally{t.f()}return n}}]),e}()),z=function(e){i(o,e);var t=c(o);function o(e){var r,i=e.root,a=e.model,s=e.style,l=e.template;return n(this,o),(r=t.call(this)).__root=i,r.__model=a,r.attachShadow({mode:"open"}),r.$el=r.__addTemplate(l),r.$refs=r.__getReferences(r.$el),r.__addStyle(s),r.__addLockedClass(),r.__bindHandlers(),r}return r(o,[{key:"connectedCallback",value:function(){this.__setupEventListeners(),this.__triggerResize(),this.__triggerConnected()}},{key:"destroy",value:function(){this.__removeEventListeners(),this.__triggerDestroyed()}},{key:"$root",get:function(){return this.__root}},{key:"model",get:function(){return this.__model}},{key:"container",get:function(){return this.__model.options.container}},{key:"tick",value:function(){this.__triggerTick(),this.model.options.listen&&(this.model.updateValueFromObject(),this.__triggerOnListen())}},{key:"resize",value:function(){this.__triggerResize()}},{key:"__bindHandlers",value:function(){this.__resizeHandler=this.__resizeHandler.bind(this)}},{key:"__setupEventListeners",value:function(){window.addEventListener("resize",this.__resizeHandler)}},{key:"__removeEventListeners",value:function(){window.removeEventListener("resize",this.__resizeHandler)}},{key:"__addTemplate",value:function(e){var n={label:this.__getLabel()},t=_.render(e,n);return this.shadowRoot.innerHTML=t,this.shadowRoot.firstChild}},{key:"__addStyle",value:function(e){var n=document.createElement("style"),t=document.createTextNode(e);n.appendChild(t),this.shadowRoot.appendChild(n)}},{key:"__getLabel",value:function(){return this.__model.options.label?this.__model.options.label:this.__model.property}},{key:"__getReferences",value:function(e){for(var n,t={},r=e.querySelectorAll("[ref]"),i=0,o=r.length;i<o;i++)t[(n=r[i]).getAttribute("ref")]=n;return t}},{key:"__addLockedClass",value:function(){this.model.options.locked&&this.$el.classList.add("locked")}},{key:"__triggerConnected",value:function(){"function"==typeof this.connected&&this.connected()}},{key:"__triggerDestroyed",value:function(){"function"==typeof this.destroyed&&this.destroyed()}},{key:"__triggerResize",value:function(){"function"==typeof this.onResize&&this.onResize()}},{key:"__triggerTick",value:function(){"function"==typeof this.onTick&&this.onTick()}},{key:"__triggerOnListen",value:function(){"function"==typeof this.onListen&&this.onListen()}},{key:"__resizeHandler",value:function(){this.__triggerResize()}}]),o}(u(HTMLElement)),S="active",I=function(e){i(o,e);var t=c(o);function o(e,r){var i;return n(this,o),(i=t.call(this,{root:e,style:".component {\r\n    display: grid;\r\n\r\n    grid-template-columns: var(--label-width) calc(100% - var(--label-width));\r\n    align-items: center;\r\n}\r\n\r\n.label {\r\n    overflow: hidden;\r\n\r\n    padding: var(--label-padding);\r\n\r\n    font-size: var(--label-font-size);\r\n    font-weight: var(--label-font-weight);\r\n    color: var(--label-color);\r\n    white-space: nowrap;\r\n    text-overflow: ellipsis;\r\n}\r\n\r\n.input-container {\r\n    position: relative;\r\n\r\n    height: var(--input-height);\r\n    overflow: hidden;\r\n\r\n    background-color: var(--input-background-color);\r\n\r\n    border-radius: var(--input-border-radius);\r\n\r\n    user-select: none;\r\n\r\n    transition: var(--input-background-color-transition);\r\n\r\n    cursor: col-resize;\r\n}\r\n\r\n.input-container:hover,\r\n.input-container.active {\r\n    background-color: var(--input-background-color-hover);\r\n}\r\n\r\n.locked .input-container {\r\n    opacity: 0.6;\r\n\r\n    pointer-events: none;\r\n}\r\n\r\n.scrubber {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n\r\n    width: 100%;\r\n    height: 100%;\r\n\r\n    background: var(--input-highlight-color);\r\n\r\n    transform-origin: top left;\r\n}\r\n\r\n.input {\r\n    position: relative;\r\n    display: block;\r\n\r\n    width: 100%;\r\n    height: 100%;\r\n\r\n    padding: 0 var(--input-padding);\r\n\r\n    background-color: transparent;\r\n\r\n    font-family: var(--font);\r\n    font-size: var(--input-font-size);\r\n    font-weight: var(--input-font-weight);\r\n    line-height: var(--input-height);\r\n    color: var(--input-text-color);\r\n\r\n    outline: none;\r\n    border: 0;\r\n\r\n    pointer-events: none;\r\n}\r\n",template:'<div class="component">\r\n    \r\n    \x3c!-- Label --\x3e\r\n    <span class="label">{{ label }}</span>\r\n\r\n    \x3c!-- Input container --\x3e\r\n    <div class="input-container" ref="inputContainer">\r\n\r\n        \x3c!-- Scrubber --\x3e\r\n        <div class="scrubber" ref="scrubber"></div>\r\n        \r\n        \x3c!-- Input --\x3e\r\n        <input class="input" ref="input">\r\n\r\n    </div>\r\n\r\n</div>',model:r}))._scrubberOffset=0,i._inputContainer={x:0,width:0},i._scrubber={width:0},i._mouseStartPosition={x:0,y:0},i._mousePosition={x:0,y:0},i._isMouseDown=!1,i._isShiftDown=!1,i._isSlideStarted=!1,i._bindHandlers(),i}return r(o,[{key:"connected",value:function(){this._resize(),this._updateValue(this.model.value),this._setupEventListeners()}},{key:"destroyed",value:function(){this._removeEventListeners()}},{key:"onResize",value:function(){this._resize()}},{key:"onTick",value:function(){this._scaleScrubber(this.model.value)}},{key:"onListen",value:function(){this._updateInputValue(this.model.value),this._scaleScrubber(this.model.value)}},{key:"_bindHandlers",value:function(){this._windowMouseMoveHandler=this._windowMouseMoveHandler.bind(this),this._windowMouseUpHandler=this._windowMouseUpHandler.bind(this),this._inputContainerMouseDownHandler=this._inputContainerMouseDownHandler.bind(this),this._inputContainerMouseUpHandler=this._inputContainerMouseUpHandler.bind(this),this._inputContainerDoubleClickHandler=this._inputContainerDoubleClickHandler.bind(this),this._inputChangeHandler=this._inputChangeHandler.bind(this),this._inputBlurHandler=this._inputBlurHandler.bind(this),this._windowKeyDownHandler=this._windowKeyDownHandler.bind(this),this._windowKeyUpHandler=this._windowKeyUpHandler.bind(this)}},{key:"_setupEventListeners",value:function(){this.$refs.inputContainer.addEventListener("mousedown",this._inputContainerMouseDownHandler),this.$refs.inputContainer.addEventListener("mouseup",this._inputContainerMouseUpHandler),this.$refs.inputContainer.addEventListener("dblclick",this._inputContainerDoubleClickHandler),this.$refs.input.addEventListener("change",this._inputChangeHandler),this.$refs.input.addEventListener("blur",this._inputBlurHandler),window.addEventListener("mousemove",this._windowMouseMoveHandler),window.addEventListener("mouseup",this._windowMouseUpHandler),window.addEventListener("keydown",this._windowKeyDownHandler),window.addEventListener("keyup",this._windowKeyUpHandler)}},{key:"_removeEventListeners",value:function(){this.$refs.inputContainer.removeEventListener("mousedown",this._inputContainerMouseDownHandler),this.$refs.inputContainer.removeEventListener("mouseup",this._inputContainerMouseUpHandler),this.$refs.inputContainer.removeEventListener("dblclick",this._inputContainerDoubleClickHandler),this.$refs.input.removeEventListener("change",this._inputChangeHandler),this.$refs.input.removeEventListener("blur",this._inputBlurHandler),window.removeEventListener("mousemove",this._windowMouseMoveHandler),window.removeEventListener("mouseup",this._windowMouseUpHandler),window.removeEventListener("keydown",this._windowKeyDownHandler),window.removeEventListener("keyup",this._windowKeyUpHandler)}},{key:"_updateValue",value:function(e){this.model.value=Math.max(Math.min(e,this.model.options.max),this.model.options.min),this._updateInputValue(this.model.value)}},{key:"_calcValue",value:function(e){var n=this._isShiftDown?.3:1,t=(e-this._mouseStartPosition.x)*n,r=(this._mouseStartPosition.x-this._inputContainer.x+t)/this._inputContainer.width;return this._map(r,0,1,this.model.options.min,this.model.options.max)}},{key:"_scaleScrubber",value:function(e){var n=this._map(e,this.model.options.min,this.model.options.max,0,1);this.$refs.scrubber.style.transform="scaleX(".concat(n,")")}},{key:"_showScrubber",value:function(){this.$refs.scrubber.style.display="block"}},{key:"_hideScrubber",value:function(){this.$refs.scrubber.style.display="none"}},{key:"_updateInputValue",value:function(e){var n=(Math.round(100*e)/100).toFixed(2);this.$refs.input.value=n}},{key:"_map",value:function(e,n,t,r,i){return(e-n)*(i-r)/(t-n)+r}},{key:"_resize",value:function(){this._inputContainer=this._getContainerData(),this._scaleScrubber(this.model.value)}},{key:"_getContainerData",value:function(){var e=this.$refs.inputContainer.getBoundingClientRect();return{x:e.left,width:e.width}}},{key:"_selectInput",value:function(){this._isInputSelected=!0,this.$refs.input.select()}},{key:"_deselectInput",value:function(){this._isInputSelected=!1,this.$refs.input.blur()}},{key:"_addActiveClass",value:function(){this.$refs.inputContainer.classList.add(S)}},{key:"_removeActiveClass",value:function(){this.$refs.inputContainer.classList.remove(S)}},{key:"_windowMouseMoveHandler",value:function(e){if(this._isMouseDown){this._mousePosition.x=e.clientX,Math.abs(this._mouseStartPosition.x-e.clientX)>2&&(this._isSlideStarted=!0);var n=this._calcValue(e.clientX);this._updateValue(n)}}},{key:"_windowMouseUpHandler",value:function(e){this._isMouseDown=!1,this._isSlideStarted=!1,this._removeActiveClass()}},{key:"_inputContainerMouseUpHandler",value:function(){this._isSlideStarted||(this._selectInput(),this._hideScrubber())}},{key:"_inputContainerMouseDownHandler",value:function(e){this._isMouseDown||this._isInputSelected||(this._addActiveClass(),this._mouseStartPosition.x=e.clientX,this._isMouseDown=!0)}},{key:"_inputContainerDoubleClickHandler",value:function(e){this._selectInput()}},{key:"_inputChangeHandler",value:function(e){var n=parseFloat(this.$refs.input.value);this._updateValue(n),this._deselectInput(),this._showScrubber()}},{key:"_inputBlurHandler",value:function(){this._isInputSelected=!1,this._showScrubber()}},{key:"_windowKeyDownHandler",value:function(e){switch(e.keyCode){case 16:this._isShiftDown||(this._isShiftDown=!0,this._mouseStartPosition.x=this._mousePosition.x)}}},{key:"_windowKeyUpHandler",value:function(){this._isShiftDown=!1}}]),o}(z);window.customElements.define("dddd-slider",I);var M=function(e){i(o,e);var t=c(o);function o(e,r){var i;return n(this,o),(i=t.call(this,{root:e,style:".component {\r\n    display: grid;\r\n\r\n    grid-template-columns: var(--label-width) calc(100% - var(--label-width));\r\n    align-items: center;\r\n\r\n    transition: background-color 0.15s;\r\n}\r\n\r\n.label {\r\n    overflow: hidden;\r\n\r\n    padding: var(--label-padding);\r\n\r\n    font-size: var(--label-font-size);\r\n    font-weight: var(--label-font-weight);\r\n    color: var(--label-color);\r\n    white-space: nowrap;\r\n    text-overflow: ellipsis;\r\n}\r\n\r\n.input {\r\n    height: var(--input-height);\r\n\r\n    padding: 0 var(--input-padding);\r\n\r\n    font-family: var(--font);\r\n    font-size: var(--input-font-size);\r\n    font-weight: var(--input-font-weight);\r\n    color: var(--input-text-color);\r\n\r\n    background-color: var(--input-background-color);\r\n\r\n    border: 0;\r\n    border-radius: var(--input-border-radius);\r\n    outline: none;\r\n\r\n    transition: var(--input-background-color-transition);\r\n}\r\n\r\n.input:hover {\r\n    background-color: var(--input-background-color-hover);\r\n}\r\n\r\n.locked .input {\r\n    opacity: 0.6;\r\n\r\n    pointer-events: none;\r\n}\r\n",template:'<div class="component">\r\n    \r\n    \x3c!-- Label --\x3e\r\n    <span class="label">{{ label }}</span>\r\n\r\n    \x3c!-- Input --\x3e\r\n    <input class="input" ref="input">\r\n\r\n</div>',model:r}))._bindHandlers(),i}return r(o,[{key:"connected",value:function(){this._updateInputValue(this.model.value),this._setupEventListeners()}},{key:"destroyed",value:function(){this._removeEventListeners()}},{key:"onListen",value:function(){this._updateInputValue(this.model.value)}},{key:"_bindHandlers",value:function(){this._keyUpHandler=this._keyUpHandler.bind(this)}},{key:"_setupEventListeners",value:function(){this.$refs.input.addEventListener("keyup",this._keyUpHandler)}},{key:"_removeEventListeners",value:function(){this.$refs.input.removeEventListener("keyup",this._keyUpHandler)}},{key:"_updateInputValue",value:function(e){this.$refs.input.value=e}},{key:"_keyUpHandler",value:function(){this.model.value=this.$refs.input.value}}]),o}(z);window.customElements.define("dddd-input",M);var D=function(e){i(o,e);var t=c(o);function o(e,r){var i;return n(this,o),(i=t.call(this,{root:e,style:"*,\r\n*:before,\r\n*:after {\r\n    box-sizing: border-box;\r\n}\r\n\r\n.component {\r\n    display: grid;\r\n\r\n    grid-template-columns: var(--label-width) calc(100% - var(--label-width));\r\n    align-items: start;\r\n\r\n    transition: background-color 0.15s;\r\n}\r\n\r\n.label {\r\n    height: var(--input-height);\r\n    overflow: hidden;\r\n\r\n    padding: var(--label-padding);\r\n\r\n    font-size: var(--label-font-size);\r\n    line-height: var(--input-height);\r\n    font-weight: var(--label-font-weight);\r\n    color: var(--label-color);\r\n    white-space: nowrap;\r\n    text-overflow: ellipsis;\r\n}\r\n\r\n.input {\r\n    width: 100%;\r\n    height: var(--input-height);\r\n\r\n    padding: 0 var(--input-padding);\r\n\r\n    font-family: var(--font);\r\n    font-size: var(--input-font-size);\r\n    font-weight: var(--input-font-weight);\r\n    color: var(--input-text-color);\r\n\r\n    background-color: var(--input-background-color);\r\n\r\n    border: 0;\r\n    border-radius: var(--input-border-radius);\r\n    outline: none;\r\n\r\n    transition: var(--input-background-color-transition);\r\n\r\n    cursor: ew-resize;\r\n}\r\n\r\n.input:hover {\r\n    background-color: var(--input-background-color-hover);\r\n}\r\n\r\n.locked .input {\r\n    opacity: 0.6;\r\n\r\n    pointer-events: none;\r\n}\r\n",template:'<div class="component">\r\n\r\n    \x3c!-- Label --\x3e\r\n    <span class="label">{{ label }}</span>\r\n\r\n    \x3c!-- Input --\x3e\r\n    <input class="input" ref="input">\r\n\r\n</div>\r\n',model:r}))._stepSize=i.model.options.stepSize||.01,i._decimalPlaces=i._getDecimalPlaces(i._stepSize),i._activeInput=null,i._isPointerLockActive=!1,i._mouseCurrentPositionX=0,i._bindHandlers(),i}return r(o,[{key:"connected",value:function(){this._updateInputValue(this.model.value),this._setupEventListeners()}},{key:"destroyed",value:function(){this._removeEventListeners()}},{key:"onListen",value:function(){this._updateInputValue(this.model.value)}},{key:"_bindHandlers",value:function(){this._mouseDownHandler=this._mouseDownHandler.bind(this),this._mouseUpHandler=this._mouseUpHandler.bind(this),this._changeHandler=this._changeHandler.bind(this),this._pointerLockHanderHandler=this._pointerLockHanderHandler.bind(this),this._mouseMoveHandler=this._mouseMoveHandler.bind(this)}},{key:"_setupEventListeners",value:function(){this.$refs.input.addEventListener("mousedown",this._mouseDownHandler),this.$refs.input.addEventListener("mouseup",this._mouseUpHandler),this.$refs.input.addEventListener("change",this._changeHandler),document.addEventListener("pointerlockchange",this._pointerLockHanderHandler),document.addEventListener("mousemove",this._mouseMoveHandler)}},{key:"_removeEventListeners",value:function(){this.$refs.input.removeEventListener("mousedown",this._mouseDownHandler),this.$refs.input.removeEventListener("mouseup",this._mouseUpHandler),this.$refs.input.removeEventListener("change",this._changeHandler),document.removeEventListener("pointerlockchange",this._pointerLockHanderHandler),document.removeEventListener("mousemove",this._mouseMoveHandler)}},{key:"_updateModelValue",value:function(e){this.model.value=e}},{key:"_getInputValueBasedOnMouseMovement",value:function(e){return this.model.value+e*this._stepSize}},{key:"_updateInputValue",value:function(e){this.$refs.input.value=e.toFixed(this._decimalPlaces)}},{key:"_getDecimalPlaces",value:function(e){var n=e.toString().split(".");return n.length>1?n[1].length:0}},{key:"_mouseDownHandler",value:function(e){this.$refs.input.requestPointerLock(),this._isPointerLockActive=!0,this._mouseCurrentPositionX=e.clientX}},{key:"_mouseUpHandler",value:function(){document.exitPointerLock()}},{key:"_changeHandler",value:function(){var e=Number(this.$refs.input.value);this._updateModelValue(e),this.$refs.input.blur()}},{key:"_pointerLockHanderHandler",value:function(){document.pointerLockElement||(this._isPointerLockActive=!1)}},{key:"_mouseMoveHandler",value:function(e){if(this._isPointerLockActive){var n=e.movementX;n=Math.max(Math.min(n,100),-100);var t=this._getInputValueBasedOnMouseMovement(n);this._mouseCurrentPositionX=e.clientX,this._updateInputValue(t),this._updateModelValue(t)}}}]),o}(z);window.customElements.define("dddd-number",D);var T="drop-area",V="TYPE_THREE",j=function(e){i(o,e);var t=c(o);function o(e,r){var i;return n(this,o),(i=t.call(this,{root:e,style:".component {\r\n    display: grid;\r\n\r\n    grid-template-columns: var(--label-width) calc(100% - var(--label-width));\r\n    align-items: start;\r\n}\r\n\r\n.label {\r\n    height: var(--input-height);\r\n    overflow: hidden;\r\n\r\n    padding: var(--label-padding);\r\n\r\n    font-size: var(--label-font-size);\r\n    font-weight: var(--label-font-weight);\r\n    line-height: var(--input-height);\r\n    color: var(--label-color);\r\n    white-space: nowrap;\r\n    text-overflow: ellipsis;\r\n}\r\n\r\n.image-container {\r\n    position: relative;\r\n\r\n    width: 100%;\r\n    aspect-ratio: 16 / 9;\r\n\r\n    overflow: hidden;\r\n\r\n    background-color: var(--input-background-color);\r\n\r\n    border-radius: var(--input-border-radius);\r\n\r\n    transition: var(--input-background-color-transition);\r\n}\r\n\r\n.image-container:hover,\r\n.image-container.drop-area {\r\n    background-color: var(--input-background-color-hover);\r\n}\r\n\r\n.image-container img {\r\n    object-fit: cover;\r\n\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\n.locked .image-container {\r\n    opacity: 0.6;\r\n\r\n    pointer-events: none;\r\n}\r\n\r\n.file-input {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n\r\n    width: 100%;\r\n    height: 100%;\r\n\r\n    border: 0;\r\n    outline: none;\r\n\r\n    cursor: pointer;\r\n}\r\n\r\n.file-input::-webkit-file-upload-button {\r\n    visibility: hidden;\r\n}\r\n\r\n.file-input::before {\r\n    content: '';\r\n\r\n    display: block;\r\n\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n",template:'<div class="component">\r\n    \r\n    \x3c!-- Label --\x3e\r\n    <span class="label">{{ label }}</span>\r\n\r\n    \x3c!-- Image --\x3e\r\n    <div class="image-container" ref="imageContainer">\r\n\r\n        \x3c!-- File input --\x3e\r\n        <input type="file" ref="fileInput" class="file-input" accept=".jpg,.png,.gif">\r\n\r\n    </div>\r\n\r\n</div>',model:r}))._previewImage=null,i._type=i._getType(),i._bindHandlers(),i}return r(o,[{key:"connected",value:function(){this._addPreviewImage(this.model.value),this._setupEventListeners()}},{key:"destroyed",value:function(){this._removeEventListeners()}},{key:"_bindHandlers",value:function(){this._dropHandler=this._dropHandler.bind(this),this._dragEnterHandler=this._dragEnterHandler.bind(this),this._dragOverHandler=this._dragOverHandler.bind(this),this._dragLeaveHandler=this._dragLeaveHandler.bind(this),this._fileInputChangeHandler=this._fileInputChangeHandler.bind(this),this._fileLoadedHandler=this._fileLoadedHandler.bind(this)}},{key:"_setupEventListeners",value:function(){this.$el.addEventListener("drop",this._dropHandler),this.$el.addEventListener("dragenter",this._dragEnterHandler),this.$el.addEventListener("dragover",this._dragOverHandler),this.$el.addEventListener("dragleave",this._dragLeaveHandler),this.$refs.fileInput.addEventListener("change",this._fileInputChangeHandler)}},{key:"_removeEventListeners",value:function(){this.$el.removeEventListener("drop",this._dropHandler),this.$el.removeEventListener("dragenter",this._dragEnterHandler),this.$el.removeEventListener("dragover",this._dragOverHandler),this.$el.removeEventListener("dragleave",this._dragLeaveHandler)}},{key:"_getType",value:function(){return"Texture"===this.model.value.constructor.name?V:"TYPE_IMAGE"}},{key:"_handleFile",value:function(e){var n=new FileReader;n.onloadend=this._fileLoadedHandler,n.readAsDataURL(e)}},{key:"_removePreviewImage",value:function(){this._previewImage&&(this.$refs.imageContainer.removeChild(this._previewImage),this._previewImage=null)}},{key:"_addPreviewImage",value:function(e){this._previewImage=document.createElement("img"),this._type===V?this._previewImage.src=this.model.value.image.src:this._previewImage.src=e,this.$refs.imageContainer.appendChild(this._previewImage)}},{key:"_showDropArea",value:function(){this.$refs.imageContainer.classList.add(T)}},{key:"_hideDropArea",value:function(){this.$refs.imageContainer.classList.remove(T)}},{key:"_dropHandler",value:function(e){e.preventDefault();var n=e.dataTransfer.files[0];this._handleFile(n),this._hideDropArea()}},{key:"_dragEnterHandler",value:function(e){e.preventDefault(),this._showDropArea()}},{key:"_dragOverHandler",value:function(e){e.preventDefault()}},{key:"_dragLeaveHandler",value:function(e){this.$el.contains(e.fromElement)||this._hideDropArea()}},{key:"_fileLoadedHandler",value:function(e){var n=e.target.result;this._type===V?(this.model.value.image.src=n,this.model.value.needsUpdate=!0):this.model.value=n,this._removePreviewImage(),this._addPreviewImage(n)}},{key:"_fileInputChangeHandler",value:function(e){var n=this.$refs.fileInput.files[0];this._handleFile(n)}}]),o}(z);window.customElements.define("dddd-image",j);var P=function(e){i(o,e);var t=c(o);function o(e,r){var i;return n(this,o),(i=t.call(this,{root:e,style:".component {\r\n    display: grid;\r\n\r\n    grid-template-columns: var(--label-width) calc(100% - var(--label-width));\r\n    align-items: center;\r\n}\r\n\r\n.label {\r\n    overflow: hidden;\r\n\r\n    padding: var(--label-padding);\r\n\r\n    font-size: var(--label-font-size);\r\n    font-weight: var(--label-font-weight);\r\n    color: var(--label-color);\r\n    white-space: nowrap;\r\n    text-overflow: ellipsis;\r\n}\r\n\r\n.input-container {\r\n    position: relative;\r\n\r\n    height: var(--input-height);\r\n    overflow: hidden;\r\n\r\n    background-color: var(--input-background-color);\r\n\r\n    border-radius: var(--input-border-radius);\r\n\r\n    user-select: none;\r\n\r\n    transition: var(--input-background-color-transition);\r\n}\r\n\r\n.input-container:hover {\r\n    background-color: var(--input-background-color-hover);\r\n}\r\n\r\n.locked .input-container {\r\n    opacity: 0.6;\r\n\r\n    pointer-events: none;\r\n}\r\n\r\n.select {\r\n    width: 100%;\r\n    height: 100%;\r\n\r\n    border: 0;\r\n    outline: 0;\r\n\r\n    padding: 0 var(--input-padding);\r\n\r\n    background: transparent;\r\n\r\n    font-family: var(--font);\r\n    font-size: var(--input-font-size);\r\n    font-weight: var(--input-font-weight);\r\n    color: var(--input-text-color);\r\n\r\n    appearance: none;\r\n}\r\n\r\n.select option {\r\n    color: black;\r\n}\r\n\r\n.arrow {\r\n    position: absolute;\r\n    top: 0;\r\n    right: var(--input-padding);\r\n    bottom: 0;\r\n\r\n    margin: auto 0;\r\n}\r\n",template:'<div class="component">\r\n    \r\n    \x3c!-- Label --\x3e\r\n    <span class="label">{{ label }}</span>\r\n\r\n    \x3c!-- Input container  --\x3e\r\n    <div class="input-container">\r\n\r\n        \x3c!-- Arrow --\x3e\r\n        <svg width="11" height="6" viewBox="0 0 11 6" class="arrow">\r\n            <path d="M1 1L4.83564 4.40945C5.21452 4.74624 5.78548 4.74624 6.16436 4.40945L10 1" stroke="white" fill="transparent" stroke-opacity="0.74" stroke-linecap="round"/>\r\n        </svg>\r\n        \r\n        \x3c!-- Select --\x3e\r\n        <select class="select" ref="select"></select>\r\n\r\n    </div>\r\n\r\n</div>',model:r}))._bindHandlers(),i}return r(o,[{key:"connected",value:function(){this._addOptions(),this._setupEventListeners()}},{key:"destroyed",value:function(){this._removeEventListeners()}},{key:"onListen",value:function(){this._updateSelectValue(this.model.value)}},{key:"_bindHandlers",value:function(){this._selectChangeHandler=this._selectChangeHandler.bind(this)}},{key:"_setupEventListeners",value:function(){this.$refs.select.addEventListener("change",this._selectChangeHandler)}},{key:"_removeEventListeners",value:function(){this.$refs.select.removeEventListener("change",this._selectChangeHandler)}},{key:"_addOptions",value:function(){for(var e=this.model.options.options,n=0,t=e.length;n<t;n++){var r=e[n],i=document.createElement("option");i.value=r,i.textContent=r,i.selected=r===this.model.value,this.$refs.select.appendChild(i)}}},{key:"_updateSelectValue",value:function(e){this.$refs.select.value=e}},{key:"_selectChangeHandler",value:function(){this.model.value=this.$refs.select.value}}]),o}(z);window.customElements.define("dddd-dropdown",P);var A=function(e){i(o,e);var t=c(o);function o(e,r){var i;return n(this,o),(i=t.call(this,{root:e,style:".component {\r\n    display: grid;\r\n\r\n    grid-template-columns: var(--label-width) calc(100% - var(--label-width));\r\n    align-items: center;\r\n}\r\n\r\n.label {\r\n    overflow: hidden;\r\n\r\n    padding: var(--label-padding);\r\n\r\n    font-size: var(--label-font-size);\r\n    font-weight: var(--label-font-weight);\r\n    color: var(--label-color);\r\n    white-space: nowrap;\r\n    text-overflow: ellipsis;\r\n}\r\n\r\n.input-container {\r\n    position: relative;\r\n\r\n    height: var(--input-height);\r\n    overflow: hidden;\r\n\r\n    background-color: var(--input-background-color);\r\n\r\n    border-radius: var(--input-border-radius);\r\n\r\n    user-select: none;\r\n\r\n    transition: var(--input-background-color-transition);\r\n}\r\n\r\n.input-container:hover {\r\n    background-color: var(--input-background-color-hover);\r\n}\r\n\r\n.locked .input-container {\r\n    opacity: 0.6;\r\n\r\n    pointer-events: none;\r\n}\r\n\r\n.checkbox {\r\n    appearance: none;\r\n\r\n    display: block;\r\n    position: relative;\r\n\r\n    width: 100%;\r\n    height: 100%;\r\n\r\n    margin: 0;\r\n    padding: 0 var(--input-padding);\r\n\r\n    outline: none;\r\n\r\n    cursor: pointer;\r\n}\r\n\r\n.checkbox:after {\r\n    content: '';\r\n\r\n    display: block;\r\n    box-sizing: border-box;\r\n\r\n    position: absolute;\r\n    top: 0;\r\n    bottom: 0;\r\n    left: 10px;\r\n\r\n    width: 16px;\r\n    height: 16px;\r\n\r\n    margin: auto 0;\r\n\r\n    border-radius: 50%;\r\n    border: 1px solid var(--input-highlight-color);\r\n}\r\n\r\n.checkbox:checked:after {\r\n    background: var(--input-highlight-color);\r\n\r\n    border: 0;\r\n}\r\n",template:'<div class="component">\r\n    \r\n    \x3c!-- Label --\x3e\r\n    <span class="label">{{ label }}</span>\r\n\r\n    \x3c!-- Input container  --\x3e\r\n    <div class="input-container">\r\n\r\n        \x3c!-- Checkbox --\x3e\r\n        <input type="checkbox" class="checkbox" ref="checkbox">\r\n\r\n    </div>\r\n\r\n</div>',model:r}))._bindHandlers(),i}return r(o,[{key:"connected",value:function(){this._updateChecked(),this._setupEventListeners()}},{key:"destroyed",value:function(){this._removeEventListeners()}},{key:"onListen",value:function(){this._updateChecked()}},{key:"_bindHandlers",value:function(){this._checkboxChangeHandler=this._checkboxChangeHandler.bind(this)}},{key:"_setupEventListeners",value:function(){this.$refs.checkbox.addEventListener("change",this._checkboxChangeHandler)}},{key:"_removeEventListeners",value:function(){this.$refs.checkbox.removeEventListener("change",this._checkboxChangeHandler)}},{key:"_updateChecked",value:function(){this.$refs.checkbox.checked=this.model.value}},{key:"_checkboxChangeHandler",value:function(){this.model.value=this.$refs.checkbox.checked}}]),o}(z);window.customElements.define("dddd-checkbox",A);var O=function(e){i(o,e);var t=c(o);function o(e,r){var i;return n(this,o),(i=t.call(this,{root:e,style:".component {\r\n    transition: background-color 0.15s;\r\n}\r\n\r\n.button {\r\n    width: calc(100% - var(--label-width));\r\n    height: var(--input-height);\r\n\r\n    padding: 0 var(--input-padding);\r\n    margin-left: var(--label-width);\r\n\r\n    font-family: var(--font);\r\n    font-size: var(--input-font-size);\r\n    font-weight: var(--input-font-weight);\r\n    color: var(--input-text-color);\r\n    \r\n    background-color: var(--input-highlight-color);\r\n\r\n    border: 0;\r\n    border-radius: var(--input-border-radius);\r\n    outline: none;\r\n\r\n    transition: var(--input-background-color-transition);\r\n\r\n    cursor: pointer;\r\n}\r\n\r\n.button:hover {\r\n    background-color: rgba(77, 83, 217, 1);\r\n    background-color: var(--input-highlight-color-hover);\r\n}",template:'<div class="component">\r\n    \r\n    \x3c!-- Button --\x3e\r\n    <button class="button" ref="button">{{ label }}</button>\r\n\r\n</div>',model:r}))._bindHandlers(),i}return r(o,[{key:"connected",value:function(){this._setupEventListeners()}},{key:"destroyed",value:function(){this._removeEventListeners()}},{key:"_bindHandlers",value:function(){this._clickHandler=this._clickHandler.bind(this)}},{key:"_setupEventListeners",value:function(){this.$refs.button.addEventListener("click",this._clickHandler)}},{key:"_removeEventListeners",value:function(){this.$refs.button.removeEventListener("click",this._clickHandler)}},{key:"_clickHandler",value:function(){this.model.value="click"}}]),o}(z);window.customElements.define("dddd-button",O);var U="TYPE_THREE",B=function(e){i(o,e);var t=c(o);function o(e,r){var i;return n(this,o),(i=t.call(this,{root:e,style:".component {\r\n    display: grid;\r\n\r\n    grid-template-columns: var(--label-width) calc(100% - var(--label-width));\r\n    align-items: center;\r\n}\r\n\r\n.label {\r\n    overflow: hidden;\r\n\r\n    padding: var(--label-padding);\r\n\r\n    font-size: var(--label-font-size);\r\n    font-weight: var(--label-font-weight);\r\n    color: var(--label-color);\r\n    white-space: nowrap;\r\n    text-overflow: ellipsis;\r\n}\r\n\r\n.input-container {\r\n    display: grid;\r\n    position: relative;\r\n\r\n    grid-template-columns: 45px calc(50% - 50px) 50%;\r\n    align-items: center;\r\n\r\n    height: var(--input-height);\r\n    overflow: hidden;\r\n\r\n    padding: 0 var(--input-padding) 0 5px;\r\n\r\n    font-family: var(--font);\r\n    font-size: var(--input-font-size);\r\n    font-weight: var(--input-font-weight);\r\n\r\n    background-color: var(--input-background-color);\r\n\r\n    border-radius: var(--input-border-radius);\r\n\r\n    transition: var(--input-background-color-transition);\r\n}\r\n\r\n.input-container:hover {\r\n    background-color: var(--input-background-color-hover);\r\n}\r\n\r\n.color {\r\n    width: 30px;\r\n    height: 30px;\r\n\r\n    margin: 0;\r\n    padding: 0;\r\n\r\n    background: transparent;\r\n\r\n    border: 0;\r\n    outline: 0;\r\n\r\n    appearance: none;\r\n    cursor: pointer;\r\n}\r\n\r\n.color::-webkit-color-swatch-wrapper {\r\n    padding: 0;\r\n}\r\n\r\n.color::-webkit-color-swatch {\r\n    border: none;\r\n    border-radius: 7px;\r\n}\r\n\r\n.color-code {\r\n    color: var(--input-text-color);\r\n}\r\n\r\n.alpha {\r\n    color: var(--input-text-color);\r\n    text-align: right;\r\n}",template:'<div class="component">\r\n    \r\n    \x3c!-- Label --\x3e\r\n    <span class="label">{{ label }}</span>\r\n\r\n    \x3c!-- Input container  --\x3e\r\n    <div class="input-container">\r\n\r\n        \x3c!-- Color --\x3e\r\n        <input type="color" class="color" ref="color">\r\n\r\n        \x3c!-- Color code --\x3e\r\n        <span class="color-code" ref="colorCode"></span>\r\n\r\n        \x3c!-- Alpha --\x3e\r\n        <span class="alpha">100%</span>\r\n\r\n    </div>\r\n\r\n</div>',model:r}))._type=i._getType(),i._bindHandlers(),i}return r(o,[{key:"connected",value:function(){var e=this._getValue();this._setStartColor(e),this._setColorCodeValue(e),this._setupEventListeners()}},{key:"destroyed",value:function(){this._removeEventListeners()}},{key:"_bindHandlers",value:function(){this._inputChangeHandler=this._inputChangeHandler.bind(this)}},{key:"_setupEventListeners",value:function(){this.$refs.color.addEventListener("input",this._inputChangeHandler)}},{key:"_removeEventListeners",value:function(){this.$refs.color.removeEventListener("input",this._inputChangeHandler)}},{key:"_getType",value:function(){return"Color"===this.model.value.constructor.name?U:"TYPE_STRING"}},{key:"_getValue",value:function(){return this._type===U?"#".concat(this.model.value.getHexString()):this.model.value}},{key:"_setStartColor",value:function(e){this.$refs.color.value=e}},{key:"_setColorCodeValue",value:function(e){this.$refs.colorCode.innerText=e}},{key:"_setModelValue",value:function(e){this._type===U?this.model.value.set(e):this.model.value=e}},{key:"_inputChangeHandler",value:function(e){var n=this.$refs.color.value;this._setModelValue(n),this._setColorCodeValue(n)}}]),o}(z);window.customElements.define("dddd-color",B);var R=function(e){i(o,e);var t=c(o);function o(e,r){var i;return n(this,o),(i=t.call(this,{root:e,style:"*,\r\n*:before,\r\n*:after {\r\n    box-sizing: border-box;\r\n}\r\n\r\n.component {\r\n    display: grid;\r\n\r\n    grid-template-columns: var(--label-width) calc(100% - var(--label-width));\r\n    align-items: start;\r\n\r\n    transition: background-color 0.15s;\r\n}\r\n\r\n.label {\r\n    height: var(--input-height);\r\n    overflow: hidden;\r\n\r\n    padding: var(--label-padding);\r\n\r\n    font-size: var(--label-font-size);\r\n    line-height: var(--input-height);\r\n    font-weight: var(--label-font-weight);\r\n    color: var(--label-color);\r\n    white-space: nowrap;\r\n    text-overflow: ellipsis;\r\n}\r\n\r\n.input-container {\r\n    display: grid;\r\n\r\n    grid-template-columns: repeat(3, 1fr);\r\n    gap: var(--component-row-gap);\r\n}\r\n\r\n.input {\r\n    width: 100%;\r\n    height: var(--input-height);\r\n\r\n    padding: 0 var(--input-padding);\r\n\r\n    font-family: var(--font);\r\n    font-size: var(--input-font-size);\r\n    font-weight: var(--input-font-weight);\r\n    color: var(--input-text-color);\r\n\r\n    background-color: var(--input-background-color);\r\n\r\n    border: 0;\r\n    border-radius: var(--input-border-radius);\r\n    outline: none;\r\n\r\n    transition: var(--input-background-color-transition);\r\n\r\n    cursor: ew-resize;\r\n}\r\n\r\n.input:hover {\r\n    background-color: var(--input-background-color-hover);\r\n}\r\n\r\n\r\n.locked .input {\r\n    opacity: 0.6;\r\n\r\n    pointer-events: none;\r\n}\r\n",template:'<div class="component">\r\n    \r\n    \x3c!-- Label --\x3e\r\n    <span class="label">{{ label }}</span>\r\n\r\n    \x3c!-- Input container --\x3e\r\n    <div class="input-container" ref="inputContainer"></div>\r\n\r\n</div>',model:r}))._stepSize=i.model.options.stepSize||.01,i._decimalPlaces=i._getDecimalPlaces(i._stepSize),i._activeInput=null,i._isPointerLockActive=!1,i._inputs=[],i._bindHandlers(),i}return r(o,[{key:"connected",value:function(){this._createInputs(),this._setupEventListeners()}},{key:"destroyed",value:function(){this._removeEventListeners()}},{key:"onListen",value:function(){this._updateAllInputValues(this.model.value)}},{key:"_bindHandlers",value:function(){this._mouseDownHandler=this._mouseDownHandler.bind(this),this._mouseUpHandler=this._mouseUpHandler.bind(this),this._changeHandler=this._changeHandler.bind(this),this._pointerLockHanderHandler=this._pointerLockHanderHandler.bind(this),this._mouseMoveHandler=this._mouseMoveHandler.bind(this)}},{key:"_setupEventListeners",value:function(){this.$el.addEventListener("mousedown",this._mouseDownHandler),this.$el.addEventListener("mouseup",this._mouseUpHandler),this.$el.addEventListener("change",this._changeHandler),document.addEventListener("pointerlockchange",this._pointerLockHanderHandler),document.addEventListener("mousemove",this._mouseMoveHandler)}},{key:"_removeEventListeners",value:function(){this.$el.removeEventListener("mousedown",this._mouseDownHandler),this.$el.removeEventListener("mouseup",this._mouseUpHandler),this.$el.removeEventListener("change",this._changeHandler),document.removeEventListener("pointerlockchange",this._pointerLockHanderHandler),document.removeEventListener("mousemove",this._mouseMoveHandler)}},{key:"_createInputs",value:function(){for(var e in this.model.value){var n=this.model.value[e];if("number"==typeof n){var t=document.createElement("input");t.classList.add("input"),t.value=n,this._inputs.push(t),this.$refs.inputContainer.appendChild(t)}}}},{key:"_updateModelValue",value:function(){for(var e={},n=0,t=Object.entries(Object.entries(this.model.value));n<t.length;n++){var r=h(t[n],2),i=r[0];e[h(r[1],1)[0]]=parseInt(this._inputs[i].value)}this.model.value=e}},{key:"_getInputValueBasedOnMouseMovement",value:function(e){if(this._activeInput)return parseFloat(this._activeInput.value)+e*this._stepSize}},{key:"_updateInputValue",value:function(e){this._activeInput&&(this._activeInput.value=e.toFixed(this._decimalPlaces))}},{key:"_updateAllInputValues",value:function(){for(var e=0,n=Object.entries(Object.entries(this.model.value));e<n.length;e++){var t=h(n[e],2),r=t[0],i=h(t[1],1)[0];this._inputs[r].value=this.model.value[i]}}},{key:"_getDecimalPlaces",value:function(e){var n=e.toString().split(".");return n.length>1?n[1].length:0}},{key:"_mouseDownHandler",value:function(e){"INPUT"===e.target.tagName&&(this._activeInput=e.target,this.$el.requestPointerLock())}},{key:"_mouseUpHandler",value:function(){this._activeInput=null,document.exitPointerLock()}},{key:"_changeHandler",value:function(){this._updateInputValue()}},{key:"_pointerLockHanderHandler",value:function(e){document.pointerLockElement?this._isPointerLockActive=!0:this._isPointerLockActive=!1}},{key:"_mouseMoveHandler",value:function(e){if(this._isPointerLockActive){var n=e.movementX;n=Math.max(Math.min(n,100),-100);var t=this._getInputValueBasedOnMouseMovement(n);this._updateInputValue(t),this._updateModelValue()}}}]),o}(z);window.customElements.define("dddd-multi-input",R);var F=function(e){i(o,e);var t=c(o);function o(e,r){var i;return n(this,o),(i=t.call(this,{root:e,style:"*,\r\n*:before,\r\n*:after {\r\n    box-sizing: border-box;\r\n}\r\n\r\n.component {\r\n    display: grid;\r\n\r\n    grid-template-columns: var(--label-width) calc(100% - var(--label-width));\r\n    align-items: start;\r\n\r\n    transition: background-color 0.15s;\r\n}\r\n\r\n.label {\r\n    height: var(--input-height);\r\n    overflow: hidden;\r\n\r\n    padding: var(--label-padding);\r\n\r\n    font-size: var(--label-font-size);\r\n    line-height: var(--input-height);\r\n    font-weight: var(--label-font-weight);\r\n    color: var(--label-color);\r\n    white-space: nowrap;\r\n    text-overflow: ellipsis;\r\n}\r\n\r\n.input-container {\r\n    overflow: hidden;\r\n\r\n    border-radius: var(--input-border-radius);\r\n}\r\n\r\n.input-container canvas {\r\n    max-width: 100%;\r\n}\r\n",template:'<div class="component">\r\n    \r\n    \x3c!-- Label --\x3e\r\n    <span class="label">{{ label }}</span>\r\n\r\n    \x3c!-- Input container --\x3e\r\n    <div class="input-container" ref="inputContainer"></div>\r\n\r\n</div>',model:r}))._bindHandlers(),i}return r(o,[{key:"connected",value:function(){this._addCanvas(),this._setupEventListeners()}},{key:"destroyed",value:function(){this._removeEventListeners()}},{key:"onListen",value:function(){}},{key:"_bindHandlers",value:function(){}},{key:"_setupEventListeners",value:function(){}},{key:"_removeEventListeners",value:function(){}},{key:"_addCanvas",value:function(){this.$refs.inputContainer.appendChild(this.model.options.canvas)}}]),o}(z);window.customElements.define("dddd-canvas",F);var G={slider:I,text:M,number:D,image:j,dropdown:P,checkbox:A,button:O,color:B,multiInput:R,canvas:F},N=function(){function e(t){var r=t.root;n(this,e),this._root=r,this._components=[],this._bindHandlers(),this._setupEventListeners()}return r(e,[{key:"destroy",value:function(){this._destroyComponents(),this._removeEventListeners()}},{key:"create",value:function(e){$.addComponent(e);var n=e.type,t=new(0,G[n])(this._root,e);return this._components.push(t),this._addComponentToContainer(t),t}},{key:"remove",value:function(e){this._root.layout.getContainer(e.container).removeChild(e),e.destroy()}},{key:"update",value:function(e){this._getById(e.id).model.value=e.value}},{key:"updateObjects",value:function(e){for(var n,t,r=0,i=e.length;r<i;r++)(n=e[r]).options.listen&&(t=this._getById(n.id))&&(t.model.object=n.object)}},{key:"resize",value:function(){var e,n=g(this._components);try{for(n.s();!(e=n.n()).done;){e.value.resize()}}catch(e){n.e(e)}finally{n.f()}}},{key:"_bindHandlers",value:function(){this._tick=this._tick.bind(this)}},{key:"_setupEventListeners",value:function(){this._requestAnimationFrame=window.requestAnimationFrame(this._tick)}},{key:"_removeEventListeners",value:function(){window.cancelAnimationFrame(this._requestAnimationFrame)}},{key:"_addComponentToContainer",value:function(e){var n=e.model.options.container;this._root.layout.getContainer(n).appendChild(e),this._root.layout.resize()}},{key:"_getById",value:function(e){var n,t=g(this._components);try{for(t.s();!(n=t.n()).done;){var r=n.value;if(r.model.id===e)return r}}catch(e){t.e(e)}finally{t.f()}}},{key:"_destroyComponents",value:function(){var e,n=g(this._components);try{for(n.s();!(e=n.n()).done;){e.value.destroy()}}catch(e){n.e(e)}finally{n.f()}}},{key:"_tick",value:function(){window.requestAnimationFrame(this._tick),this._tickComponents()}},{key:"_tickComponents",value:function(){for(var e=0,n=this._components.length;e<n;e++)this._components[e].tick()}},{key:"_sendModelsToDevtools",value:function(){for(var e=[],n=0,t=this._components.length;n<t;n++)e.push(this._components[n].model.getData());window.postMessage({source:"dddd-page",payload:{action:"update-objects",models:e}})}}]),e}(),W=function(){function t(e){var r=e.root,i=e.object,o=e.property,a=e.options,s=e.id,l=e.type,u=e.value,d=e.onChangeCallback;n(this,t),this._root=r,this._object=i||{},this._property=o,this._options=a||{},this._id=s||this._generateId(),this._type=l||this._detectType(),this._value=u||this._object[this._property],this._onChangeCallback=d,this._options.container instanceof E&&(this._options.container=this._options.container.label)}return r(t,[{key:"value",get:function(){return this._value},set:function(e){this._value=e,this._object[this._property]=this._value,"function"==typeof this._options.onChange&&this._options.onChange(this._value),"button"===this._type&&"click"===this._value&&"function"==typeof this._options.onClick&&this._options.onClick(e),this._root.isDevtools&&"function"==typeof this._onChangeCallback&&this._onChangeCallback(this.getData())}},{key:"object",get:function(){return this._object},set:function(e){this._object=e}},{key:"options",get:function(){return this._options}},{key:"property",get:function(){return this._property}},{key:"type",get:function(){return this._type}},{key:"id",get:function(){return this._id}},{key:"getData",value:function(){return{object:this._object,property:this._property,options:this._removeFunctions(this._options),id:this._id,type:this._type,value:this._value}}},{key:"updateValueFromObject",value:function(){this._value=this._object[this._property]}},{key:"_generateId",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var n=16*Math.random()|0;return("x"===e?n:3&n|8).toString(16)}))}},{key:"_detectType",value:function(){var n;if(!(this._property in this._object))throw new Error("Property '".concat(this._property,"' does not exists"));var t=null===(n=this._object)||void 0===n?void 0:n[this._property];if("Texture"===t.constructor.name)return"image";if("image"===this._options.type)return"image";if("canvas"===this._options.type)return"canvas";if(this._options.options&&"object"===e(this._options.options))return"dropdown";if("number"==typeof t&&"number"==typeof this._options.min&&"number"==typeof this._options.max)return"slider";if("Color"===t.constructor.name)return"color";if(/^#[0-9A-F]{6}$/i.test(t))return"color";if("object"===e(t))return"multiInput";if("boolean"==typeof t)return"checkbox";if("number"==typeof t)return"number";if("string"==typeof t)return"text";throw new Error("Input type not detected")}},{key:"_removeFunctions",value:function(n){var t=JSON.parse(JSON.stringify(n));return function n(t){for(var r in t)"object"===e(t[r])&&null!==t[r]?n(t[r]):"function"==typeof t[r]&&delete t[r]}(t),t}}]),t}(),K=function(){function e(t){var r=t.root,i=t.onLayerChange;n(this,e),this._root=r,this._onLayerChangeCallback=i,this._container=this._createContainer(),this._navigation=this._createNavigation(),this._layers=this._createLayers(),this._components=this._createComponents(),this._isVisible=!0,this._groups={},this._bindHandlers(),this._setupEventListeners()}return r(e,[{key:"destroy",value:function(){this._container.destroy(),this._navigation.destroy(),this._layers.destroy(),this._components.destroy(),this._removeElement(),this._removeContainerElement()}},{key:"components",get:function(){return this._components}},{key:"addLayer",value:function(e){this._navigation.add(e);var n=this._layers.add(e);return this._layers.resize(),$.addLayer(e),n}},{key:"gotoLayer",value:function(e){var n=this._layers.getIndexByLabel(e);this._navigation.goto(n),this._layers.goto(n),this._components.resize()}},{key:"addGroup",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=new E({root:this._root,layout:this,label:e,options:n}),r=this.getContainer(n.container);return r.appendChild(t),this._groups[e]=t,this._layers.resize(),$.addGroup(e,n),t}},{key:"addComponent",value:function(e){var n=e.object,t=e.property,r=e.options,i=e.id,o=e.type,a=e.onChangeCallback,s=new W({root:this._root,object:n,property:t,options:r,id:i,type:o,onChangeCallback:a});return this._components.create(s)}},{key:"getLayer",value:function(e){return this._layers.get(e)}},{key:"getContainer",value:function(e){var n=this._layers.get(e);if(n)return n;var t=this._groups[e];return t?t.content:void 0}},{key:"remove",value:function(){document.body.removeChild(this._container)}},{key:"resize",value:function(){this._layers.resize(),this._components.resize()}},{key:"toggleVisibility",value:function(){this._isVisible?(this._container.hide(),this._layers.hide(),this._navigation.hide(),this._isVisible=!1):(this._container.show(),this._layers.show(),this._navigation.show(),this._isVisible=!0),this._layers.resize()}},{key:"_bindHandlers",value:function(){this._navigationSwitchHandler=this._navigationSwitchHandler.bind(this)}},{key:"_setupEventListeners",value:function(){this._navigation.addEventListener("switch",this._navigationSwitchHandler)}},{key:"_removeEventListeners",value:function(){this._navigation.addEventListener("switch",this._navigationSwitchHandler)}},{key:"_createContainer",value:function(){var e=new b({root:this._root});return document.body.appendChild(e),e}},{key:"_createNavigation",value:function(){var e=new w({root:this._root});return this._container.content.appendChild(e),e}},{key:"_createLayers",value:function(){var e=new L({root:this._root});return this._container.content.appendChild(e),e}},{key:"_createComponents",value:function(){return new N({root:this._root,layout:this})}},{key:"_getGroupContainer",value:function(e,n){var t;if(n){if(!(t=this._layers.get(n)))throw new Error("Layer '".concat(n,"' not found"))}else{if(!this._layers.isEmpty())throw new Error("No 'container' defined for group '".concat(e,"'"));t=this._layers.add()}return t}},{key:"_removeContainerElement",value:function(){document.body.removeChild(this._container)}},{key:"_navigationSwitchHandler",value:function(e){if(this._layers.goto(e.detail.index),this._components.resize(),"function"==typeof this._onLayerChangeCallback){var n=this._layers.getByIndex(e.detail.index).label;this._onLayerChangeCallback(n)}}}]),e}();return function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.devtools,i=t.onChange,o=t.onLayerChange;n(this,e),this._isDevtools=r,this._onChangeCallback=i,this._layout=new K({root:this,onLayerChange:o}),this._bindHandlers(),this._setupEventListeners()}return r(e,[{key:"destroy",value:function(){this._layout.destroy(),this._removeEventListeners()}},{key:"isDevtools",get:function(){return this._isDevtools}},{key:"layout",get:function(){return this._layout}},{key:"add",value:function(e,n,t){return this._layout.addComponent({object:e,property:n,options:t})}},{key:"remove",value:function(e){}},{key:"addButton",value:function(e){return this._layout.addComponent({options:e,type:"button"})}},{key:"addCanvas",value:function(e){return this._layout.addComponent({options:e,type:"canvas"})}},{key:"addLayer",value:function(e){return this._layout.addLayer(e)}},{key:"gotoLayer",value:function(e){this._layout.gotoLayer(e)}},{key:"addGroup",value:function(e,n){return this._layout.addGroup(e,n)}},{key:"createLayoutFromModel",value:function(e,n){var t,r=g(e.layers);try{for(r.s();!(t=r.n()).done;){var i=t.value;this.createLayer(i)}}catch(e){r.e(e)}finally{r.f()}var o,a=g(e.groups);try{for(a.s();!(o=a.n()).done;){var s=o.value;this.createGroup(s.label,s.options)}}catch(e){a.e(e)}finally{a.f()}var l,u=g(e.components);try{for(u.s();!(l=u.n()).done;){var d=l.value;this._layout.createComponent({object:d.object,property:d.property,options:d.options,id:d.id,type:d.type,onChangeCallback:this._onChangeCallback})}}catch(e){u.e(e)}finally{u.f()}"function"==typeof n&&n()}},{key:"isLayoutSidebar",value:function(){return!this._isDevtools}},{key:"_bindHandlers",value:function(){this._messageHandler=this._messageHandler.bind(this)}},{key:"_setupEventListeners",value:function(){window.addEventListener("message",this._messageHandler)}},{key:"_removeEventListeners",value:function(){window.removeEventListener("message",this._messageHandler)}},{key:"_sendLayoutModel",value:function(){var e=$.get();window.postMessage({source:"dddd-page",payload:{action:"setup",layoutModel:e}})}},{key:"_messageHandler",value:function(e){var n=e.data.source,t=e.data.payload;if("dddd-devtools-proxy"===n&&t)switch(t.action){case"init":this._sendLayoutModel();break;case"setup-complete":this._layout.remove();break;case"change":this._layout.components.update(t.modelData)}if(this._isDevtools&&"dddd-page"===n&&t)switch(t.action){case"update-objects":t.models[0]}}}]),e}()}));
