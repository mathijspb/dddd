!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e="undefined"!=typeof globalThis?globalThis:e||self).DDDD=n()}(this,(function(){"use strict";"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var e=function(e){var n={exports:{}};return e(n,n.exports),n.exports}((function(e,n){e.exports=function(){
/*!
	   * mustache.js - Logic-less {{mustache}} templates with JavaScript
	   * http://github.com/janl/mustache.js
	   */
var e=Object.prototype.toString,n=Array.isArray||function(n){return"[object Array]"===e.call(n)};function t(e){return"function"==typeof e}function i(e){return n(e)?"array":typeof e}function o(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function s(e,n){return null!=e&&"object"==typeof e&&n in e}function r(e,n){return null!=e&&"object"!=typeof e&&e.hasOwnProperty&&e.hasOwnProperty(n)}var a=RegExp.prototype.test;function l(e,n){return a.call(e,n)}var d=/\S/;function h(e){return!l(d,e)}var c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function u(e){return String(e).replace(/[&<>"'`=\/]/g,(function(e){return c[e]}))}var p=/\s*/,_=/\s+/,g=/\s*=/,v=/\s*\}/,b=/#|\^|\/|>|\{|&|=|!/;function m(e,t){if(!e)return[];var i,s,r,a=!1,l=[],d=[],c=[],u=!1,m=!1,x="",H=0;function L(){if(u&&!m)for(;c.length;)delete d[c.pop()];else c=[];u=!1,m=!1}function C(e){if("string"==typeof e&&(e=e.split(_,2)),!n(e)||2!==e.length)throw new Error("Invalid tags: "+e);i=new RegExp(o(e[0])+"\\s*"),s=new RegExp("\\s*"+o(e[1])),r=new RegExp("\\s*"+o("}"+e[1]))}C(t||k.tags);for(var E,$,z,M,I,D,S=new y(e);!S.eos();){if(E=S.pos,z=S.scanUntil(i))for(var V=0,T=z.length;V<T;++V)h(M=z.charAt(V))?(c.push(d.length),x+=M):(m=!0,a=!0,x+=" "),d.push(["text",M,E,E+1]),E+=1,"\n"===M&&(L(),x="",H=0,a=!1);if(!S.scan(i))break;if(u=!0,$=S.scan(b)||"name",S.scan(p),"="===$?(z=S.scanUntil(g),S.scan(g),S.scanUntil(s)):"{"===$?(z=S.scanUntil(r),S.scan(v),S.scanUntil(s),$="&"):z=S.scanUntil(s),!S.scan(s))throw new Error("Unclosed tag at "+S.pos);if(I=">"==$?[$,z,E,S.pos,x,H,a]:[$,z,E,S.pos],H++,d.push(I),"#"===$||"^"===$)l.push(I);else if("/"===$){if(!(D=l.pop()))throw new Error('Unopened section "'+z+'" at '+E);if(D[1]!==z)throw new Error('Unclosed section "'+D[1]+'" at '+E)}else"name"===$||"{"===$||"&"===$?m=!0:"="===$&&C(z)}if(L(),D=l.pop())throw new Error('Unclosed section "'+D[1]+'" at '+S.pos);return w(f(d))}function f(e){for(var n,t,i=[],o=0,s=e.length;o<s;++o)(n=e[o])&&("text"===n[0]&&t&&"text"===t[0]?(t[1]+=n[1],t[3]=n[3]):(i.push(n),t=n));return i}function w(e){for(var n,t=[],i=t,o=[],s=0,r=e.length;s<r;++s)switch((n=e[s])[0]){case"#":case"^":i.push(n),o.push(n),i=n[4]=[];break;case"/":o.pop()[5]=n[2],i=o.length>0?o[o.length-1][4]:t;break;default:i.push(n)}return t}function y(e){this.string=e,this.tail=e,this.pos=0}function x(e,n){this.view=e,this.cache={".":this.view},this.parent=n}function H(){this.templateCache={_cache:{},set:function(e,n){this._cache[e]=n},get:function(e){return this._cache[e]},clear:function(){this._cache={}}}}y.prototype.eos=function(){return""===this.tail},y.prototype.scan=function(e){var n=this.tail.match(e);if(!n||0!==n.index)return"";var t=n[0];return this.tail=this.tail.substring(t.length),this.pos+=t.length,t},y.prototype.scanUntil=function(e){var n,t=this.tail.search(e);switch(t){case-1:n=this.tail,this.tail="";break;case 0:n="";break;default:n=this.tail.substring(0,t),this.tail=this.tail.substring(t)}return this.pos+=n.length,n},x.prototype.push=function(e){return new x(e,this)},x.prototype.lookup=function(e){var n,i=this.cache;if(i.hasOwnProperty(e))n=i[e];else{for(var o,a,l,d=this,h=!1;d;){if(e.indexOf(".")>0)for(o=d.view,a=e.split("."),l=0;null!=o&&l<a.length;)l===a.length-1&&(h=s(o,a[l])||r(o,a[l])),o=o[a[l++]];else o=d.view[e],h=s(d.view,e);if(h){n=o;break}d=d.parent}i[e]=n}return t(n)&&(n=n.call(this.view)),n},H.prototype.clearCache=function(){void 0!==this.templateCache&&this.templateCache.clear()},H.prototype.parse=function(e,n){var t=this.templateCache,i=e+":"+(n||k.tags).join(":"),o=void 0!==t,s=o?t.get(i):void 0;return null==s&&(s=m(e,n),o&&t.set(i,s)),s},H.prototype.render=function(e,n,t,i){var o=this.parse(e,i),s=n instanceof x?n:new x(n,void 0);return this.renderTokens(o,s,t,e,i)},H.prototype.renderTokens=function(e,n,t,i,o){for(var s,r,a,l="",d=0,h=e.length;d<h;++d)a=void 0,"#"===(r=(s=e[d])[0])?a=this.renderSection(s,n,t,i):"^"===r?a=this.renderInverted(s,n,t,i):">"===r?a=this.renderPartial(s,n,t,o):"&"===r?a=this.unescapedValue(s,n):"name"===r?a=this.escapedValue(s,n):"text"===r&&(a=this.rawValue(s)),void 0!==a&&(l+=a);return l},H.prototype.renderSection=function(e,i,o,s){var r=this,a="",l=i.lookup(e[1]);function d(e){return r.render(e,i,o)}if(l){if(n(l))for(var h=0,c=l.length;h<c;++h)a+=this.renderTokens(e[4],i.push(l[h]),o,s);else if("object"==typeof l||"string"==typeof l||"number"==typeof l)a+=this.renderTokens(e[4],i.push(l),o,s);else if(t(l)){if("string"!=typeof s)throw new Error("Cannot use higher-order sections without the original template");null!=(l=l.call(i.view,s.slice(e[3],e[5]),d))&&(a+=l)}else a+=this.renderTokens(e[4],i,o,s);return a}},H.prototype.renderInverted=function(e,t,i,o){var s=t.lookup(e[1]);if(!s||n(s)&&0===s.length)return this.renderTokens(e[4],t,i,o)},H.prototype.indentPartial=function(e,n,t){for(var i=n.replace(/[^ \t]/g,""),o=e.split("\n"),s=0;s<o.length;s++)o[s].length&&(s>0||!t)&&(o[s]=i+o[s]);return o.join("\n")},H.prototype.renderPartial=function(e,n,i,o){if(i){var s=t(i)?i(e[1]):i[e[1]];if(null!=s){var r=e[6],a=e[5],l=e[4],d=s;return 0==a&&l&&(d=this.indentPartial(s,l,r)),this.renderTokens(this.parse(d,o),n,i,d,o)}}},H.prototype.unescapedValue=function(e,n){var t=n.lookup(e[1]);if(null!=t)return t},H.prototype.escapedValue=function(e,n){var t=n.lookup(e[1]);if(null!=t)return k.escape(t)},H.prototype.rawValue=function(e){return e[1]};var k={name:"mustache.js",version:"4.0.1",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(e){L.templateCache=e},get templateCache(){return L.templateCache}},L=new H;return k.clearCache=function(){return L.clearCache()},k.parse=function(e,n){return L.parse(e,n)},k.render=function(e,n,t,o){if("string"!=typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+i(e)+'" was given as the first argument for mustache#render(template, view, partials)');return L.render(e,n,t,o)},k.escape=u,k.Scanner=y,k.Context=x,k.Writer=H,k}()}));class n extends HTMLElement{constructor({root:e,style:n,template:t,templateData:i}){super(),this.__root=e,this.attachShadow({mode:"open"}),this.__element=this.__addTemplate(t,i),this.__addStyle(n),this.$el=this.__getRootElement(),this.$refs=this.__getReferences()}connectedCallback(){this.__triggerConnected()}destroy(){this.__triggerDestroyed()}get $root(){return this.__root}get element(){return this.__element}__addTemplate(n,t={}){"object"==typeof n&&(n=this.$root.isLayoutSidebar()?n.templateSidebar:n.templateDevtools);const i=e.render(n,t);return this.shadowRoot.innerHTML=i,this.shadowRoot.firstChild}__addStyle(e){"object"==typeof e&&(e=this.$root.isLayoutSidebar()?e.styleSidebar:e.styleDevtools);const n=document.createElement("style"),t=document.createTextNode(e);n.appendChild(t),this.shadowRoot.appendChild(n)}__getRootElement(){return this.shadowRoot.firstChild}__getReferences(){const e={},n=this.shadowRoot.querySelectorAll("[ref]");let t,i;for(let o=0,s=n.length;o<s;o++)t=n[o],i=t.getAttribute("ref"),e[i]=t;return e}__triggerConnected(){"function"==typeof this.connected&&this.connected()}__triggerDestroyed(){"function"==typeof this.destroyed&&this.destroyed()}}class t extends n{constructor({root:e}){super({root:e,style:{styleSidebar:"*,\n*:before,\n*:after {\n    box-sizing: border-box;\n}\n\n.dddd {\n    /* Layout */\n    --font: 'Arial', sans-serif;\n    --background-color: #161616;\n\n    /* Panels */\n    --panel-background-color: #1B1B1B;\n    --panel-spacing: 10px;\n\n    /* Groups */\n    --group-header-padding: 14px;\n    --group-header-font-size: 13px;\n    --group-header-background-color: rgba(255, 255, 255, 0.03);\n    --group-padding: 15px;\n    --group-border-radius: 10px;\n\n    /* Components */\n    --component-row-gap: 7px;\n\n    /* Label */\n    --label-width: 35%;\n    --label-padding: 0 20px 0 0;\n    --label-color: rgba(255, 255, 255, 0.75);\n    --label-font-size: 12px;\n    --label-font-weight: 400;\n\n    /* Input */\n    --input-background-color: rgba(255, 255, 255, 0.03);\n    --input-background-color-hover: rgba(255, 255, 255, 0.08);\n    --input-background-color-transition: background-color 0.35s ease-out;\n    --input-highlight-color: rgba(77, 83, 217, 0.64);\n    --input-highlight-color-hover: rgba(77, 83, 217, 1);\n    --input-text-color: rgba(255, 255, 255, 0.75);\n    --input-font-size: 12px;\n    --input-font-weight: 300;\n    --input-border-radius: 6px;\n    --input-padding: 14px;\n    --input-height: 34px;\n\n    position: fixed;\n    top: 0;\n    right: 0;\n\n    width: 300px;\n    height: 100%;\n    max-height: 100vh;\n\n    background: var(--background-color);\n}\n\n.content {\n    width: 100%;\n    height: 100%;\n    overflow: auto;\n}\n\n.resize-handle {\n    position: absolute;\n\n    padding: 0;\n\n    background-color: transparent;\n\n    border: 0;\n    outline: 0;\n}\n\n.resize-handle.side {\n    top: 0;\n    left: 0;\n\n    width: 6px;\n    height: 100%;\n\n    cursor: ew-resize;\n}\n\n.resize-handle.bottom {\n    bottom: 0;\n    left: 0;\n\n    width: 100%;\n    height: 6px;\n\n    cursor: ns-resize;\n}\n\n.resize-handle.corner {\n    bottom: 0;\n    left: 0;\n\n    width: 10px;\n    height: 10px;\n\n    cursor: nesw-resize;\n}\n",styleDevtools:"*,\n*:before,\n*:after {\n    box-sizing: border-box;\n}\n\n.dddd {\n    /* Layout */\n    --font: 'Arial', sans-serif;\n    --background-color: #161616;\n\n    /* Panels */\n    --panel-background-color: #1B1B1B;\n    --panel-spacing: 15px;\n\n    /* Groups */\n    --group-header-font-size: 15px;\n    --group-header-background-color: rgba(255, 255, 255, 0.03);\n    --group-padding: 30px;\n    --group-border-radius: 10px;\n\n    /* Components */\n    --component-row-gap: 7px;\n\n    /* Label */\n    --label-width: 30%;\n    --label-padding: 0 20px 0 0;\n    --label-color: rgba(255, 255, 255, 0.75);\n    --label-font-size: 14px;\n    --label-font-weight: 400;\n    \n    /* Input */\n    --input-background-color: rgba(255, 255, 255, 0.03);\n    --input-background-color-hover: rgba(255, 255, 255, 0.08);\n    --input-background-color-transition: background-color 0.35s ease-out;\n    --input-highlight-color: rgba(77, 83, 217, 0.64);\n    --input-highlight-color-hover: rgba(77, 83, 217, 1);\n    --input-text-color: rgba(255, 255, 255, 0.75);\n    --input-font-size: 14px;\n    --input-font-weight: 300;\n    --input-border-radius: 10px;\n    --input-padding: 16px;\n    --input-height: 40px;\n\n    background: var(--background-color);\n}\n"},template:{templateSidebar:'<div class="dddd">\n\n    \x3c!-- Content --\x3e\n    <div class="content" ref="content"></div>\n\n    \x3c!-- Resize handle --\x3e\n    <button class="resize-handle side" ref="resizeHandleSide"></button>\n    <button class="resize-handle bottom" ref="resizeHandleBottom"></button>\n    <button class="resize-handle corner" ref="resizeHandleCorner"></button>\n\n</div>\n',templateDevtools:'<div class="dddd">\n\n    \x3c!-- Content --\x3e\n    <div class="content" ref="content"></div>\n\n</div>\n'}}),this._isMouseDown=!1,this._width=0,this._height=0,this._axis={x:0,y:0},this._bindHandlers(),this._setupEventListeners()}destroyed(){this._removeEventListeners()}get content(){return this.$refs.content}show(){this.$el.style.width=`${this._width}px`,this._height?this.$el.style.height=`${this._height}px`:this.$el.style.height="100%"}hide(){this._width=this.$el.offsetWidth,this.$el.style.width="auto",this.$el.style.height="auto"}_bindHandlers(){this._resizeHandleSideMouseDownHandler=this._resizeHandleSideMouseDownHandler.bind(this),this._resizeHandleBottomMouseDownHandler=this._resizeHandleBottomMouseDownHandler.bind(this),this._resizeHandleCornerMouseDownHandler=this._resizeHandleCornerMouseDownHandler.bind(this),this._windowMouseUpHandler=this._windowMouseUpHandler.bind(this),this._windowMouseMoveHandler=this._windowMouseMoveHandler.bind(this)}_setupEventListeners(){this.$root.isDevtools||(this.$refs.resizeHandleSide.addEventListener("mousedown",this._resizeHandleSideMouseDownHandler),this.$refs.resizeHandleBottom.addEventListener("mousedown",this._resizeHandleBottomMouseDownHandler),this.$refs.resizeHandleCorner.addEventListener("mousedown",this._resizeHandleCornerMouseDownHandler),window.addEventListener("mouseup",this._windowMouseUpHandler),window.addEventListener("mousemove",this._windowMouseMoveHandler))}_removeEventListeners(){this.$root.isDevtools||(this.$refs.resizeHandleCorner.removeEventListener("mousedown",this._resizeHandleCornerMouseDownHandler),window.removeEventListener("mouseup",this._windowMouseUpHandler),window.removeEventListener("mousemove",this._windowMouseMoveHandler))}_resize(e,n){this._axis.x&&(this._width=window.innerWidth-e,this.$el.style.width=`${this._width}px`),this._axis.y&&(this._height=n,this.$el.style.height=`${this._height}px`),this.$root.layout.resize()}_resizeHandleSideMouseDownHandler(){this._isMouseDown=!0,this._axis.x=1,this._axis.y=0}_resizeHandleBottomMouseDownHandler(){this._isMouseDown=!0,this._axis.x=0,this._axis.y=1}_resizeHandleCornerMouseDownHandler(){this._isMouseDown=!0,this._axis.x=1,this._axis.y=1}_windowMouseUpHandler(){this._isMouseDown=!1}_windowMouseMoveHandler(e){this._isMouseDown&&this._resize(e.clientX,e.clientY)}}window.customElements.define("dddd-container",t);const i="navigation-button",o="active";class s extends n{constructor({root:e}){super({root:e,style:{styleSidebar:".navigation {\n    display: none;\n\n    grid-template-columns: 1fr var(--input-height);\n    column-gap: var(--panel-spacing);\n\n    padding: var(--panel-spacing);\n\n    background-color: var(--panel-background-color);\n\n    box-shadow: 0px 0px 30px 2px rgba(0, 0, 0, 0.05);\n}\n\n.select-container {\n    position: relative;\n\n    height: var(--input-height);\n    overflow: hidden;\n\n    background-color: var(--input-background-color);\n\n    border-radius: var(--input-border-radius);\n\n    user-select: none;\n\n    transition: var(--input-background-color-transition);\n}\n\n.select-container:hover {\n    background-color: var(--input-background-color-hover);\n}\n\n.select {\n    width: 100%;\n    height: 100%;\n\n    border: 0;\n    outline: 0;\n\n    padding: 0 var(--input-padding);\n\n    background: transparent;\n\n    font-family: var(--font);\n    font-size: var(--input-font-size);\n    font-weight: var(--input-font-weight);\n    color: var(--input-text-color);\n\n    appearance: none;\n}\n\n.select option {\n    color: black;\n}\n\n.arrow {\n    position: absolute;\n    top: 0;\n    right: var(--input-padding);\n    bottom: 0;\n\n    margin: auto 0;\n}\n\n.button-toggle {\n    position: relative;\n\n    width: var(--input-height);\n    height: var(--input-height);\n\n    background-color: var(--input-background-color);\n\n    border: 0;\n    border-radius: var(--input-border-radius);\n    outline: 0;\n\n    cursor: pointer;\n\n    transition: var(--input-background-color-transition);\n}\n\n.button-toggle:hover {\n    background-color: var(--input-background-color-hover);\n}\n\n.button-toggle__line {\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n\n    width: 12px;\n    height: 2px;\n\n    margin: auto;\n\n    background: var(--input-text-color);\n}\n",styleDevtools:".navigation {\n    display: none;\n    \n    padding: var(--panel-spacing);\n\n    font-size: 0;\n\n    list-style: none;\n\n    background-color: var(--panel-background-color);\n\n    box-shadow: 0px 0px 30px 2px rgba(0, 0, 0, 0.05);\n}\n\n.navigation li {\n    display: inline-block;\n\n    margin-right: 10px;\n}\n\n.navigation-button {\n    padding: 13px 30px;\n\n    color: rgba(255, 255, 255, 0.5);\n\n    background-color: transparent;\n\n    border: 0;\n    border-radius: 12px;\n    outline: 0;\n\n    font-family: var(--font);\n    font-size: 13px;\n    font-weight: 600;\n\n    cursor: pointer;\n\n    transition: all 0.3s ease-out;\n}\n\n.navigation-button:hover {\n    background-color: rgba(255, 255, 255, 0.01);\n}\n\n.navigation-button.active {\n    color: rgba(255, 255, 255, 0.9);\n\n    background-color: rgba(255, 255, 255, 0.03);\n}"},template:{templateSidebar:'<div class="navigation">\n\n    \x3c!-- Select container--\x3e\n    <div class="select-container" ref="selectContainer">\n\n        \x3c!-- Arrow --\x3e\n        <svg width="11" height="6" viewBox="0 0 11 6" class="arrow">\n            <path d="M1 1L4.83564 4.40945C5.21452 4.74624 5.78548 4.74624 6.16436 4.40945L10 1" stroke="white" fill="transparent" stroke-opacity="0.74" stroke-linecap="round"/>\n        </svg>\n\n        \x3c!-- Select --\x3e\n        <select class="select" ref="select"></select>\n\n    </div>\n\n    \x3c!-- Button toggle --\x3e\n    <button class="button-toggle" ref="buttonToggle">\n        <div class="button-toggle__line"></div>\n    </button>\n\n</div>\n',templateDevtools:'<ul class="navigation"></ul>\n'}}),this._activeIndex=0,this._elements=[],this._bindHandlers(),this._setupEventListeners()}destroy(){this._removeEventListeners()}add(e){if(0===this._elements.length&&this._show(),this.$root.isLayoutSidebar()){const n=document.createElement("option");n.innerText=e,n.value=this._elements.length,this._elements.push(n),this.$refs.select.appendChild(n)}else{const n=document.createElement("button");n.classList.add(i),this.$el.children.length===this._activeIndex&&n.classList.add(o),n.innerText=e;const t=document.createElement("li");t.appendChild(n),this._elements.push(t),this.$el.appendChild(t)}}show(){this.$refs.selectContainer.style.display="block",this.$el.style.display="grid"}hide(){this.$refs.selectContainer.style.display="none",this.$el.style.display="block"}_bindHandlers(){this._clickHandler=this._clickHandler.bind(this),this._selectChangeHandler=this._selectChangeHandler.bind(this),this._clickButtonToggle=this._clickButtonToggle.bind(this)}_setupEventListeners(){this.$el.addEventListener("click",this._clickHandler),this.$refs.select&&this.$refs.select.addEventListener("change",this._selectChangeHandler),this.$refs.buttonToggle&&this.$refs.buttonToggle.addEventListener("click",this._clickButtonToggle)}_removeEventListeners(){this.$el.removeEventListener("click",this._clickHandler),this.$refs.select&&this.$refs.select.removeEventListener("change",this._selectChangeHandler),this.$refs.buttonToggle&&this.$refs.buttonToggle.removeEventListener("click",this._clickButtonToggle)}_show(){this.$el.style.display="grid"}_getNavigationButtonIndex(e){return Array.prototype.indexOf.call(this.$el.children,e)}_switch(e){this.$el.children[this._activeIndex].firstChild.classList.remove(o),this._activeIndex=e,this.$el.children[this._activeIndex].firstChild.classList.add(o),this._triggerSwitchEvent(this._activeIndex)}_triggerSwitchEvent(e){this._activeIndex=e;const n=new CustomEvent("switch",{detail:{index:this._activeIndex}});this.dispatchEvent(n)}_clickHandler(e){if(e.target.closest(".navigation-button")){const n=this._getNavigationButtonIndex(e.target.parentElement);this._switch(n)}}_selectChangeHandler(){const e=parseInt(this.$refs.select.value);this._triggerSwitchEvent(e)}_clickButtonToggle(){this.$root.layout.toggleVisibility()}}window.customElements.define("dddd-navigation",s);const r="active";class a extends n{constructor({root:e,label:n}){super({root:e,style:"*,\n*:before,\n*:after {\n    box-sizing: border-box;\n}\n\n.layer {\n    display: none;\n\n    position: relative;\n\n    width: 100%;\n    overflow: hidden;\n}\n\n.layer.active {\n    display: block;\n}\n",template:'<div class="layer"></div>',templateData:{label:n}}),this._label=n,this._containerWidth=0,this._itemWidth=0,this._columnsHeight=[],this._bindHandlers(),this._setupEventListeners()}destroy(){this._removeEventListeners()}get label(){return this._label}addGroup(e){return this.$root.addGroup(e,{container:this._label})}activate(){this.$el.classList.add(r)}deactivate(){this.$el.classList.remove(r)}resize(){this._resize()}_bindHandlers(){this._resizeHandler=this._resizeHandler.bind(this)}_setupEventListeners(){window.addEventListener("resize",this._resizeHandler)}_removeEventListeners(){window.removeEventListener("resize",this._resizeHandler)}_resize(){0!==this.$el.children.length&&(this._containerWidth=this.$el.offsetWidth,this._columnCount=this._getColumCount(),this._itemGap=this._getItemGap(),this._itemWidth=this._getItemWidth(),this._resetColumnHeight(),this.$root.isLayoutSidebar()||(this._positionGroups(),this._updateHeight()))}_getColumCount(){return Math.max(Math.floor(this._containerWidth/350),1)}_getItemWidth(){const e=this._itemGap*(this._columnCount-1);return Math.floor((this._containerWidth-e)/this._columnCount)}_getItemGap(){const e=this.$el.children[0].element,n=window.getComputedStyle(e);return parseInt(n.marginRight)}_getItemHeight(e){const n=window.getComputedStyle(e);let t=e.offsetHeight;return t+=parseInt(n.marginBottom),t}_resetColumnHeight(){this._columnsHeight=[];for(let e=0;e<this._columnCount;e++)this._columnsHeight.push(0)}_positionGroups(){for(const e of this.$el.children){const n=this._getNexColumnIndex(),t=(n<this._columnCount?this._itemGap:0)*n,i=n*this._itemWidth+t,o=this._columnsHeight[n],s=this._getItemHeight(e.element);this._columnsHeight[n]+=s,e.element.style.position="absolute",e.element.style.transform=`translate(${i}px, ${o}px)`,e.element.style.width=`${this._itemWidth}px`}}_getNexColumnIndex(){const e=this._columnsHeight.slice(0).sort(((e,n)=>e-n)).shift();return this._columnsHeight.indexOf(e)}_updateHeight(){const e=Math.max(...this._columnsHeight);this.$el.style.height=`${e}px`}_resizeHandler(){this._resize()}}window.customElements.define("dddd-layer",a);class l extends n{constructor({root:e}){super({root:e,style:"*,\n*:before,\n*:after {\n    box-sizing: border-box;\n}\n\n.layers {\n    position: relative;\n\n    width: 100%;\n\n    /* padding: var(--panel-spacing) var(--panel-spacing) 0 var(--panel-spacing); */\n    padding: var(--panel-spacing);\n\n    -webkit-font-smoothing: antialiased;\n    font-family: var(--font);\n    font-weight: 300;\n    font-size: 13px;\n}\n",template:'<div class="layers"></div>'}),this._activeIndex=0,this._layers=[]}add(e){const n=new a({root:this.$root,label:e});return this._layers.length===this._activeIndex&&n.activate(),this._layers.push(n),this.$el.appendChild(n),n}goto(e){const n=this._activeIndex,t=e;this._layers[n].deactivate(),this._layers[t].activate(),this._activeIndex=t,this._resizeLayers()}get(e){for(const n of this._layers)if(n.label===e)return n.element;return null}isEmpty(){return 0===this._layers.length}resize(){this._resizeLayers()}show(){this.$el.style.display="block"}hide(){this.$el.style.display="none"}_resizeLayers(){for(const e of this._layers)e.resize()}}window.customElements.define("dddd-layers",l);class d extends n{constructor({root:e,label:n,options:t}){super({root:e,style:{styleSidebar:'*,\n*:before,\n*:after {\n    box-sizing: border-box;\n}\n\n.group {\n    overflow: hidden;\n\n    /* margin: 0 var(--panel-spacing) var(--panel-spacing) 0; */\n\n    background-color: var(--panel-background-color);\n\n    border-radius: var(--group-border-radius);\n\n    box-shadow: 0px 0px 30px 2px rgba(0, 0, 0, 0.05);\n}\n\n[data-level="1"].group {\n    border-radius: 0;\n    margin: 0 calc(var(--group-padding) * -1);\n    box-shadow: 0;\n}\n\n[data-level="1"] .button-header {\n    margin-bottom: 0;\n\n    background: rgba(255, 255, 255, 0.01);\n}\n\n[data-level="1"] .label {\n    font-size: 12px;\n}\n\n[data-level="1"] .content {\n    background: rgba(255, 255, 255, 0.01);\n}\n\n.button-header {\n    position: relative;\n\n    width: 100%;\n\n    padding: 0;\n    margin-bottom: var(--group-padding);\n\n    text-align: left;\n\n    background-color: var(--group-header-background-color);\n\n    border: 0;\n    outline: 0;\n    cursor: pointer;\n}\n\n.label {\n    display: block;\n\n    padding: var(--group-header-padding);\n\n    font-size: var(--group-header-font-size);\n    font-weight: 600;\n    color: white;\n    letter-spacing: 0.025em;\n}\n\n.arrow {\n    position: absolute;\n    top: 0;\n    right: calc(var(--panel-spacing) + 7px);\n    bottom: 0;\n\n    margin: auto 0;\n}\n\n.content {\n    display: grid;\n\n    row-gap: var(--component-row-gap);\n\n    padding: 0 var(--group-padding) var(--group-padding);\n}\n',styleDevtools:"*,\n*:before,\n*:after {\n    box-sizing: border-box;\n}\n\n.group {\n    padding: calc(var(--group-padding) - 3px) var(--group-padding) var(--group-padding);\n    margin: 0 var(--panel-spacing) var(--panel-spacing) 0;\n\n    background-color: var(--panel-background-color);\n    \n    border-radius: var(--group-border-radius);\n\n    box-shadow: 0px 0px 30px 2px rgba(0, 0, 0, 0.05);\n}\n\n.label {\n    display: block;\n\n    margin-bottom: 20px;\n\n    font-size: var(--group-header-font-size);\n    font-weight: 600;\n    color: white;\n    letter-spacing: 0.025em;\n}\n\n.content {\n    display: grid;\n\n    row-gap: var(--component-row-gap);\n}"},template:{templateSidebar:'<div class="group">\n\n    \x3c!-- Button header --\x3e\n    <button class="button-header" ref="buttonHeader">\n\n        \x3c!-- Label --\x3e\n        <span class="label">\n            {{ label }}\n        </span>\n\n        \x3c!-- Arrow --\x3e\n        <svg width="11" height="6" viewBox="0 0 11 6" class="arrow">\n            <path d="M1 1L4.83564 4.40945C5.21452 4.74624 5.78548 4.74624 6.16436 4.40945L10 1" stroke="white" fill="transparent" stroke-opacity="0.74" stroke-linecap="round"/>\n        </svg>\n\n    </button>\n\n    \x3c!-- Content --\x3e\n    <div class="content" ref="content"></div>\n\n</div>\n',templateDevtools:'<div class="group sidebar">\n\n    \x3c!-- Label --\x3e\n    <span class="label">{{ label }}</span>\n\n    \x3c!-- Content --\x3e\n    <div class="content" ref="content"></div>\n\n</div>\n'},templateData:{label:n}}),this._label=n,this._options=t,this._parent=t.parent,this._isContentVisible=!0,this._bindHandlers(),this._setupEventListeners(),this._addLevelClass()}destroyed(){this._removeEventListeners()}get label(){return this._label}get content(){return this.$refs.content}add(e,n,t={}){return t.container=this,this.$root.add(e,n,t)}addButton(e){return e.container=this,this.$root.addButton(e)}addGroup(e){return this.$root.addGroup(e,{container:this._label,parent:this})}_bindHandlers(){this._clickHandler=this._clickHandler.bind(this)}_setupEventListeners(){this.$refs.buttonHeader&&this.$refs.buttonHeader.addEventListener("click",this._clickHandler)}_removeEventListeners(){this.$refs.buttonHeader&&this.$refs.buttonHeader.removeEventListener("click",this._clickHandler)}_addLevelClass(){let e=0;!function n(t){t._parent&&(e++,n(t._parent))}(this),this.$el.dataset.level=e}_toggleContent(){this._isContentVisible=!this._isContentVisible,this.$refs.content.style.display=this._isContentVisible?"grid":"none"}_clickHandler(){this._toggleContent()}}window.customElements.define("dddd-group",d);var h=new class{constructor(){this._layers=[],this._groups=[],this._components=[]}addLayer(e){this._layers.push(e)}addGroup(e,n={}){this._groups.push({label:e,options:n})}addComponent(e){this._components.push(e)}get(){return{layers:this._layers,groups:this._groups,components:this._getComponents()}}_getComponents(){const e=[];for(const n of this._components)e.push(n.getData());return e}};class c extends HTMLElement{constructor({root:e,model:n,style:t,template:i}){super(),this.__root=e,this.__model=n,this.attachShadow({mode:"open"}),this.$el=this.__addTemplate(i),this.$refs=this.__getReferences(this.$el),this.__addStyle(t),this.__addLockedClass(),this.__bindHandlers()}connectedCallback(){this.__setupEventListeners(),this.__triggerResize(),this.__triggerConnected()}destroy(){this.__removeEventListeners(),this.__triggerDestroyed()}get $root(){return this.__root}get model(){return this.__model}get container(){return this.__model.options.container}tick(){this.__triggerTick(),this.model.options.listen&&(this.model.updateValueFromObject(),this.__triggerOnListen())}__bindHandlers(){this.__resizeHandler=this.__resizeHandler.bind(this)}__setupEventListeners(){window.addEventListener("resize",this.__resizeHandler)}__removeEventListeners(){window.removeEventListener("resize",this.__resizeHandler)}__addTemplate(n){const t={label:this.__getLabel()},i=e.render(n,t);return this.shadowRoot.innerHTML=i,this.shadowRoot.firstChild}__addStyle(e){const n=document.createElement("style"),t=document.createTextNode(e);n.appendChild(t),this.shadowRoot.appendChild(n)}__getLabel(){return this.__model.options.label?this.__model.options.label:this.__model.property}__getReferences(e){const n={},t=e.querySelectorAll("[ref]");let i,o;for(let e=0,s=t.length;e<s;e++)i=t[e],o=i.getAttribute("ref"),n[o]=i;return n}__addLockedClass(){this.model.options.locked&&this.$el.classList.add("locked")}__triggerConnected(){"function"==typeof this.connected&&this.connected()}__triggerDestroyed(){"function"==typeof this.destroyed&&this.destroyed()}__triggerResize(){"function"==typeof this.onResize&&this.onResize()}__triggerTick(){"function"==typeof this.onTick&&this.onTick()}__triggerOnListen(){"function"==typeof this.onListen&&this.onListen()}__resizeHandler(){this.__triggerResize()}}const u="active";class p extends c{constructor(e,n){super({root:e,style:".component {\n    display: grid;\n\n    grid-template-columns: var(--label-width) calc(100% - var(--label-width));\n    align-items: center;\n}\n\n.label {\n    overflow: hidden;\n\n    padding: var(--label-padding);\n\n    font-size: var(--label-font-size);\n    font-weight: var(--label-font-weight);\n    color: var(--label-color);\n    white-space: nowrap;\n    text-overflow: ellipsis;\n}\n\n.input-container {\n    position: relative;\n\n    height: var(--input-height);\n    overflow: hidden;\n\n    background-color: var(--input-background-color);\n\n    border-radius: var(--input-border-radius);\n\n    user-select: none;\n\n    transition: var(--input-background-color-transition);\n\n    cursor: col-resize;\n}\n\n.input-container:hover,\n.input-container.active {\n    background-color: var(--input-background-color-hover);\n}\n\n.locked .input-container {\n    opacity: 0.6;\n\n    pointer-events: none;\n}\n\n.scrubber {\n    position: absolute;\n    top: 0;\n    left: 0;\n\n    width: 100%;\n    height: 100%;\n\n    background: var(--input-highlight-color);\n\n    transform-origin: top left;\n}\n\n.input {\n    position: relative;\n    display: block;\n\n    width: 100%;\n    height: 100%;\n\n    padding: 0 var(--input-padding);\n\n    background-color: transparent;\n\n    font-family: var(--font);\n    font-size: var(--input-font-size);\n    font-weight: var(--input-font-weight);\n    line-height: var(--input-height);\n    color: var(--input-text-color);\n\n    outline: none;\n    border: 0;\n\n    pointer-events: none;\n}\n",template:'<div class="component">\n    \n    \x3c!-- Label --\x3e\n    <span class="label">{{ label }}</span>\n\n    \x3c!-- Input container --\x3e\n    <div class="input-container" ref="inputContainer">\n\n        \x3c!-- Scrubber --\x3e\n        <div class="scrubber" ref="scrubber"></div>\n        \n        \x3c!-- Input --\x3e\n        <input class="input" ref="input">\n\n    </div>\n\n</div>',model:n}),this._scrubberOffset=0,this._inputContainer={x:0,width:0},this._scrubber={width:0},this._mouseStartPosition={x:0,y:0},this._mousePosition={x:0,y:0},this._inputContainerWidth=null,this._isMouseDown=!1,this._isShiftDown=!1,this._isSlideStarted=!1,this._bindHandlers()}connected(){this._updateValue(this.model.value),this._setupEventListeners()}destroyed(){this._removeEventListeners()}onResize(){this._resize()}onTick(){this._scaleScrubber(this.model.value)}onListen(){this._updateInputValue(this.model.value),this._scaleScrubber(this.model.value)}_bindHandlers(){this._windowMouseMoveHandler=this._windowMouseMoveHandler.bind(this),this._windowMouseUpHandler=this._windowMouseUpHandler.bind(this),this._inputContainerMouseDownHandler=this._inputContainerMouseDownHandler.bind(this),this._inputContainerMouseUpHandler=this._inputContainerMouseUpHandler.bind(this),this._inputContainerDoubleClickHandler=this._inputContainerDoubleClickHandler.bind(this),this._inputChangeHandler=this._inputChangeHandler.bind(this),this._inputBlurHandler=this._inputBlurHandler.bind(this),this._windowKeyDownHandler=this._windowKeyDownHandler.bind(this),this._windowKeyUpHandler=this._windowKeyUpHandler.bind(this)}_setupEventListeners(){this.$refs.inputContainer.addEventListener("mousedown",this._inputContainerMouseDownHandler),this.$refs.inputContainer.addEventListener("mouseup",this._inputContainerMouseUpHandler),this.$refs.inputContainer.addEventListener("dblclick",this._inputContainerDoubleClickHandler),this.$refs.input.addEventListener("change",this._inputChangeHandler),this.$refs.input.addEventListener("blur",this._inputBlurHandler),window.addEventListener("mousemove",this._windowMouseMoveHandler),window.addEventListener("mouseup",this._windowMouseUpHandler),window.addEventListener("keydown",this._windowKeyDownHandler),window.addEventListener("keyup",this._windowKeyUpHandler)}_removeEventListeners(){this.$refs.inputContainer.removeEventListener("mousedown",this._inputContainerMouseDownHandler),this.$refs.inputContainer.removeEventListener("mouseup",this._inputContainerMouseUpHandler),this.$refs.inputContainer.removeEventListener("dblclick",this._inputContainerDoubleClickHandler),this.$refs.input.removeEventListener("change",this._inputChangeHandler),this.$refs.input.removeEventListener("blur",this._inputBlurHandler),window.removeEventListener("mousemove",this._windowMouseMoveHandler),window.removeEventListener("mouseup",this._windowMouseUpHandler),window.removeEventListener("keydown",this._windowKeyDownHandler),window.removeEventListener("keyup",this._windowKeyUpHandler)}_updateValue(e){this.model.value=Math.max(Math.min(e,this.model.options.max),this.model.options.min),this._updateInputValue(this.model.value)}_calcValue(e){const n=this._isShiftDown?.3:1,t=(e-this._mouseStartPosition.x)*n,i=(this._mouseStartPosition.x-this._inputContainer.x+t)/this._inputContainerWidth;return this._map(i,0,1,this.model.options.min,this.model.options.max)}_scaleScrubber(e){const n=this._map(e,this.model.options.min,this.model.options.max,0,1);this.$refs.scrubber.style.transform=`scaleX(${n})`}_showScrubber(){this.$refs.scrubber.style.display="block"}_hideScrubber(){this.$refs.scrubber.style.display="none"}_updateInputValue(e){const n=(Math.round(100*e)/100).toFixed(2);this.$refs.input.value=n}_map(e,n,t,i,o){return(e-n)*(o-i)/(t-n)+i}_resize(){this._inputContainer=this._getContainerData(),this._inputContainerWidth=this._inputContainer.width,this._scaleScrubber(this.model.value)}_getContainerData(){const e=this.$refs.inputContainer.getBoundingClientRect();return{x:e.left,width:e.width}}_selectInput(){this._isInputSelected=!0,this.$refs.input.select()}_deselectInput(){this._isInputSelected=!1,this.$refs.input.blur()}_addActiveClass(){this.$refs.inputContainer.classList.add(u)}_removeActiveClass(){this.$refs.inputContainer.classList.remove(u)}_windowMouseMoveHandler(e){if(this._isMouseDown){this._mousePosition.x=e.clientX,Math.abs(this._mouseStartPosition.x-e.clientX)>2&&(this._isSlideStarted=!0);const n=this._calcValue(e.clientX);this._updateValue(n)}}_windowMouseUpHandler(e){this._isMouseDown=!1,this._isSlideStarted=!1,this._removeActiveClass()}_inputContainerMouseUpHandler(){this._isSlideStarted||(this._selectInput(),this._hideScrubber())}_inputContainerMouseDownHandler(e){this._isMouseDown||this._isInputSelected||(this._addActiveClass(),this._mouseStartPosition.x=e.clientX,this._isMouseDown=!0)}_inputContainerDoubleClickHandler(e){this._selectInput()}_inputChangeHandler(e){const n=parseFloat(this.$refs.input.value);this._updateValue(n),this._deselectInput(),this._showScrubber()}_inputBlurHandler(){this._isInputSelected=!1,this._showScrubber()}_windowKeyDownHandler(e){switch(e.keyCode){case 16:this._isShiftDown||(this._isShiftDown=!0,this._mouseStartPosition.x=this._mousePosition.x)}}_windowKeyUpHandler(){this._isShiftDown=!1}}window.customElements.define("dddd-slider",p);class _ extends c{constructor(e,n){super({root:e,style:".component {\n    display: grid;\n\n    grid-template-columns: var(--label-width) calc(100% - var(--label-width));\n    align-items: center;\n\n    transition: background-color 0.15s;\n}\n\n.label {\n    overflow: hidden;\n\n    padding: var(--label-padding);\n\n    font-size: var(--label-font-size);\n    font-weight: var(--label-font-weight);\n    color: var(--label-color);\n    white-space: nowrap;\n    text-overflow: ellipsis;\n}\n\n.input {\n    height: var(--input-height);\n\n    padding: 0 var(--input-padding);\n\n    font-family: var(--font);\n    font-size: var(--input-font-size);\n    font-weight: var(--input-font-weight);\n    color: var(--input-text-color);\n\n    background-color: var(--input-background-color);\n\n    border: 0;\n    border-radius: var(--input-border-radius);\n    outline: none;\n\n    transition: var(--input-background-color-transition);\n}\n\n.input:hover {\n    background-color: var(--input-background-color-hover);\n}\n\n.locked .input {\n    opacity: 0.6;\n\n    pointer-events: none;\n}\n",template:'<div class="component">\n    \n    \x3c!-- Label --\x3e\n    <span class="label">{{ label }}</span>\n\n    \x3c!-- Input --\x3e\n    <input class="input" ref="input">\n\n</div>',model:n}),this._bindHandlers()}connected(){this._updateInputValue(this.model.value),this._setupEventListeners()}destroyed(){this._removeEventListeners()}onListen(){this._updateInputValue(this.model.value)}_bindHandlers(){this._keyUpHandler=this._keyUpHandler.bind(this)}_setupEventListeners(){this.$refs.input.addEventListener("keyup",this._keyUpHandler)}_removeEventListeners(){this.$refs.input.removeEventListener("keyup",this._keyUpHandler)}_updateInputValue(e){this.$refs.input.value=e}_keyUpHandler(){this.model.value=this.$refs.input.value}}window.customElements.define("dddd-input",_);class g extends c{constructor(e,n){super({root:e,style:"*,\n*:before,\n*:after {\n    box-sizing: border-box;\n}\n\n.component {\n    display: grid;\n\n    grid-template-columns: var(--label-width) calc(100% - var(--label-width));\n    align-items: start;\n\n    transition: background-color 0.15s;\n}\n\n.label {\n    height: var(--input-height);\n    overflow: hidden;\n\n    padding: var(--label-padding);\n\n    font-size: var(--label-font-size);\n    line-height: var(--input-height);\n    font-weight: var(--label-font-weight);\n    color: var(--label-color);\n    white-space: nowrap;\n    text-overflow: ellipsis;\n}\n\n.input {\n    width: 100%;\n    height: var(--input-height);\n\n    padding: 0 var(--input-padding);\n\n    font-family: var(--font);\n    font-size: var(--input-font-size);\n    font-weight: var(--input-font-weight);\n    color: var(--input-text-color);\n\n    background-color: var(--input-background-color);\n\n    border: 0;\n    border-radius: var(--input-border-radius);\n    outline: none;\n\n    transition: var(--input-background-color-transition);\n\n    cursor: ew-resize;\n}\n\n.input:hover {\n    background-color: var(--input-background-color-hover);\n}\n\n.locked .input {\n    opacity: 0.6;\n\n    pointer-events: none;\n}\n",template:'<div class="component">\n\n    \x3c!-- Label --\x3e\n    <span class="label">{{ label }}</span>\n\n    \x3c!-- Input --\x3e\n    <input class="input" ref="input">\n\n</div>\n',model:n}),this._stepSize=this.model.options.stepSize||.01,this._decimalPlaces=this._getDecimalPlaces(this._stepSize),this._activeInput=null,this._isPointerLockActive=!1,this._bindHandlers()}connected(){this._updateInputValue(this.model.value),this._setupEventListeners()}destroyed(){this._removeEventListeners()}onListen(){this._updateInputValue(this.model.value)}_bindHandlers(){this._mouseDownHandler=this._mouseDownHandler.bind(this),this._mouseUpHandler=this._mouseUpHandler.bind(this),this._changeHandler=this._changeHandler.bind(this),this._pointerLockHanderHandler=this._pointerLockHanderHandler.bind(this),this._mouseMoveHandler=this._mouseMoveHandler.bind(this)}_setupEventListeners(){this.$refs.input.addEventListener("mousedown",this._mouseDownHandler),this.$refs.input.addEventListener("mouseup",this._mouseUpHandler),this.$refs.input.addEventListener("change",this._changeHandler),document.addEventListener("pointerlockchange",this._pointerLockHanderHandler),document.addEventListener("mousemove",this._mouseMoveHandler)}_removeEventListeners(){this.$refs.input.removeEventListener("mousedown",this._mouseDownHandler),this.$refs.input.removeEventListener("mouseup",this._mouseUpHandler),this.$refs.input.removeEventListener("change",this._changeHandler),document.removeEventListener("pointerlockchange",this._pointerLockHanderHandler),document.removeEventListener("mousemove",this._mouseMoveHandler)}_updateModelValue(e){this.model.value=e}_getInputValueBasedOnMouseMovement(e){return this.model.value+e*this._stepSize}_updateInputValue(e){this.$refs.input.value=e.toFixed(this._decimalPlaces)}_getDecimalPlaces(e){const n=e.toString().split(".");return n.length>1?n[1].length:0}_mouseDownHandler(e){this.$refs.input.requestPointerLock(),this._isPointerLockActive=!0}_mouseUpHandler(){document.exitPointerLock()}_changeHandler(){this._updateModelValue(this.$refs.input.value)}_pointerLockHanderHandler(){document.pointerLockElement||(this._isPointerLockActive=!1)}_mouseMoveHandler(e){if(this._isPointerLockActive){const n=this._getInputValueBasedOnMouseMovement(e.movementX);this._updateInputValue(n),this._updateModelValue(n)}}}window.customElements.define("dddd-number",g);const v="drop-area";class b extends c{constructor(e,n){super({root:e,style:".component {\n    display: grid;\n\n    grid-template-columns: var(--label-width) calc(100% - var(--label-width));\n    align-items: start;\n}\n\n.label {\n    height: var(--input-height);\n    overflow: hidden;\n\n    padding: var(--label-padding);\n\n    font-size: var(--label-font-size);\n    font-weight: var(--label-font-weight);\n    line-height: var(--input-height);\n    color: var(--label-color);\n    white-space: nowrap;\n    text-overflow: ellipsis;\n}\n\n.image-container {\n    position: relative;\n\n    width: 100%;\n    aspect-ratio: 16 / 9;\n\n    overflow: hidden;\n\n    background-color: var(--input-background-color);\n\n    border-radius: var(--input-border-radius);\n\n    transition: var(--input-background-color-transition);\n}\n\n.image-container:hover,\n.image-container.drop-area {\n    background-color: var(--input-background-color-hover);\n}\n\n.image-container img {\n    object-fit: cover;\n\n    width: 100%;\n    height: 100%;\n}\n\n.locked .image-container {\n    opacity: 0.6;\n\n    pointer-events: none;\n}\n\n.file-input {\n    position: absolute;\n    top: 0;\n    left: 0;\n\n    width: 100%;\n    height: 100%;\n\n    border: 0;\n    outline: none;\n\n    cursor: pointer;\n}\n\n.file-input::-webkit-file-upload-button {\n    visibility: hidden;\n}\n\n.file-input::before {\n    content: '';\n\n    display: block;\n\n    width: 100%;\n    height: 100%;\n}\n",template:'<div class="component">\n    \n    \x3c!-- Label --\x3e\n    <span class="label">{{ label }}</span>\n\n    \x3c!-- Image --\x3e\n    <div class="image-container" ref="imageContainer">\n\n        \x3c!-- File input --\x3e\n        <input type="file" ref="fileInput" class="file-input" accept=".jpg,.png,.gif">\n\n    </div>\n\n</div>',model:n}),this._previewImage=null,this._bindHandlers()}connected(){this._addPreviewImage(this.model.value),this._setupEventListeners()}destroyed(){this._removeEventListeners()}_bindHandlers(){this._dropHandler=this._dropHandler.bind(this),this._dragEnterHandler=this._dragEnterHandler.bind(this),this._dragOverHandler=this._dragOverHandler.bind(this),this._dragLeaveHandler=this._dragLeaveHandler.bind(this),this._fileInputChangeHandler=this._fileInputChangeHandler.bind(this),this._fileLoadedHandler=this._fileLoadedHandler.bind(this)}_setupEventListeners(){this.$el.addEventListener("drop",this._dropHandler),this.$el.addEventListener("dragenter",this._dragEnterHandler),this.$el.addEventListener("dragover",this._dragOverHandler),this.$el.addEventListener("dragleave",this._dragLeaveHandler),this.$refs.fileInput.addEventListener("change",this._fileInputChangeHandler)}_removeEventListeners(){this.$el.removeEventListener("drop",this._dropHandler),this.$el.removeEventListener("dragenter",this._dragEnterHandler),this.$el.removeEventListener("dragover",this._dragOverHandler),this.$el.removeEventListener("dragleave",this._dragLeaveHandler)}_handleFile(e){const n=new FileReader;n.onloadend=this._fileLoadedHandler,n.readAsDataURL(e)}_removePreviewImage(){this._previewImage&&(this.$refs.imageContainer.removeChild(this._previewImage),this._previewImage=null)}_addPreviewImage(e){this._previewImage=document.createElement("img"),this._previewImage.src=e,this.$refs.imageContainer.appendChild(this._previewImage)}_showDropArea(){this.$refs.imageContainer.classList.add(v)}_hideDropArea(){this.$refs.imageContainer.classList.remove(v)}_dropHandler(e){e.preventDefault();const n=e.dataTransfer.files[0];this._handleFile(n),this._hideDropArea()}_dragEnterHandler(e){e.preventDefault(),this._showDropArea()}_dragOverHandler(e){e.preventDefault()}_dragLeaveHandler(e){this.$el.contains(e.fromElement)||this._hideDropArea()}_fileLoadedHandler(e){const n=e.target.result;this.model.value=n,this._removePreviewImage(),this._addPreviewImage(n)}_fileInputChangeHandler(e){const n=this.$refs.fileInput.files[0];this._handleFile(n)}}window.customElements.define("dddd-image",b);class m extends c{constructor(e,n){super({root:e,style:".component {\n    display: grid;\n\n    grid-template-columns: var(--label-width) calc(100% - var(--label-width));\n    align-items: center;\n}\n\n.label {\n    overflow: hidden;\n\n    padding: var(--label-padding);\n\n    font-size: var(--label-font-size);\n    font-weight: var(--label-font-weight);\n    color: var(--label-color);\n    white-space: nowrap;\n    text-overflow: ellipsis;\n}\n\n.input-container {\n    position: relative;\n\n    height: var(--input-height);\n    overflow: hidden;\n\n    background-color: var(--input-background-color);\n\n    border-radius: var(--input-border-radius);\n\n    user-select: none;\n\n    transition: var(--input-background-color-transition);\n}\n\n.input-container:hover {\n    background-color: var(--input-background-color-hover);\n}\n\n.locked .input-container {\n    opacity: 0.6;\n\n    pointer-events: none;\n}\n\n.select {\n    width: 100%;\n    height: 100%;\n\n    border: 0;\n    outline: 0;\n\n    padding: 0 var(--input-padding);\n\n    background: transparent;\n\n    font-family: var(--font);\n    font-size: var(--input-font-size);\n    font-weight: var(--input-font-weight);\n    color: var(--input-text-color);\n\n    appearance: none;\n}\n\n.select option {\n    color: black;\n}\n\n.arrow {\n    position: absolute;\n    top: 0;\n    right: var(--input-padding);\n    bottom: 0;\n\n    margin: auto 0;\n}\n",template:'<div class="component">\n    \n    \x3c!-- Label --\x3e\n    <span class="label">{{ label }}</span>\n\n    \x3c!-- Input container  --\x3e\n    <div class="input-container">\n\n        \x3c!-- Arrow --\x3e\n        <svg width="11" height="6" viewBox="0 0 11 6" class="arrow">\n            <path d="M1 1L4.83564 4.40945C5.21452 4.74624 5.78548 4.74624 6.16436 4.40945L10 1" stroke="white" fill="transparent" stroke-opacity="0.74" stroke-linecap="round"/>\n        </svg>\n        \n        \x3c!-- Select --\x3e\n        <select class="select" ref="select"></select>\n\n    </div>\n\n</div>',model:n}),this._bindHandlers()}connected(){this._addOptions(),this._setupEventListeners()}destroyed(){this._removeEventListeners()}onListen(){this._updateSelectValue(this.model.value)}_bindHandlers(){this._selectChangeHandler=this._selectChangeHandler.bind(this)}_setupEventListeners(){this.$refs.select.addEventListener("change",this._selectChangeHandler)}_removeEventListeners(){this.$refs.select.removeEventListener("change",this._selectChangeHandler)}_addOptions(){const e=this.model.options.options;for(let n=0,t=e.length;n<t;n++){const t=e[n],i=document.createElement("option");i.value=t,i.textContent=t,i.selected=t===this._value,this.$refs.select.appendChild(i)}}_updateSelectValue(e){this.$refs.select.value=e}_selectChangeHandler(){this.model.value=this.$refs.select.value}}window.customElements.define("dddd-dropdown",m);class f extends c{constructor(e,n){super({root:e,style:".component {\n    display: grid;\n\n    grid-template-columns: var(--label-width) calc(100% - var(--label-width));\n    align-items: center;\n}\n\n.label {\n    overflow: hidden;\n\n    padding: var(--label-padding);\n\n    font-size: var(--label-font-size);\n    font-weight: var(--label-font-weight);\n    color: var(--label-color);\n    white-space: nowrap;\n    text-overflow: ellipsis;\n}\n\n.input-container {\n    position: relative;\n\n    height: var(--input-height);\n    overflow: hidden;\n\n    background-color: var(--input-background-color);\n\n    border-radius: var(--input-border-radius);\n\n    user-select: none;\n\n    transition: var(--input-background-color-transition);\n}\n\n.input-container:hover {\n    background-color: var(--input-background-color-hover);\n}\n\n.locked .input-container {\n    opacity: 0.6;\n\n    pointer-events: none;\n}\n\n.checkbox {\n    appearance: none;\n\n    display: block;\n    position: relative;\n\n    width: 100%;\n    height: 100%;\n\n    margin: 0;\n    padding: 0 var(--input-padding);\n\n    outline: none;\n\n    cursor: pointer;\n}\n\n.checkbox:after {\n    content: '';\n\n    display: block;\n    box-sizing: border-box;\n\n    position: absolute;\n    top: 0;\n    bottom: 0;\n\n    width: 17px;\n    height: 17px;\n\n    margin: auto 0 ;\n\n    border-radius: 50%;\n    border: 2px solid var(--input-highlight-color);\n}\n\n.checkbox:checked:after {\n    background: var(--input-highlight-color);\n\n    border: 0;\n}\n",template:'<div class="component">\n    \n    \x3c!-- Label --\x3e\n    <span class="label">{{ label }}</span>\n\n    \x3c!-- Input container  --\x3e\n    <div class="input-container">\n\n        \x3c!-- Checkbox --\x3e\n        <input type="checkbox" class="checkbox" ref="checkbox">\n\n    </div>\n\n</div>',model:n}),this._bindHandlers()}connected(){this._updateChecked(),this._setupEventListeners()}destroyed(){this._removeEventListeners()}onListen(){this._updateChecked()}_bindHandlers(){this._checkboxChangeHandler=this._checkboxChangeHandler.bind(this)}_setupEventListeners(){this.$refs.checkbox.addEventListener("change",this._checkboxChangeHandler)}_removeEventListeners(){this.$refs.checkbox.removeEventListener("change",this._checkboxChangeHandler)}_updateChecked(){this.$refs.checkbox.checked=this.model.value}_checkboxChangeHandler(){this.model.value=this.$refs.checkbox.checked}}window.customElements.define("dddd-checkbox",f);class w extends c{constructor(e,n){super({root:e,style:".component {\n    transition: background-color 0.15s;\n}\n\n.button {\n    width: calc(100% - var(--label-width));\n    height: var(--input-height);\n\n    padding: 0 var(--input-padding);\n    margin-left: var(--label-width);\n\n    font-family: var(--font);\n    font-size: var(--input-font-size);\n    font-weight: var(--input-font-weight);\n    color: var(--input-text-color);\n    \n    background-color: var(--input-highlight-color);\n\n    border: 0;\n    border-radius: var(--input-border-radius);\n    outline: none;\n\n    transition: var(--input-background-color-transition);\n\n    cursor: pointer;\n}\n\n.button:hover {\n    background-color: rgba(77, 83, 217, 1);\n    background-color: var(--input-highlight-color-hover);\n}",template:'<div class="component">\n    \n    \x3c!-- Button --\x3e\n    <button class="button" ref="button">{{ label }}</button>\n\n</div>',model:n}),this._bindHandlers()}connected(){this._setupEventListeners()}destroyed(){this._removeEventListeners()}_bindHandlers(){this._clickHandler=this._clickHandler.bind(this)}_setupEventListeners(){this.$refs.button.addEventListener("click",this._clickHandler)}_removeEventListeners(){this.$refs.button.removeEventListener("click",this._clickHandler)}_clickHandler(){this.model.value="click"}}window.customElements.define("dddd-button",w);class y extends c{constructor(e,n){super({root:e,style:".component {\n    display: grid;\n\n    grid-template-columns: var(--label-width) calc(100% - var(--label-width));\n    align-items: center;\n}\n\n.label {\n    overflow: hidden;\n\n    padding: var(--label-padding);\n\n    font-size: var(--label-font-size);\n    font-weight: var(--label-font-weight);\n    color: var(--label-color);\n    white-space: nowrap;\n    text-overflow: ellipsis;\n}\n\n.input-container {\n    display: grid;\n    position: relative;\n\n    grid-template-columns: 45px calc(50% - 50px) 50%;\n    align-items: center;\n\n    height: var(--input-height);\n    overflow: hidden;\n\n    padding: 0 var(--input-padding) 0 5px;\n\n    font-family: var(--font);\n    font-size: var(--input-font-size);\n    font-weight: var(--input-font-weight);\n\n    background-color: var(--input-background-color);\n\n    border-radius: var(--input-border-radius);\n\n    transition: var(--input-background-color-transition);\n}\n\n.input-container:hover {\n    background-color: var(--input-background-color-hover);\n}\n\n.color {\n    width: 30px;\n    height: 30px;\n\n    margin: 0;\n    padding: 0;\n\n    background: transparent;\n\n    border: 0;\n    outline: 0;\n\n    appearance: none;\n    cursor: pointer;\n}\n\n.color::-webkit-color-swatch-wrapper {\n    padding: 0;\n}\n\n.color::-webkit-color-swatch {\n    border: none;\n    border-radius: 7px;\n}\n\n.color-code {\n    color: var(--input-text-color);\n}\n\n.alpha {\n    color: var(--input-text-color);\n    text-align: right;\n}",template:'<div class="component">\n    \n    \x3c!-- Label --\x3e\n    <span class="label">{{ label }}</span>\n\n    \x3c!-- Input container  --\x3e\n    <div class="input-container">\n\n        \x3c!-- Color --\x3e\n        <input type="color" class="color" ref="color">\n\n        \x3c!-- Color code --\x3e\n        <span class="color-code" ref="colorCode"></span>\n\n        \x3c!-- Alpha --\x3e\n        <span class="alpha">100%</span>\n\n    </div>\n\n</div>',model:n}),this._bindHandlers()}connected(){this._setStartColor(),this._setColorCodeValue(this.model.value),this._setupEventListeners()}destroyed(){this._removeEventListeners()}_bindHandlers(){this._inputChangeHandler=this._inputChangeHandler.bind(this)}_setupEventListeners(){this.$refs.color.addEventListener("input",this._inputChangeHandler)}_removeEventListeners(){this.$refs.color.removeEventListener("input",this._inputChangeHandler)}_setStartColor(){this.$refs.color.value=this.model.value}_setColorCodeValue(e){this.$refs.colorCode.innerText=e}_inputChangeHandler(e){const n=this.$refs.color.value;this.model.value=n,this._setColorCodeValue(n)}}window.customElements.define("dddd-color",y);class x extends c{constructor(e,n){super({root:e,style:"*,\n*:before,\n*:after {\n    box-sizing: border-box;\n}\n\n.component {\n    display: grid;\n\n    grid-template-columns: var(--label-width) calc(100% - var(--label-width));\n    align-items: start;\n\n    transition: background-color 0.15s;\n}\n\n.label {\n    height: var(--input-height);\n    overflow: hidden;\n\n    padding: var(--label-padding);\n\n    font-size: var(--label-font-size);\n    line-height: var(--input-height);\n    font-weight: var(--label-font-weight);\n    color: var(--label-color);\n    white-space: nowrap;\n    text-overflow: ellipsis;\n}\n\n.input-container {\n    display: grid;\n\n    grid-template-columns: repeat(3, 1fr);\n    gap: var(--component-row-gap);\n}\n\n.input {\n    width: 100%;\n    height: var(--input-height);\n\n    padding: 0 var(--input-padding);\n\n    font-family: var(--font);\n    font-size: var(--input-font-size);\n    font-weight: var(--input-font-weight);\n    color: var(--input-text-color);\n\n    background-color: var(--input-background-color);\n\n    border: 0;\n    border-radius: var(--input-border-radius);\n    outline: none;\n\n    transition: var(--input-background-color-transition);\n\n    cursor: ew-resize;\n}\n\n.input:hover {\n    background-color: var(--input-background-color-hover);\n}\n\n\n.locked .input {\n    opacity: 0.6;\n\n    pointer-events: none;\n}\n",template:'<div class="component">\n    \n    \x3c!-- Label --\x3e\n    <span class="label">{{ label }}</span>\n\n    \x3c!-- Input container --\x3e\n    <div class="input-container" ref="inputContainer"></div>\n\n</div>',model:n}),this._stepSize=this.model.options.stepSize||.01,this._decimalPlaces=this._getDecimalPlaces(this._stepSize),this._activeInput=null,this._isPointerLockActive=!1,this._inputs=[],this._bindHandlers()}connected(){this._createInputs(),this._setupEventListeners()}destroyed(){this._removeEventListeners()}onListen(){this._updateAllInputValues(this.model.value)}_bindHandlers(){this._mouseDownHandler=this._mouseDownHandler.bind(this),this._mouseUpHandler=this._mouseUpHandler.bind(this),this._changeHandler=this._changeHandler.bind(this),this._pointerLockHanderHandler=this._pointerLockHanderHandler.bind(this),this._mouseMoveHandler=this._mouseMoveHandler.bind(this)}_setupEventListeners(){this.$el.addEventListener("mousedown",this._mouseDownHandler),this.$el.addEventListener("mouseup",this._mouseUpHandler),this.$el.addEventListener("change",this._changeHandler),document.addEventListener("pointerlockchange",this._pointerLockHanderHandler),document.addEventListener("mousemove",this._mouseMoveHandler)}_removeEventListeners(){this.$el.removeEventListener("mousedown",this._mouseDownHandler),this.$el.removeEventListener("mouseup",this._mouseUpHandler),this.$el.removeEventListener("change",this._changeHandler),document.removeEventListener("pointerlockchange",this._pointerLockHanderHandler),document.removeEventListener("mousemove",this._mouseMoveHandler)}_createInputs(){for(const e in this.model.value){const n=document.createElement("input");n.classList.add("input"),n.value=this.model.value[e],this._inputs.push(n),this.$refs.inputContainer.appendChild(n)}}_updateModelValue(){const e={};for(const[n,[t]]of Object.entries(Object.entries(this.model.value)))e[t]=parseInt(this._inputs[n].value);this.model.value=e}_getInputValueBasedOnMouseMovement(e){if(!this._activeInput)return;return parseFloat(this._activeInput.value)+e*this._stepSize}_updateInputValue(e){this._activeInput&&(this._activeInput.value=e.toFixed(this._decimalPlaces))}_updateAllInputValues(){for(const[e,[n]]of Object.entries(Object.entries(this.model.value)))this._inputs[e].value=this.model.value[n]}_getDecimalPlaces(e){const n=e.toString().split(".");return n.length>1?n[1].length:0}_mouseDownHandler(e){"INPUT"===e.target.tagName&&(this._activeInput=e.target,this.$el.requestPointerLock())}_mouseUpHandler(){this._activeInput=null,document.exitPointerLock()}_changeHandler(){this._updateInputValue()}_pointerLockHanderHandler(e){document.pointerLockElement?this._isPointerLockActive=!0:this._isPointerLockActive=!1}_mouseMoveHandler(e){if(this._isPointerLockActive){const n=this._getInputValueBasedOnMouseMovement(e.movementX);this._updateInputValue(n),this._updateModelValue()}}}window.customElements.define("dddd-multi-input",x);var H={slider:p,text:_,number:g,image:b,dropdown:m,checkbox:f,button:w,color:y,multiInput:x};class k{constructor({root:e,layout:n}){this._root=e,this._components=[],this._bindHandlers(),this._setupEventListeners()}destroy(){this._removeEventListeners()}create(e){h.addComponent(e);const n=e.type,t=new(0,H[n])(this._root,e);return this._components.push(t),this._addComponentToContainer(t),t}remove(e){this._root.layout.getContainer(e.container).removeChild(e),e.destroy()}update(e){this._getById(e.id).model.value=e.value}updateObjects(e){let n,t;for(let i=0,o=e.length;i<o;i++)n=e[i],n.options.listen&&(t=this._getById(n.id),t&&(t.model.object=n.object))}_bindHandlers(){this._tick=this._tick.bind(this)}_setupEventListeners(){this._requestAnimationFrame=window.requestAnimationFrame(this._tick)}_removeEventListeners(){window.cancelAnimationFrame(this._requestAnimationFrame)}_addComponentToContainer(e){const n=e.model.options.container;this._root.layout.getContainer(n).appendChild(e),this._root.layout.resize()}_getById(e){for(const n of this._components)if(n.model.id===e)return n}_tick(){window.requestAnimationFrame(this._tick),this._tickComponents()}_tickComponents(){for(let e=0,n=this._components.length;e<n;e++)this._components[e].tick()}_sendModelsToDevtools(){const e=[];for(let n=0,t=this._components.length;n<t;n++)e.push(this._components[n].model.getData());window.postMessage({source:"dddd-page",payload:{action:"update-objects",models:e}})}}class L{constructor({root:e,object:n,property:t,options:i,id:o,type:s,value:r,onChangeCallback:a}){this._root=e,this._object=n||{},this._property=t,this._options=i||{},this._id=o||this._generateId(),this._type=s||this._detectType(),this._value=r||this._object[this._property],this._onChangeCallback=a,this._options.container instanceof d&&(this._options.container=this._options.container.label)}set value(e){this._value=e,this._object[this._property]=this._value,"function"==typeof this._options.onChange&&this._options.onChange(this._value),"button"===this._type&&"click"===this._value&&"function"==typeof this._options.onClick&&this._options.onClick(e),this._root.isDevtools&&"function"==typeof this._onChangeCallback&&this._onChangeCallback(this.getData())}get value(){return this._value}get object(){return this._object}set object(e){this._object=e}get options(){return this._options}get property(){return this._property}get type(){return this._type}get id(){return this._id}getData(){return{object:this._object,property:this._property,options:this._removeFunctions(this._options),id:this._id,type:this._type,value:this._value}}updateValueFromObject(){this._value=this._object[this._property]}_generateId(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){const n=16*Math.random()|0;return("x"===e?n:3&n|8).toString(16)}))}_detectType(){if(!(this._property in this._object))throw new Error(`Property '${this._property}' does not exists`);const e=this._object?.[this._property];if("image"===this._options.type)return"image";if(this._options.options&&"object"==typeof this._options.options)return"dropdown";if("number"==typeof e&&"number"==typeof this._options.min&&"number"==typeof this._options.max)return"slider";if("object"==typeof e)return"multiInput";if("boolean"==typeof e)return"checkbox";if(/^#[0-9A-F]{6}$/i.test(e))return"color";if("number"==typeof e)return"number";if("string"==typeof e)return"text";throw new Error("Input type not detected")}_removeFunctions(e){const n=JSON.parse(JSON.stringify(e));return function e(n){for(const t in n)"object"==typeof n[t]&&null!==n[t]?e(n[t]):"function"==typeof n[t]&&delete n[t]}(n),n}}class C{constructor({root:e}){this._root=e,this._container=this._createContainer(),this._navigation=this._createNavigation(),this._layers=this._createLayers(),this._components=this._createComponents(),this._isVisible=!0,this._groups={},this._elements=[],this._bindHandlers(),this._setupEventListeners()}destroy(){document.body.removeChild(this._container),this._removeEventListeners()}get components(){return this._components}addLayer(e){this._navigation.add(e);const n=this._layers.add(e);return this._layers.resize(),h.addLayer(e),n}addGroup(e,n={}){const t=new d({root:this._root,layout:this,label:e,options:n});return this.getContainer(n.container).appendChild(t),this._groups[e]=t,this._layers.resize(),h.addGroup(e,n),t}addComponent({object:e,property:n,options:t,id:i,type:o,onChangeCallback:s}){const r=new L({root:this._root,object:e,property:n,options:t,id:i,type:o,onChangeCallback:s});return this._components.create(r)}getLayer(e){return this._layers.get(e)}getContainer(e){const n=this._layers.get(e);if(n)return n;const t=this._groups[e];return t?t.content:void 0}remove(){document.body.removeChild(this._container)}resize(){this._layers.resize()}toggleVisibility(){this._isVisible?(this._container.hide(),this._layers.hide(),this._navigation.hide(),this._isVisible=!1):(this._container.show(),this._layers.show(),this._navigation.show(),this._isVisible=!0),this._layers.resize()}_bindHandlers(){this._navigationSwitchHandler=this._navigationSwitchHandler.bind(this)}_setupEventListeners(){this._navigation.addEventListener("switch",this._navigationSwitchHandler)}_removeEventListeners(){this._navigation.addEventListener("switch",this._navigationSwitchHandler)}_createContainer(){const e=new t({root:this._root});return document.body.appendChild(e),e}_createNavigation(){const e=new s({root:this._root});return this._container.content.appendChild(e),e}_createLayers(){const e=new l({root:this._root});return this._container.content.appendChild(e),e}_createComponents(){return new k({root:this._root,layout:this})}_getGroupContainer(e,n){let t;if(n){if(t=this._layers.get(n),!t)throw new Error(`Layer '${n}' not found`)}else{if(!this._layers.isEmpty())throw new Error(`No 'container' defined for group '${e}'`);t=this._layers.add()}return t}_navigationSwitchHandler(e){this._layers.goto(e.detail.index)}}return class{constructor({devtools:e,onChange:n}={}){this._isDevtools=e,this._onChangeCallback=n,this._layout=new C({root:this}),this._bindHandlers(),this._setupEventListeners()}destroy(){this._layout.destroy(),this._removeEventListeners()}get isDevtools(){return this._isDevtools}get layout(){return this._layout}add(e,n,t){return this._layout.addComponent({object:e,property:n,options:t})}remove(e){}addButton(e){return this._layout.addComponent({options:e,type:"button"})}addLayer(e){return this._layout.addLayer(e)}addGroup(e,n){return this._layout.addGroup(e,n)}createLayoutFromModel(e,n){const t=e.layers;for(const e of t)this.createLayer(e);const i=e.groups;for(const e of i)this.createGroup(e.label,e.options);const o=e.components;for(const e of o)this._layout.createComponent({object:e.object,property:e.property,options:e.options,id:e.id,type:e.type,onChangeCallback:this._onChangeCallback});"function"==typeof n&&n()}isLayoutSidebar(){return!this._isDevtools}_bindHandlers(){this._messageHandler=this._messageHandler.bind(this)}_setupEventListeners(){window.addEventListener("message",this._messageHandler)}_removeEventListeners(){window.removeEventListener("message",this._messageHandler)}_sendLayoutModel(){const e=h.get();window.postMessage({source:"dddd-page",payload:{action:"setup",layoutModel:e}})}_messageHandler(e){const n=e.data.source,t=e.data.payload;if("dddd-devtools-proxy"===n&&t)switch(t.action){case"init":this._sendLayoutModel();break;case"setup-complete":this._layout.remove();break;case"change":this._layout.components.update(t.modelData)}if(this._isDevtools&&"dddd-page"===n&&t)switch(t.action){case"update-objects":t.models[0]}}}}));
