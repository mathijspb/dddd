!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e="undefined"!=typeof globalThis?globalThis:e||self).DDDD=n()}(this,(function(){"use strict";function e(n){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function n(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function t(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}function i(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&a(e,n)}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,n){return(a=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e,n,t){return(l=s()?Reflect.construct:function(e,n,t){var r=[null];r.push.apply(r,n);var i=new(Function.bind.apply(e,r));return t&&a(i,t.prototype),i}).apply(null,arguments)}function u(e){var n="function"==typeof Map?new Map:void 0;return(u=function(e){if(null===e||(t=e,-1===Function.toString.call(t).indexOf("[native code]")))return e;var t;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,r)}function r(){return l(e,arguments,o(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),a(r,e)})(e)}function d(e,n){return!n||"object"!=typeof n&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function c(e){var n=s();return function(){var t,r=o(e);if(n){var i=o(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return d(this,t)}}function h(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var t=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(t.push(a.value),!n||t.length!==n);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return t}(e,n)||v(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||v(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,n){if(e){if("string"==typeof e)return f(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?f(e,n):void 0}}function f(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function _(e,n){var t;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=v(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==t.return||t.return()}finally{if(s)throw o}}}}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var g=function(e){var n={exports:{}};return e(n,n.exports),n.exports}((function(e,n){e.exports=function(){
/*!
     * mustache.js - Logic-less {{mustache}} templates with JavaScript
     * http://github.com/janl/mustache.js
     */
var e=Object.prototype.toString,n=Array.isArray||function(n){return"[object Array]"===e.call(n)};function t(e){return"function"==typeof e}function r(e){return n(e)?"array":typeof e}function i(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function o(e,n){return null!=e&&"object"==typeof e&&n in e}function a(e,n){return null!=e&&"object"!=typeof e&&e.hasOwnProperty&&e.hasOwnProperty(n)}var s=RegExp.prototype.test;function l(e,n){return s.call(e,n)}var u=/\S/;function d(e){return!l(u,e)}var c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function h(e){return String(e).replace(/[&<>"'`=\/]/g,(function(e){return c[e]}))}var p=/\s*/,v=/\s+/,f=/\s*=/,_=/\s*\}/,g=/#|\^|\/|>|\{|&|=|!/;function y(e,t){if(!e)return[];var r,o,a,s=!1,l=[],u=[],c=[],h=!1,y=!1,w="",x=0;function L(){if(h&&!y)for(;c.length;)delete u[c.pop()];else c=[];h=!1,y=!1}function E(e){if("string"==typeof e&&(e=e.split(v,2)),!n(e)||2!==e.length)throw new Error("Invalid tags: "+e);r=new RegExp(i(e[0])+"\\s*"),o=new RegExp("\\s*"+i(e[1])),a=new RegExp("\\s*"+i("}"+e[1]))}E(t||H.tags);for(var C,$,z,S,M,I,D=new k(e);!D.eos();){if(C=D.pos,z=D.scanUntil(r))for(var V=0,T=z.length;V<T;++V)d(S=z.charAt(V))?(c.push(u.length),w+=S):(y=!0,s=!0,w+=" "),u.push(["text",S,C,C+1]),C+=1,"\n"===S&&(L(),w="",x=0,s=!1);if(!D.scan(r))break;if(h=!0,$=D.scan(g)||"name",D.scan(p),"="===$?(z=D.scanUntil(f),D.scan(f),D.scanUntil(o)):"{"===$?(z=D.scanUntil(a),D.scan(_),D.scanUntil(o),$="&"):z=D.scanUntil(o),!D.scan(o))throw new Error("Unclosed tag at "+D.pos);if(M=">"==$?[$,z,C,D.pos,w,x,s]:[$,z,C,D.pos],x++,u.push(M),"#"===$||"^"===$)l.push(M);else if("/"===$){if(!(I=l.pop()))throw new Error('Unopened section "'+z+'" at '+C);if(I[1]!==z)throw new Error('Unclosed section "'+I[1]+'" at '+C)}else"name"===$||"{"===$||"&"===$?y=!0:"="===$&&E(z)}if(L(),I=l.pop())throw new Error('Unclosed section "'+I[1]+'" at '+D.pos);return b(m(u))}function m(e){for(var n,t,r=[],i=0,o=e.length;i<o;++i)(n=e[i])&&("text"===n[0]&&t&&"text"===t[0]?(t[1]+=n[1],t[3]=n[3]):(r.push(n),t=n));return r}function b(e){for(var n,t=[],r=t,i=[],o=0,a=e.length;o<a;++o)switch((n=e[o])[0]){case"#":case"^":r.push(n),i.push(n),r=n[4]=[];break;case"/":i.pop()[5]=n[2],r=i.length>0?i[i.length-1][4]:t;break;default:r.push(n)}return t}function k(e){this.string=e,this.tail=e,this.pos=0}function w(e,n){this.view=e,this.cache={".":this.view},this.parent=n}function x(){this.templateCache={_cache:{},set:function(e,n){this._cache[e]=n},get:function(e){return this._cache[e]},clear:function(){this._cache={}}}}k.prototype.eos=function(){return""===this.tail},k.prototype.scan=function(e){var n=this.tail.match(e);if(!n||0!==n.index)return"";var t=n[0];return this.tail=this.tail.substring(t.length),this.pos+=t.length,t},k.prototype.scanUntil=function(e){var n,t=this.tail.search(e);switch(t){case-1:n=this.tail,this.tail="";break;case 0:n="";break;default:n=this.tail.substring(0,t),this.tail=this.tail.substring(t)}return this.pos+=n.length,n},w.prototype.push=function(e){return new w(e,this)},w.prototype.lookup=function(e){var n,r=this.cache;if(r.hasOwnProperty(e))n=r[e];else{for(var i,s,l,u=this,d=!1;u;){if(e.indexOf(".")>0)for(i=u.view,s=e.split("."),l=0;null!=i&&l<s.length;)l===s.length-1&&(d=o(i,s[l])||a(i,s[l])),i=i[s[l++]];else i=u.view[e],d=o(u.view,e);if(d){n=i;break}u=u.parent}r[e]=n}return t(n)&&(n=n.call(this.view)),n},x.prototype.clearCache=function(){void 0!==this.templateCache&&this.templateCache.clear()},x.prototype.parse=function(e,n){var t=this.templateCache,r=e+":"+(n||H.tags).join(":"),i=void 0!==t,o=i?t.get(r):void 0;return null==o&&(o=y(e,n),i&&t.set(r,o)),o},x.prototype.render=function(e,n,t,r){var i=this.parse(e,r),o=n instanceof w?n:new w(n,void 0);return this.renderTokens(i,o,t,e,r)},x.prototype.renderTokens=function(e,n,t,r,i){for(var o,a,s,l="",u=0,d=e.length;u<d;++u)s=void 0,"#"===(a=(o=e[u])[0])?s=this.renderSection(o,n,t,r):"^"===a?s=this.renderInverted(o,n,t,r):">"===a?s=this.renderPartial(o,n,t,i):"&"===a?s=this.unescapedValue(o,n):"name"===a?s=this.escapedValue(o,n):"text"===a&&(s=this.rawValue(o)),void 0!==s&&(l+=s);return l},x.prototype.renderSection=function(e,r,i,o){var a=this,s="",l=r.lookup(e[1]);function u(e){return a.render(e,r,i)}if(l){if(n(l))for(var d=0,c=l.length;d<c;++d)s+=this.renderTokens(e[4],r.push(l[d]),i,o);else if("object"==typeof l||"string"==typeof l||"number"==typeof l)s+=this.renderTokens(e[4],r.push(l),i,o);else if(t(l)){if("string"!=typeof o)throw new Error("Cannot use higher-order sections without the original template");null!=(l=l.call(r.view,o.slice(e[3],e[5]),u))&&(s+=l)}else s+=this.renderTokens(e[4],r,i,o);return s}},x.prototype.renderInverted=function(e,t,r,i){var o=t.lookup(e[1]);if(!o||n(o)&&0===o.length)return this.renderTokens(e[4],t,r,i)},x.prototype.indentPartial=function(e,n,t){for(var r=n.replace(/[^ \t]/g,""),i=e.split("\n"),o=0;o<i.length;o++)i[o].length&&(o>0||!t)&&(i[o]=r+i[o]);return i.join("\n")},x.prototype.renderPartial=function(e,n,r,i){if(r){var o=t(r)?r(e[1]):r[e[1]];if(null!=o){var a=e[6],s=e[5],l=e[4],u=o;return 0==s&&l&&(u=this.indentPartial(o,l,a)),this.renderTokens(this.parse(u,i),n,r,u,i)}}},x.prototype.unescapedValue=function(e,n){var t=n.lookup(e[1]);if(null!=t)return t},x.prototype.escapedValue=function(e,n){var t=n.lookup(e[1]);if(null!=t)return H.escape(t)},x.prototype.rawValue=function(e){return e[1]};var H={name:"mustache.js",version:"4.0.1",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(e){L.templateCache=e},get templateCache(){return L.templateCache}},L=new x;return H.clearCache=function(){return L.clearCache()},H.parse=function(e,n){return L.parse(e,n)},H.render=function(e,n,t,i){if("string"!=typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+r(e)+'" was given as the first argument for mustache#render(template, view, partials)');return L.render(e,n,t,i)},H.escape=h,H.Scanner=k,H.Context=w,H.Writer=x,H}()})),y=function(t){i(a,t);var o=c(a);function a(e){var t,r=e.root,i=e.style,s=e.template,l=e.templateData;return n(this,a),(t=o.call(this)).__root=r,t.attachShadow({mode:"open"}),t.__element=t.__addTemplate(s,l),t.__addStyle(i),t.__bindHandlers(),t.$el=t.__getRootElement(),t.$refs=t.__getReferences(),t}return r(a,[{key:"connectedCallback",value:function(){this.__setupEventListeners(),this.__triggerResize(),this.__triggerConnected()}},{key:"destroy",value:function(){this.__removeEventListeners(),this.__triggerDestroyed()}},{key:"$root",get:function(){return this.__root}},{key:"element",get:function(){return this.__element}},{key:"__bindHandlers",value:function(){this.__resizeHandler=this.__resizeHandler.bind(this)}},{key:"__setupEventListeners",value:function(){window.addEventListener("resize",this.__resizeHandler)}},{key:"__removeEventListeners",value:function(){window.removeEventListener("resize",this.__resizeHandler)}},{key:"__addTemplate",value:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"object"===e(n)&&(n=this.$root.isLayoutSidebar()?n.templateSidebar:n.templateDevtools);var r=g.render(n,t);return this.shadowRoot.innerHTML=r,this.shadowRoot.firstChild}},{key:"__addStyle",value:function(n){"object"===e(n)&&(n=this.$root.isLayoutSidebar()?n.styleSidebar:n.styleDevtools);var t=document.createElement("style"),r=document.createTextNode(n);t.appendChild(r),this.shadowRoot.appendChild(t)}},{key:"__getRootElement",value:function(){return this.shadowRoot.firstChild}},{key:"__getReferences",value:function(){for(var e,n={},t=this.shadowRoot.querySelectorAll("[ref]"),r=0,i=t.length;r<i;r++)n[(e=t[r]).getAttribute("ref")]=e;return n}},{key:"__triggerConnected",value:function(){"function"==typeof this.connected&&this.connected()}},{key:"__triggerDestroyed",value:function(){"function"==typeof this.destroyed&&this.destroyed()}},{key:"__triggerResize",value:function(){"function"==typeof this.onResize&&this.onResize()}},{key:"__resizeHandler",value:function(){this.__triggerResize()}}]),a}(u(HTMLElement)),m=function(e){i(o,e);var t=c(o);function o(e){var r,i=e.root;return n(this,o),(r=t.call(this,{root:i,style:{styleSidebar:"*,\r\n*:before,\r\n*:after {\r\n    box-sizing: border-box;\r\n}\r\n\r\n.dddd {\r\n    /* Layout */\r\n    --font: 'Arial', sans-serif;\r\n    --background-color: rgba(27, 27, 27, 0.9);\r\n\r\n    /* Panels */\r\n    --panel-background-color: rgba(27, 27, 27, 0.9);\r\n    --panel-spacing: 6px;\r\n\r\n    /* Groups */\r\n    --group-header-padding: 11px;\r\n    --group-header-font-size: 11px;\r\n    --group-header-background-color: rgba(255, 255, 255, 0.03);\r\n    --group-padding: 9px 7px 9px 10px;\r\n    --group-border-radius: 4px;\r\n\r\n    /* Components */\r\n    --component-row-gap: 4px;\r\n\r\n    /* Label */\r\n    --label-width: 40%;\r\n    --label-padding: 0 20px 0 0;\r\n    --label-color: rgba(255, 255, 255, 0.5);\r\n    --label-font-size: 11px;\r\n    --label-font-weight: 400;\r\n\r\n    /* Input */\r\n    --input-background-color: rgba(255, 255, 255, 0.03);\r\n    --input-background-color-hover: rgba(255, 255, 255, 0.08);\r\n    --input-background-color-error: rgba(255, 0, 0, 0.13);\r\n    --input-background-color-transition: background-color 0.35s ease-out;\r\n    --input-highlight-color: rgba(220, 159, 47, 0.53);\r\n    --input-highlight-color-hover: rgba(220, 159, 47, 0.75);\r\n    --input-text-color: rgba(255, 255, 255, 0.75);\r\n    --input-font-size: 11px;\r\n    --input-font-weight: 300;\r\n    --input-border-radius: 4px;\r\n    --input-padding: 10px;\r\n    --input-height: 26px;\r\n\r\n    z-index: 1337;\r\n\r\n    position: fixed;\r\n    top: 0;\r\n    right: 0;\r\n\r\n    width: 300px;\r\n    height: 100%;\r\n    max-height: 100vh;\r\n\r\n    background: var(--background-color);\r\n}\r\n\r\n.content {\r\n    width: 100%;\r\n    height: 100%;\r\n    /* overflow: auto; */\r\n}\r\n\r\n.resize-handle {\r\n    position: absolute;\r\n\r\n    padding: 0;\r\n\r\n    background-color: transparent;\r\n\r\n    border: 0;\r\n    outline: 0;\r\n}\r\n\r\n.resize-handle.side {\r\n    top: 0;\r\n    left: 0;\r\n\r\n    width: 6px;\r\n    height: 100%;\r\n\r\n    cursor: ew-resize;\r\n}\r\n\r\n.resize-handle.bottom {\r\n    bottom: 0;\r\n    left: 0;\r\n\r\n    width: 100%;\r\n    height: 6px;\r\n\r\n    cursor: ns-resize;\r\n}\r\n\r\n.resize-handle.corner {\r\n    bottom: 0;\r\n    left: 0;\r\n\r\n    width: 10px;\r\n    height: 10px;\r\n\r\n    cursor: nesw-resize;\r\n}\r\n",styleDevtools:"*,\r\n*:before,\r\n*:after {\r\n    box-sizing: border-box;\r\n}\r\n\r\n.dddd {\r\n    /* Layout */\r\n    --font: 'Arial', sans-serif;\r\n    --background-color: #161616;\r\n\r\n    /* Panels */\r\n    --panel-background-color: #1B1B1B;\r\n    --panel-spacing: 15px;\r\n\r\n    /* Groups */\r\n    --group-header-font-size: 15px;\r\n    --group-header-background-color: rgba(255, 255, 255, 0.03);\r\n    --group-padding: 30px;\r\n    --group-border-radius: 10px;\r\n\r\n    /* Components */\r\n    --component-row-gap: 7px;\r\n\r\n    /* Label */\r\n    --label-width: 30%;\r\n    --label-padding: 0 20px 0 0;\r\n    --label-color: rgba(255, 255, 255, 0.75);\r\n    --label-font-size: 14px;\r\n    --label-font-weight: 400;\r\n    \r\n    /* Input */\r\n    --input-background-color: rgba(255, 255, 255, 0.03);\r\n    --input-background-color-hover: rgba(255, 255, 255, 0.08);\r\n    --input-background-color-transition: background-color 0.35s ease-out;\r\n    --input-highlight-color: rgba(77, 83, 217, 0.64);\r\n    --input-highlight-color-hover: rgba(77, 83, 217, 1);\r\n    --input-text-color: rgba(255, 255, 255, 0.75);\r\n    --input-font-size: 14px;\r\n    --input-font-weight: 300;\r\n    --input-border-radius: 10px;\r\n    --input-padding: 16px;\r\n    --input-height: 40px;\r\n\r\n    background: var(--background-color);\r\n}\r\n"},template:{templateSidebar:'<div class="dddd">\r\n\r\n    \x3c!-- Content --\x3e\r\n    <div class="content" ref="content"></div>\r\n\r\n    \x3c!-- Resize handle --\x3e\r\n    <button class="resize-handle side" ref="resizeHandleSide"></button>\r\n    <button class="resize-handle bottom" ref="resizeHandleBottom"></button>\r\n    <button class="resize-handle corner" ref="resizeHandleCorner"></button>\r\n\r\n</div>\r\n',templateDevtools:'<div class="dddd">\r\n\r\n    \x3c!-- Content --\x3e\r\n    <div class="content" ref="content"></div>\r\n\r\n</div>\r\n'}}))._isMouseDown=!1,r._width=0,r._height=0,r._customWidth=0,r._customHeight=0,r._axis={x:0,y:0},r._bindHandlers(),r._setupEventListeners(),r}return r(o,[{key:"destroyed",value:function(){this._removeEventListeners()}},{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}},{key:"show",value:function(){this.$el.style.width="".concat(this._customWidth,"px"),this._height?this.$el.style.height="".concat(this._height,"px"):this.$el.style.height="100%"}},{key:"hide",value:function(){this._customWidth=this.$el.offsetWidth,this.$el.style.width="auto",this.$el.style.height="auto"}},{key:"addElement",value:function(e){this.$refs.content.appendChild(e)}},{key:"_bindHandlers",value:function(){this._resizeHandleSideMouseDownHandler=this._resizeHandleSideMouseDownHandler.bind(this),this._resizeHandleBottomMouseDownHandler=this._resizeHandleBottomMouseDownHandler.bind(this),this._resizeHandleCornerMouseDownHandler=this._resizeHandleCornerMouseDownHandler.bind(this),this._windowMouseUpHandler=this._windowMouseUpHandler.bind(this),this._windowMouseMoveHandler=this._windowMouseMoveHandler.bind(this)}},{key:"_setupEventListeners",value:function(){this.$root.isDevtools||(this.$refs.resizeHandleSide.addEventListener("mousedown",this._resizeHandleSideMouseDownHandler),this.$refs.resizeHandleBottom.addEventListener("mousedown",this._resizeHandleBottomMouseDownHandler),this.$refs.resizeHandleCorner.addEventListener("mousedown",this._resizeHandleCornerMouseDownHandler),window.addEventListener("mouseup",this._windowMouseUpHandler),window.addEventListener("mousemove",this._windowMouseMoveHandler))}},{key:"_removeEventListeners",value:function(){this.$root.isDevtools||(this.$refs.resizeHandleCorner.removeEventListener("mousedown",this._resizeHandleCornerMouseDownHandler),window.removeEventListener("mouseup",this._windowMouseUpHandler),window.removeEventListener("mousemove",this._windowMouseMoveHandler))}},{key:"onResize",value:function(){var e;this._width=this._customWidth?this._customWidth:this.$el.offsetWidth,this._height=this._customHeight?this._customHeight:window.innerHeight,null===(e=this.$root.layout)||void 0===e||e.resize()}},{key:"_setDimensions",value:function(e,n){this._axis.x&&(this._customWidth=window.innerWidth-e,this.$el.style.width="".concat(this._customWidth,"px")),this._axis.y&&(this._customHeight=n,this.$el.style.height="".concat(this._customHeight,"px")),this.onResize()}},{key:"_resizeHandleSideMouseDownHandler",value:function(){this._isMouseDown=!0,this._axis.x=1,this._axis.y=0}},{key:"_resizeHandleBottomMouseDownHandler",value:function(){this._isMouseDown=!0,this._axis.x=0,this._axis.y=1}},{key:"_resizeHandleCornerMouseDownHandler",value:function(){this._isMouseDown=!0,this._axis.x=1,this._axis.y=1}},{key:"_windowMouseUpHandler",value:function(){this._isMouseDown=!1}},{key:"_windowMouseMoveHandler",value:function(e){this._isMouseDown&&this._setDimensions(e.clientX,e.clientY)}}]),o}(y);window.customElements.define("dddd-container",m);var b=function(e){i(o,e);var t=c(o);function o(e){var r,i=e.root,a=e.options;return n(this,o),(r=t.call(this,{root:i,style:"*,\r\n*:before,\r\n*:after {\r\n    box-sizing: border-box;\r\n}\r\n\r\n.header {\r\n    background-color: var(--panel-background-color);\r\n\r\n    box-shadow: 0px 0px 30px 2px rgba(0, 0, 0, 0.05);\r\n}\r\n",template:'<div class="header">\r\n\r\n</div>\r\n'}))._options=a,r._width=null,r._height=null,r}return r(o,[{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}},{key:"addElement",value:function(e){this.$el.appendChild(e),this._resize()}},{key:"resize",value:function(){this._resize()}},{key:"_resize",value:function(){this._width=this.$el.offsetWidth,this._height=this.$el.offsetHeight}}]),o}(y);window.customElements.define("dddd-header",b);var k="navigation-button",w="active",x=function(e){i(o,e);var t=c(o);function o(e){var r,i=e.root;return n(this,o),(r=t.call(this,{root:i,style:{styleSidebar:".navigation {\r\n    display: none;\r\n\r\n    grid-template-columns: 1fr var(--input-height);\r\n    column-gap: var(--panel-spacing);\r\n\r\n    padding: var(--panel-spacing);\r\n}\r\n\r\n.select-container {\r\n    position: relative;\r\n\r\n    height: var(--input-height);\r\n    overflow: hidden;\r\n\r\n    background-color: var(--input-background-color);\r\n\r\n    border-radius: var(--input-border-radius);\r\n\r\n    user-select: none;\r\n\r\n    transition: var(--input-background-color-transition);\r\n}\r\n\r\n.select-container:hover {\r\n    background-color: var(--input-background-color-hover);\r\n}\r\n\r\n.select {\r\n    width: 100%;\r\n    height: 100%;\r\n\r\n    border: 0;\r\n    outline: 0;\r\n\r\n    padding: 0 var(--input-padding);\r\n\r\n    background: transparent;\r\n\r\n    font-family: var(--font);\r\n    font-size: var(--input-font-size);\r\n    font-weight: var(--input-font-weight);\r\n    color: var(--input-text-color);\r\n\r\n    appearance: none;\r\n}\r\n\r\n.select optgroup,\r\n.select option {\r\n    color: black;\r\n}\r\n\r\n.arrow {\r\n    position: absolute;\r\n    top: 0;\r\n    right: var(--input-padding);\r\n    bottom: 0;\r\n\r\n    margin: auto 0;\r\n}\r\n\r\n.button-toggle {\r\n    position: relative;\r\n\r\n    width: var(--input-height);\r\n    height: var(--input-height);\r\n\r\n    background-color: var(--input-background-color);\r\n\r\n    border: 0;\r\n    border-radius: var(--input-border-radius);\r\n    outline: 0;\r\n\r\n    cursor: pointer;\r\n\r\n    transition: var(--input-background-color-transition);\r\n}\r\n\r\n.button-toggle:hover {\r\n    background-color: var(--input-background-color-hover);\r\n}\r\n\r\n.button-toggle__line {\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n\r\n    width: 12px;\r\n    height: 2px;\r\n\r\n    margin: auto;\r\n\r\n    background: var(--input-text-color);\r\n}\r\n",styleDevtools:".navigation {\r\n    display: none;\r\n    \r\n    padding: var(--panel-spacing);\r\n\r\n    font-size: 0;\r\n\r\n    list-style: none;\r\n\r\n    background-color: var(--panel-background-color);\r\n\r\n    box-shadow: 0px 0px 30px 2px rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n.navigation li {\r\n    display: inline-block;\r\n\r\n    margin-right: 10px;\r\n}\r\n\r\n.navigation-button {\r\n    padding: 13px 30px;\r\n\r\n    color: rgba(255, 255, 255, 0.5);\r\n\r\n    background-color: transparent;\r\n\r\n    border: 0;\r\n    border-radius: 12px;\r\n    outline: 0;\r\n\r\n    font-family: var(--font);\r\n    font-size: 13px;\r\n    font-weight: 600;\r\n\r\n    cursor: pointer;\r\n\r\n    transition: all 0.3s ease-out;\r\n}\r\n\r\n.navigation-button:hover {\r\n    background-color: rgba(255, 255, 255, 0.01);\r\n}\r\n\r\n.navigation-button.active {\r\n    color: rgba(255, 255, 255, 0.9);\r\n\r\n    background-color: rgba(255, 255, 255, 0.03);\r\n}"},template:{templateSidebar:'<div class="navigation">\r\n\r\n    \x3c!-- Select container--\x3e\r\n    <div class="select-container" ref="selectContainer">\r\n\r\n        \x3c!-- Arrow --\x3e\r\n        <svg width="11" height="6" viewBox="0 0 11 6" class="arrow">\r\n            <path d="M1 1L4.83564 4.40945C5.21452 4.74624 5.78548 4.74624 6.16436 4.40945L10 1" stroke="white" fill="transparent" stroke-opacity="0.74" stroke-linecap="round"/>\r\n        </svg>\r\n\r\n        \x3c!-- Select --\x3e\r\n        <select class="select" ref="select"></select>\r\n\r\n    </div>\r\n\r\n    \x3c!-- Button toggle --\x3e\r\n    <button class="button-toggle" ref="buttonToggle">\r\n        <div class="button-toggle__line"></div>\r\n    </button>\r\n\r\n</div>\r\n',templateDevtools:'<ul class="navigation"></ul>\r\n'}}))._isMinimized=!1,r._activeIndex=0,r._groups=[],r._elements=[],r._bindHandlers(),r._setupEventListeners(),r}return r(o,[{key:"destroy",value:function(){this._removeEventListeners()}},{key:"add",value:function(e,n){if(0===this._elements.length&&this._setVisible(),this.$root.isLayoutSidebar()){var t=document.createElement("option");if(t.innerText=e,t.value=this._elements.length,this._elements.push(t),n){var r=this._getGroupElement(n);r||(r=this._createGroupElement(n)),r.appendChild(t)}else this.$refs.select.appendChild(t)}else{var i=document.createElement("button");i.classList.add(k),this.$el.children.length===this._activeIndex&&i.classList.add(w),i.innerText=e;var o=document.createElement("li");o.appendChild(i),this._elements.push(o),this.$el.appendChild(o)}}},{key:"remove",value:function(e){for(var n,t,r=0,i=this._elements.length;r<i;r++)(t=this._elements[r]).innerText===e&&(n=t);n&&n.remove(),this._elements.splice(this._elements.indexOf(n),1)}},{key:"goto",value:function(e){this.$refs.select.value=e}},{key:"show",value:function(){this._isMinimized=!1,this.$refs.selectContainer.style.display="block",this.$el.style.display="grid"}},{key:"hide",value:function(){this._isMinimized=!0,this.$refs.selectContainer.style.display="none",this.$el.style.display="block"}},{key:"_bindHandlers",value:function(){this._clickHandler=this._clickHandler.bind(this),this._selectChangeHandler=this._selectChangeHandler.bind(this),this._clickButtonToggle=this._clickButtonToggle.bind(this)}},{key:"_setupEventListeners",value:function(){this.$el.addEventListener("click",this._clickHandler),this.$refs.select&&this.$refs.select.addEventListener("change",this._selectChangeHandler),this.$refs.buttonToggle&&this.$refs.buttonToggle.addEventListener("click",this._clickButtonToggle)}},{key:"_removeEventListeners",value:function(){this.$el.removeEventListener("click",this._clickHandler),this.$refs.select&&this.$refs.select.removeEventListener("change",this._selectChangeHandler),this.$refs.buttonToggle&&this.$refs.buttonToggle.removeEventListener("click",this._clickButtonToggle)}},{key:"_setVisible",value:function(){this.$el.style.display=this._isMinimized?"block":"grid"}},{key:"_getNavigationButtonIndex",value:function(e){return Array.prototype.indexOf.call(this.$el.children,e)}},{key:"_switch",value:function(e){this.$el.children[this._activeIndex].firstChild.classList.remove(w),this._activeIndex=e,this.$el.children[this._activeIndex].firstChild.classList.add(w),this._triggerSwitchEvent(this._activeIndex)}},{key:"_triggerSwitchEvent",value:function(e){this._activeIndex=e;var n=new CustomEvent("switch",{detail:{index:this._activeIndex}});this.dispatchEvent(n)}},{key:"_createGroupElement",value:function(e){var n=document.createElement("optgroup");return n.label=e,this.$refs.select.appendChild(n),this._groups.push({label:e,element:n}),n}},{key:"_getGroupElement",value:function(e){for(var n,t=0,r=this._groups.length;t<r;t++)if((n=this._groups[t]).label===e)return n.element}},{key:"_clickHandler",value:function(e){if(e.target.closest(".".concat(k))){var n=this._getNavigationButtonIndex(e.target.parentElement);this._switch(n)}}},{key:"_selectChangeHandler",value:function(){var e=parseInt(this.$refs.select.value);this._triggerSwitchEvent(e),this.$refs.select.blur()}},{key:"_clickButtonToggle",value:function(){this.$root.layout.toggleVisibility()}}]),o}(y);window.customElements.define("dddd-navigation",x);var H=function(e){i(o,e);var t=c(o);function o(e){var r=e.root;return n(this,o),t.call(this,{root:r,style:"*,\r\n*:before,\r\n*:after {\r\n    box-sizing: border-box;\r\n}\r\n\r\n.global {\r\n    position: relative;\r\n\r\n    /* padding: var(--panel-spacing) var(--panel-spacing) 0 var(--panel-spacing); */\r\n    padding: 0 var(--panel-spacing) 1px;\r\n\r\n    -webkit-font-smoothing: antialiased;\r\n    font-family: var(--font);\r\n    font-weight: 300;\r\n    font-size: 13px;\r\n\r\n    background-color: var(--panel-background-color);\r\n}\r\n",template:'<div class="global" ref="content"></div>\r\n'})}return r(o,[{key:"content",get:function(){return this.$refs.content}},{key:"height",get:function(){return this._height}},{key:"addGroup",value:function(e){var n=this.$root.addGroup(e,{container:this._label});return this._resize(),n}},{key:"show",value:function(){this.$refs.content.style.display="block"}},{key:"hide",value:function(){this.$refs.content.style.display="none"}},{key:"resize",value:function(){this._resize()}},{key:"_resize",value:function(){this._width=this.$el.offsetWidth,this._height=this.$el.offsetHeight}}]),o}(y);window.customElements.define("dddd-global",H);var L=new(function(){function e(){n(this,e),this._callbacks=[],this._tick=this._tick.bind(this),this._start()}return r(e,[{key:"destroy",value:function(){this._stop()}},{key:"add",value:function(e){this._callbacks.push(e)}},{key:"remove",value:function(e){this._callbacks.splice(this._callbacks.indexOf(e),1)}},{key:"_start",value:function(){this._requestAnimationFrame=window.requestAnimationFrame(this._tick)}},{key:"_stop",value:function(){window.cancelAnimationFrame(this._requestAnimationFrame)}},{key:"_tick",value:function(){window.requestAnimationFrame(this._tick),this._triggerCallbacks()}},{key:"_triggerCallbacks",value:function(){for(var e=0,n=this._callbacks.length;e<n;e++)this._callbacks[e]()}}]),e}()),E=function(e){i(o,e);var t=c(o);function o(e){var r,i=e.root,a=e.options;return n(this,o),(r=t.call(this,{root:i,style:"*,\r\n*:before,\r\n*:after {\r\n    box-sizing: border-box;\r\n}\r\n\r\n.stats {\r\n    padding: 0 var(--panel-spacing) var(--panel-spacing) var(--panel-spacing);\r\n}\r\n\r\n.content {\r\n    height: 100px;\r\n\r\n    border-radius: var(--input-border-radius);background-color: var(--input-background-color);\r\n\r\n    background-color: var(--input-background-color);\r\n}\r\n\r\n.canvas {\r\n    width: 100%;\r\n}\r\n",template:'<div class="stats">\r\n\r\n    \x3c!-- Content --\x3e\r\n    <div class="content">\r\n\r\n        \x3c!-- Canvas --\x3e\r\n        <canvas class="canvas" ref="canvas"></canvas>\r\n\r\n    </div>\r\n\r\n</div>\r\n'}))._options=a,r._beginTime=window.performance.now(),r._previousTime=r._beginTime,r._fps=0,r._frames=0,r._context=r._getContext(),r._bindHandlers(),r._setupEventListeners(),r}return r(o,[{key:"destroyed",value:function(){this._removeEventListeners()}},{key:"begin",value:function(){this._beginTime=window.performance.now()}},{key:"end",value:function(){this._update(),this._draw()}},{key:"_bindHandlers",value:function(){this._tickHandler=this._tickHandler.bind(this)}},{key:"_setupEventListeners",value:function(){L.add(this._tickHandler)}},{key:"_removeEventListeners",value:function(){L.remove(this._tickHandler)}},{key:"_getContext",value:function(){return this.$refs.canvas.getContext("2d")}},{key:"_update",value:function(){var e=window.performance.now();this._frames++,e>=this._previousTime+1e3&&(this._fps=1e3*this._frames/(e-this._previousTime),this._previousTime=e,this._frames=0,this._drawFps())}},{key:"_draw",value:function(){}},{key:"_drawFps",value:function(){this._context.translate(1,0),this._context.fillRect(0,50,1,-50*this._fps/60)}},{key:"_tickHandler",value:function(){}}]),o}(y);window.customElements.define("dddd-stats",E);var C="active",$=function(e){i(o,e);var t=c(o);function o(e){var r,i=e.root,a=e.label;return n(this,o),(r=t.call(this,{root:i,style:"*,\r\n*:before,\r\n*:after {\r\n    box-sizing: border-box;\r\n}\r\n\r\n.layer {\r\n    display: none;\r\n\r\n    position: relative;\r\n\r\n    width: 100%;\r\n    overflow: hidden;\r\n}\r\n\r\n.layer.active {\r\n    display: block;\r\n}\r\n",template:'<div class="layer"></div>',templateData:{label:a}}))._label=a,r._containerWidth=0,r._itemWidth=0,r._columnsHeight=[],r._bindHandlers(),r._setupEventListeners(),r}return r(o,[{key:"destroy",value:function(){this._removeEventListeners()}},{key:"label",get:function(){return this._label}},{key:"content",get:function(){return this.element}},{key:"addGroup",value:function(e){return this.$root.addGroup(e,{container:this._label})}},{key:"activate",value:function(){this.$el.classList.add(C)}},{key:"deactivate",value:function(){this.$el.classList.remove(C)}},{key:"resize",value:function(){this._resize()}},{key:"_bindHandlers",value:function(){this._resizeHandler=this._resizeHandler.bind(this)}},{key:"_setupEventListeners",value:function(){window.addEventListener("resize",this._resizeHandler)}},{key:"_removeEventListeners",value:function(){window.removeEventListener("resize",this._resizeHandler)}},{key:"_resize",value:function(){0!==this.$el.children.length&&(this._containerWidth=this.$el.offsetWidth,this._columnCount=this._getColumCount(),this._itemGap=this._getItemGap(),this._itemWidth=this._getItemWidth(),this._resetColumnHeight(),this.$root.isLayoutSidebar()||(this._positionGroups(),this._updateHeight()))}},{key:"_getColumCount",value:function(){return Math.max(Math.floor(this._containerWidth/350),1)}},{key:"_getItemWidth",value:function(){var e=this._itemGap*(this._columnCount-1);return Math.floor((this._containerWidth-e)/this._columnCount)}},{key:"_getItemGap",value:function(){var e=this.$el.children[0].element,n=window.getComputedStyle(e);return parseInt(n.marginRight)}},{key:"_getItemHeight",value:function(e){var n=window.getComputedStyle(e),t=e.offsetHeight;return t+=parseInt(n.marginBottom)}},{key:"_resetColumnHeight",value:function(){this._columnsHeight=[];for(var e=0;e<this._columnCount;e++)this._columnsHeight.push(0)}},{key:"_positionGroups",value:function(){var e,n=_(this.$el.children);try{for(n.s();!(e=n.n()).done;){var t=e.value,r=this._getNexColumnIndex(),i=(r<this._columnCount?this._itemGap:0)*r,o=r*this._itemWidth+i,a=this._columnsHeight[r],s=this._getItemHeight(t.element);this._columnsHeight[r]+=s,t.element.style.position="absolute",t.element.style.transform="translate(".concat(o,"px, ").concat(a,"px)"),t.element.style.width="".concat(this._itemWidth,"px")}}catch(e){n.e(e)}finally{n.f()}}},{key:"_getNexColumnIndex",value:function(){var e=this._columnsHeight.slice(0).sort((function(e,n){return e-n})).shift();return this._columnsHeight.indexOf(e)}},{key:"_updateHeight",value:function(){var e=Math.max.apply(Math,p(this._columnsHeight));this.$el.style.height="".concat(e,"px")}},{key:"_resizeHandler",value:function(){this._resize()}}]),o}(y);window.customElements.define("dddd-layer",$);var z=function(e){i(o,e);var t=c(o);function o(e){var r,i=e.root;return n(this,o),(r=t.call(this,{root:i,style:"*,\r\n*:before,\r\n*:after {\r\n    box-sizing: border-box;\r\n}\r\n\r\n.layers {\r\n    position: relative;\r\n\r\n    width: 100%;\r\n    height: 100%;\r\n    overflow: auto;\r\n\r\n    /* padding: var(--panel-spacing) var(--panel-spacing) 0 var(--panel-spacing); */\r\n    padding: var(--panel-spacing);\r\n\r\n    -webkit-font-smoothing: antialiased;\r\n    font-family: var(--font);\r\n    font-weight: 300;\r\n    font-size: 13px;\r\n}\r\n",template:'<div class="layers"></div>'}))._activeIndex=0,r._layers=[],r}return r(o,[{key:"destroyed",value:function(){this._destroyLayers()}},{key:"add",value:function(e){var n=new $({root:this.$root,label:e});return this._layers.length===this._activeIndex&&n.activate(),this._layers.push(n),this.$el.appendChild(n),n}},{key:"remove",value:function(e){for(var n,t,r=0,i=this._layers.length;r<i;r++)(t=this._layers[r]).label===e&&(n=t);this.$el.removeChild(n),this._layers.splice(this._layers.indexOf(n),1)}},{key:"goto",value:function(e){var n=this._layers[this._activeIndex];n&&n.deactivate(),this._layers[e].activate(),this._activeIndex=e,this._resizeLayers()}},{key:"get",value:function(e){var n,t=_(this._layers);try{for(t.s();!(n=t.n()).done;){var r=n.value;if(r.label===e)return r}}catch(e){t.e(e)}finally{t.f()}return null}},{key:"getByIndex",value:function(e){return this._layers[e]}},{key:"getIndexByLabel",value:function(e){for(var n=0,t=this._layers.length;n<t;n++)if(this._layers[n].label===e)return n;return null}},{key:"isEmpty",value:function(){return 0===this._layers.length}},{key:"resize",value:function(){this._resizeLayers()}},{key:"show",value:function(){this.$el.style.display="block"}},{key:"hide",value:function(){this.$el.style.display="none"}},{key:"setHeight",value:function(e){this.$el.style.height="".concat(e,"px")}},{key:"_destroyLayers",value:function(){var e,n=_(this._layers);try{for(n.s();!(e=n.n()).done;){e.value.destroy()}}catch(e){n.e(e)}finally{n.f()}}},{key:"_resizeLayers",value:function(){var e,n=_(this._layers);try{for(n.s();!(e=n.n()).done;){e.value.resize()}}catch(e){n.e(e)}finally{n.f()}}}]),o}(y);window.customElements.define("dddd-layers",z);var S=new(function(){function e(){n(this,e)}return r(e,[{key:"set",value:function(e,n){var t=JSON.parse(localStorage.getItem(e))||{};Object.assign(t,n),localStorage.setItem(e,JSON.stringify(t))}},{key:"get",value:function(e,n){return(JSON.parse(localStorage.getItem(e))||{})[n]}}]),e}()),M=function(e){i(o,e);var t=c(o);function o(e){var r,i=e.root,a=e.label,s=e.parent,l=e.options;return n(this,o),(r=t.call(this,{root:i,style:{styleSidebar:"*,\r\n*:before,\r\n*:after {\r\n    box-sizing: border-box;\r\n}\r\n\r\n.group {\r\n    overflow: hidden;\r\n\r\n    margin: 0 0 var(--panel-spacing) 0;\r\n\r\n    background-color: var(--panel-background-color);\r\n\r\n    border-radius: var(--group-border-radius);\r\n\r\n    box-shadow: 0px 0px 30px 2px rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n.button-header {\r\n    position: relative;\r\n\r\n    width: 100%;\r\n\r\n    padding: 0;\r\n\r\n    text-align: left;\r\n\r\n    background-color: var(--group-header-background-color);\r\n\r\n    border: 0;\r\n    outline: 0;\r\n    cursor: pointer;\r\n}\r\n\r\n.label {\r\n    display: block;\r\n\r\n    padding: var(--group-header-padding);\r\n\r\n    font-size: var(--group-header-font-size);\r\n    font-weight: 400;\r\n    color: white;\r\n    letter-spacing: 0.025em;\r\n}\r\n\r\n.arrow {\r\n    position: absolute;\r\n    top: 0;\r\n    right: calc(var(--group-header-padding) + 1px);\r\n    bottom: 0;\r\n\r\n    margin: auto 0;\r\n}\r\n\r\n.content {\r\n    display: grid;\r\n    position: relative;\r\n\r\n    row-gap: var(--component-row-gap);\r\n\r\n    padding: var(--group-padding);\r\n}\r\n\r\n.hidden .content {\r\n    display: none;\r\n}\r\n\r\n/* Subgroup */\r\n.group.subgroup {\r\n    padding: 8px 0 0 0;\r\n\r\n    background-color: transparent;\r\n\r\n    border-radius: 0;\r\n\r\n    box-shadow: initial;\r\n}\r\n\r\n.subgroup .button-header {\r\n    margin-bottom: 0;\r\n\r\n    background: transparent;\r\n}\r\n\r\n.subgroup .label {\r\n    padding: 0 0 0 21px;\r\n\r\n    font-size: 11px;\r\n}\r\n\r\n.subgroup .arrow {\r\n    position: absolute;\r\n    top: 3px;\r\n    right: 0;\r\n    bottom: 0;\r\n    left: 2px;\r\n\r\n    width: 10px;\r\n\r\n    margin: 0;\r\n}\r\n\r\n.hidden.subgroup .arrow {\r\n    transform: rotate(-90deg);\r\n}\r\n\r\n.subgroup .content {\r\n    margin: 7px 0 4px 0;\r\n    padding: 0 0 0 20px;\r\n}\r\n\r\n.subgroup .content:before {\r\n    content: '';\r\n\r\n    display: block;\r\n    position: absolute;\r\n    top: 0;\r\n    bottom: 0;\r\n    left: 6px;\r\n\r\n    width: 1px;\r\n    height: 100%;\r\n\r\n    background: rgba(255, 255, 255, 0.1);\r\n}\r\n",styleDevtools:"*,\r\n*:before,\r\n*:after {\r\n    box-sizing: border-box;\r\n}\r\n\r\n.group {\r\n    padding: calc(var(--group-padding) - 3px) var(--group-padding) var(--group-padding);\r\n    margin: 0 var(--panel-spacing) var(--panel-spacing) 0;\r\n\r\n    background-color: var(--panel-background-color);\r\n    \r\n    border-radius: var(--group-border-radius);\r\n\r\n    box-shadow: 0px 0px 30px 2px rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n.label {\r\n    display: block;\r\n\r\n    margin-bottom: 20px;\r\n\r\n    font-size: var(--group-header-font-size);\r\n    font-weight: 600;\r\n    color: white;\r\n    letter-spacing: 0.025em;\r\n}\r\n\r\n.content {\r\n    display: grid;\r\n\r\n    row-gap: var(--component-row-gap);\r\n}"},template:{templateSidebar:'<div class="group active">\r\n\r\n    \x3c!-- Button header --\x3e\r\n    <button class="button-header" ref="buttonHeader">\r\n\r\n        \x3c!-- Label --\x3e\r\n        <span class="label">\r\n            {{ label }}\r\n        </span>\r\n\r\n        \x3c!-- Arrow --\x3e\r\n        <svg width="11" height="6" viewBox="0 0 11 6" class="arrow">\r\n            <path d="M1 1L4.83564 4.40945C5.21452 4.74624 5.78548 4.74624 6.16436 4.40945L10 1" stroke="white" fill="transparent" stroke-opacity="0.74" stroke-linecap="round"/>\r\n        </svg>\r\n\r\n    </button>\r\n\r\n    \x3c!-- Content --\x3e\r\n    <div class="content" ref="content"></div>\r\n\r\n</div>\r\n',templateDevtools:'<div class="group">\r\n\r\n    \x3c!-- Label --\x3e\r\n    <span class="label">{{ label }}</span>\r\n\r\n    \x3c!-- Content --\x3e\r\n    <div class="content" ref="content"></div>\r\n\r\n</div>\r\n'},templateData:{label:a}}))._label=a,r._options=l,r._parent=s||null,r._id=r._generateId(),r._isVisible=!0,r._isComponentsCreated=!1,r._bindHandlers(),r._setupEventListeners(),r._addSubgroupClass(),r._updateStartupVisibility(),r}return r(o,[{key:"destroyed",value:function(){this._removeEventListeners()}},{key:"id",get:function(){return this._id}},{key:"label",get:function(){return this._label}},{key:"content",get:function(){return this.$refs.content}},{key:"parent",get:function(){return this._parent}},{key:"options",get:function(){return this._options}},{key:"add",value:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.parent=this,this.$root.add(e,n,t)}},{key:"addButton",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n.parent=this,this.$root.addButton(e,n)}},{key:"addCanvas",value:function(e){return e.parent=this,this.$root.addCanvas(e)}},{key:"addGroup",value:function(e){return this.$root.addGroup(e,{parent:this})}},{key:"remove",value:function(){return this.$root.removeGroup(this._id)}},{key:"_bindHandlers",value:function(){this._clickHandler=this._clickHandler.bind(this)}},{key:"_setupEventListeners",value:function(){this.$refs.buttonHeader&&this.$refs.buttonHeader.addEventListener("click",this._clickHandler)}},{key:"_removeEventListeners",value:function(){this.$refs.buttonHeader&&this.$refs.buttonHeader.removeEventListener("click",this._clickHandler)}},{key:"_generateId",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var n=16*Math.random()|0;return("x"===e?n:3&n|8).toString(16)}))}},{key:"_addSubgroupClass",value:function(){"DDDD-LAYER"!==this._parent.tagName&&"DDDD-GLOBAL"!==this._parent.tagName&&this.$el.classList.add("subgroup")}},{key:"_updateStartupVisibility",value:function(){var e=this._getLocalStorageKey();"visible"===S.get(e,"visibility")?this._show():this._hide()}},{key:"_toggleVisibility",value:function(){this._isVisible?this._hide():this._show()}},{key:"_show",value:function(){var e=this;this._isComponentsCreated||setTimeout((function(){e.$root.layout.components.createElementsByGroupId(e._id),e._isComponentsCreated=!0}),0),this._isVisible=!0,this._updateLocalStorage("visible"),this.$el.classList.remove("hidden"),this.$root.layout.resize()}},{key:"_hide",value:function(){this._isVisible=!1,this._updateLocalStorage("hidden"),this.$el.classList.add("hidden"),this.$root.layout.resize()}},{key:"_updateLocalStorage",value:function(e){var n=this._getLocalStorageKey();S.set(n,{visibility:e})}},{key:"_getLocalStorageKey",value:function(){return"group.".concat(this._options.container,".").concat(this._label)}},{key:"_clickHandler",value:function(){this._toggleVisibility()}}]),o}(y);window.customElements.define("dddd-group",M);var I=new(function(){function e(){n(this,e),this._layers=[],this._groups=[],this._components=[]}return r(e,[{key:"addLayer",value:function(e){this._layers.push(e)}},{key:"removeLayer",value:function(e){this._layers.splice(this._layers.indexOf(e),1)}},{key:"addGroup",value:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this._groups.push({id:e,label:n,options:t})}},{key:"removeGroup",value:function(e){var n=this._getGroupIndex(e);this._groups.splice(n,1)}},{key:"addComponent",value:function(e){this._components.push(e)}},{key:"get",value:function(){return{layers:this._layers,groups:this._groups,components:this._getComponents()}}},{key:"getModelsByGroupId",value:function(e){for(var n,t=[],r=0,i=this._components.length;r<i;r++)(n=this._components[r]).parentId===e&&t.push(n);return t}},{key:"_getComponents",value:function(){var e,n=[],t=_(this._components);try{for(t.s();!(e=t.n()).done;){var r=e.value;n.push(r.getData())}}catch(e){t.e(e)}finally{t.f()}return n}},{key:"_getGroupIndex",value:function(e){var n,t=_(this._groups.entries());try{for(t.s();!(n=t.n()).done;){var r=h(n.value,2),i=r[0];if(r[1].id===e)return i}}catch(e){t.e(e)}finally{t.f()}return null}}]),e}()),D=function(e){i(o,e);var t=c(o);function o(e){var r,i=e.root,a=e.model,s=e.style,l=e.template;return n(this,o),(r=t.call(this)).__root=i,r.__model=a,r.attachShadow({mode:"open"}),r.$el=r.__addTemplate(l),r.$refs=r.__getReferences(r.$el),r.__addStyle(s),r.__addLockedClass(),r.__bindHandlers(),r}return r(o,[{key:"connectedCallback",value:function(){this.__setupEventListeners(),this.__triggerResize(),this.__triggerConnected()}},{key:"destroy",value:function(){this.__removeEventListeners(),this.__triggerDestroyed()}},{key:"$root",get:function(){return this.__root}},{key:"model",get:function(){return this.__model}},{key:"container",get:function(){return this.__model.options.container}},{key:"tick",value:function(){this.__triggerTick(),this.model.options.listen&&(this.model.updateValueFromObject(),this.__triggerOnListen())}},{key:"resize",value:function(){this.__triggerResize()}},{key:"__bindHandlers",value:function(){this.__resizeHandler=this.__resizeHandler.bind(this)}},{key:"__setupEventListeners",value:function(){window.addEventListener("resize",this.__resizeHandler)}},{key:"__removeEventListeners",value:function(){window.removeEventListener("resize",this.__resizeHandler)}},{key:"__addTemplate",value:function(e){var n={label:this.__getLabel()},t=g.render(e,n);return this.shadowRoot.innerHTML=t,this.shadowRoot.firstChild}},{key:"__addStyle",value:function(e){var n=document.createElement("style"),t=document.createTextNode(e);n.appendChild(t),this.shadowRoot.appendChild(n)}},{key:"__getLabel",value:function(){var e=this.__model.options.label?this.__model.options.label:this.__parsePropertyToLabel(this.__model.property);return this.__model.options.persistent&&(e+="*"),e}},{key:"__parsePropertyToLabel",value:function(e){return"_"!==e.charAt(0)&&"u"!==e.charAt(0)||(e=(e=e.substr(1)).replace(/([A-Z])/g," $1").toLowerCase()),e}},{key:"__getReferences",value:function(e){for(var n,t={},r=e.querySelectorAll("[ref]"),i=0,o=r.length;i<o;i++)t[(n=r[i]).getAttribute("ref")]=n;return t}},{key:"__addLockedClass",value:function(){this.model.options.locked&&this.$el.classList.add("locked")}},{key:"__triggerConnected",value:function(){"function"==typeof this.connected&&this.connected()}},{key:"__triggerDestroyed",value:function(){"function"==typeof this.destroyed&&this.destroyed()}},{key:"__triggerResize",value:function(){"function"==typeof this.onResize&&this.onResize()}},{key:"__triggerTick",value:function(){"function"==typeof this.onTick&&this.onTick()}},{key:"__triggerOnListen",value:function(){"function"==typeof this.onListen&&this.onListen()}},{key:"__resizeHandler",value:function(){this.__triggerResize()}}]),o}(u(HTMLElement)),V=new(function(){function e(){n(this,e),this._value=null}return r(e,[{key:"set",value:function(e){this._value=e}},{key:"get",value:function(){return this._value}},{key:"copyToClipboard",value:function(){navigator.clipboard.writeText(this._value).then()}}]),e}()),T="active",A=function(e){i(o,e);var t=c(o);function o(e,r){var i;return n(this,o),(i=t.call(this,{root:e,style:".component {\r\n    display: grid;\r\n\r\n    grid-template-columns: var(--label-width) calc(100% - var(--label-width));\r\n    align-items: center;\r\n}\r\n\r\n.label {\r\n    overflow: hidden;\r\n\r\n    padding: var(--label-padding);\r\n\r\n    font-size: var(--label-font-size);\r\n    font-weight: var(--label-font-weight);\r\n    color: var(--label-color);\r\n    white-space: nowrap;\r\n    text-overflow: ellipsis;\r\n}\r\n\r\n.input-container {\r\n    position: relative;\r\n\r\n    height: var(--input-height);\r\n    overflow: hidden;\r\n\r\n    background-color: var(--input-background-color);\r\n\r\n    border-radius: var(--input-border-radius);\r\n\r\n    user-select: none;\r\n\r\n    transition: var(--input-background-color-transition);\r\n\r\n    cursor: col-resize;\r\n}\r\n\r\n.input-container:hover,\r\n.input-container.active {\r\n    background-color: var(--input-background-color-hover);\r\n}\r\n\r\n.locked .input-container {\r\n    opacity: 0.6;\r\n\r\n    pointer-events: none;\r\n}\r\n\r\n.scrubber {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n\r\n    width: 100%;\r\n    height: 100%;\r\n\r\n    background: var(--input-highlight-color);\r\n\r\n    transform-origin: top left;\r\n}\r\n\r\n.input {\r\n    position: relative;\r\n    display: block;\r\n\r\n    width: 100%;\r\n    height: 100%;\r\n\r\n    padding: 0 var(--input-padding);\r\n\r\n    background-color: transparent;\r\n\r\n    font-family: var(--font);\r\n    font-size: var(--input-font-size);\r\n    font-weight: var(--input-font-weight);\r\n    line-height: var(--input-height);\r\n    color: var(--input-text-color);\r\n\r\n    outline: none;\r\n    border: 0;\r\n\r\n    pointer-events: none;\r\n}\r\n",template:'<div class="component">\r\n    \r\n    \x3c!-- Label --\x3e\r\n    <span class="label">{{ label }}</span>\r\n\r\n    \x3c!-- Input container --\x3e\r\n    <div class="input-container" ref="inputContainer">\r\n\r\n        \x3c!-- Scrubber --\x3e\r\n        <div class="scrubber" ref="scrubber"></div>\r\n        \r\n        \x3c!-- Input --\x3e\r\n        <input class="input" ref="input">\r\n\r\n    </div>\r\n\r\n</div>',model:r}))._scrubberOffset=0,i._inputContainer={x:0,width:0},i._scrubber={width:0},i._mouseStartPosition={x:0,y:0},i._mousePosition={x:0,y:0},i._isMouseDown=!1,i._isShiftDown=!1,i._isSlideStarted=!1,i._bindHandlers(),i}return r(o,[{key:"connected",value:function(){this._resize(),this._updateValue(this.model.value),this._setupEventListeners()}},{key:"destroyed",value:function(){this._removeEventListeners()}},{key:"onResize",value:function(){this._resize()}},{key:"onTick",value:function(){this._scaleScrubber(this.model.value)}},{key:"onListen",value:function(){this._updateInputValue(this.model.value),this._scaleScrubber(this.model.value)}},{key:"_bindHandlers",value:function(){this._windowMouseMoveHandler=this._windowMouseMoveHandler.bind(this),this._windowMouseUpHandler=this._windowMouseUpHandler.bind(this),this._inputContainerMouseEnterHandler=this._inputContainerMouseEnterHandler.bind(this),this._inputContainerMouseDownHandler=this._inputContainerMouseDownHandler.bind(this),this._inputContainerMouseUpHandler=this._inputContainerMouseUpHandler.bind(this),this._inputContainerDoubleClickHandler=this._inputContainerDoubleClickHandler.bind(this),this._inputChangeHandler=this._inputChangeHandler.bind(this),this._inputBlurHandler=this._inputBlurHandler.bind(this),this._windowKeyDownHandler=this._windowKeyDownHandler.bind(this),this._windowKeyUpHandler=this._windowKeyUpHandler.bind(this)}},{key:"_setupEventListeners",value:function(){this.$refs.inputContainer.addEventListener("mouseenter",this._inputContainerMouseEnterHandler),this.$refs.inputContainer.addEventListener("mousedown",this._inputContainerMouseDownHandler),this.$refs.inputContainer.addEventListener("mouseup",this._inputContainerMouseUpHandler),this.$refs.inputContainer.addEventListener("dblclick",this._inputContainerDoubleClickHandler),this.$refs.input.addEventListener("change",this._inputChangeHandler),this.$refs.input.addEventListener("blur",this._inputBlurHandler),window.addEventListener("mousemove",this._windowMouseMoveHandler),window.addEventListener("mouseup",this._windowMouseUpHandler),window.addEventListener("keydown",this._windowKeyDownHandler),window.addEventListener("keyup",this._windowKeyUpHandler)}},{key:"_removeEventListeners",value:function(){this.$refs.inputContainer.removeEventListener("mouseenter",this._inputContainerMouseEnterHandler),this.$refs.inputContainer.removeEventListener("mousedown",this._inputContainerMouseDownHandler),this.$refs.inputContainer.removeEventListener("mouseup",this._inputContainerMouseUpHandler),this.$refs.inputContainer.removeEventListener("dblclick",this._inputContainerDoubleClickHandler),this.$refs.input.removeEventListener("change",this._inputChangeHandler),this.$refs.input.removeEventListener("blur",this._inputBlurHandler),window.removeEventListener("mousemove",this._windowMouseMoveHandler),window.removeEventListener("mouseup",this._windowMouseUpHandler),window.removeEventListener("keydown",this._windowKeyDownHandler),window.removeEventListener("keyup",this._windowKeyUpHandler)}},{key:"_updateValue",value:function(e){this.model.value=Math.max(Math.min(e,this.model.options.max),this.model.options.min),this._updateInputValue(this.model.value),V.set(this.model.value)}},{key:"_calcValue",value:function(e){var n=this._isShiftDown?.3:1,t=(e-this._mouseStartPosition.x)*n,r=(this._mouseStartPosition.x-this._inputContainer.x+t)/this._inputContainer.width;return this._map(r,0,1,this.model.options.min,this.model.options.max)}},{key:"_scaleScrubber",value:function(e){var n=this._map(e,this.model.options.min,this.model.options.max,0,1);this.$refs.scrubber.style.transform="scaleX(".concat(n,")")}},{key:"_showScrubber",value:function(){this.$refs.scrubber.style.display="block"}},{key:"_hideScrubber",value:function(){this.$refs.scrubber.style.display="none"}},{key:"_updateInputValue",value:function(e){var n=(Math.round(100*e)/100).toFixed(2);this.$refs.input.value=n}},{key:"_map",value:function(e,n,t,r,i){return(e-n)*(i-r)/(t-n)+r}},{key:"_resize",value:function(){this._inputContainer=this._getContainerData(),this._scaleScrubber(this.model.value)}},{key:"_getContainerData",value:function(){var e=this.$refs.inputContainer.getBoundingClientRect();return{x:e.left,width:e.width}}},{key:"_selectInput",value:function(){this._isInputSelected=!0,this.$refs.input.select()}},{key:"_deselectInput",value:function(){this._isInputSelected=!1,this.$refs.input.blur()}},{key:"_addActiveClass",value:function(){this.$refs.inputContainer.classList.add(T)}},{key:"_removeActiveClass",value:function(){this.$refs.inputContainer.classList.remove(T)}},{key:"_windowMouseMoveHandler",value:function(e){if(this._isMouseDown){this._mousePosition.x=e.clientX,Math.abs(this._mouseStartPosition.x-e.clientX)>2&&(this._isSlideStarted=!0);var n=this._calcValue(e.clientX);this._updateValue(n)}}},{key:"_windowMouseUpHandler",value:function(e){this._isMouseDown=!1,this._isSlideStarted=!1,this._removeActiveClass()}},{key:"_inputContainerMouseUpHandler",value:function(){this._isSlideStarted||(this._selectInput(),this._hideScrubber())}},{key:"_inputContainerMouseEnterHandler",value:function(){V.set(this.model.value)}},{key:"_inputContainerMouseDownHandler",value:function(e){this._isMouseDown||this._isInputSelected||(this._addActiveClass(),this._mouseStartPosition.x=e.clientX,this._isMouseDown=!0)}},{key:"_inputContainerDoubleClickHandler",value:function(e){this._selectInput()}},{key:"_inputChangeHandler",value:function(e){var n=parseFloat(this.$refs.input.value);this._updateValue(n),this._deselectInput(),this._showScrubber()}},{key:"_inputBlurHandler",value:function(){this._isInputSelected=!1,this._showScrubber()}},{key:"_windowKeyDownHandler",value:function(e){switch(e.keyCode){case 16:this._isShiftDown||(this._isShiftDown=!0,this._mouseStartPosition.x=this._mousePosition.x)}}},{key:"_windowKeyUpHandler",value:function(){this._isShiftDown=!1}}]),o}(D);window.customElements.define("dddd-slider",A);var P=function(e){i(o,e);var t=c(o);function o(e,r){var i;return n(this,o),(i=t.call(this,{root:e,style:".component {\r\n    display: grid;\r\n\r\n    grid-template-columns: var(--label-width) calc(100% - var(--label-width));\r\n    align-items: center;\r\n\r\n    transition: background-color 0.15s;\r\n}\r\n\r\n.label {\r\n    overflow: hidden;\r\n\r\n    padding: var(--label-padding);\r\n\r\n    font-size: var(--label-font-size);\r\n    font-weight: var(--label-font-weight);\r\n    color: var(--label-color);\r\n    white-space: nowrap;\r\n    text-overflow: ellipsis;\r\n}\r\n\r\n.input {\r\n    height: var(--input-height);\r\n\r\n    padding: 0 var(--input-padding);\r\n\r\n    font-family: var(--font);\r\n    font-size: var(--input-font-size);\r\n    font-weight: var(--input-font-weight);\r\n    color: var(--input-text-color);\r\n\r\n    background-color: var(--input-background-color);\r\n\r\n    border: 0;\r\n    border-radius: var(--input-border-radius);\r\n    outline: none;\r\n\r\n    transition: var(--input-background-color-transition);\r\n}\r\n\r\n.input:hover {\r\n    background-color: var(--input-background-color-hover);\r\n}\r\n\r\n.locked .input {\r\n    opacity: 0.6;\r\n\r\n    pointer-events: none;\r\n}\r\n",template:'<div class="component">\r\n    \r\n    \x3c!-- Label --\x3e\r\n    <span class="label">{{ label }}</span>\r\n\r\n    \x3c!-- Input --\x3e\r\n    <input class="input" ref="input">\r\n\r\n</div>',model:r}))._bindHandlers(),i}return r(o,[{key:"connected",value:function(){this._updateInputValue(this.model.value),this._setupEventListeners()}},{key:"destroyed",value:function(){this._removeEventListeners()}},{key:"onListen",value:function(){this._updateInputValue(this.model.value)}},{key:"_bindHandlers",value:function(){this._keyUpHandler=this._keyUpHandler.bind(this)}},{key:"_setupEventListeners",value:function(){this.$refs.input.addEventListener("keyup",this._keyUpHandler)}},{key:"_removeEventListeners",value:function(){this.$refs.input.removeEventListener("keyup",this._keyUpHandler)}},{key:"_updateInputValue",value:function(e){this.$refs.input.value=e}},{key:"_keyUpHandler",value:function(){this.model.value=this.$refs.input.value}}]),o}(D);window.customElements.define("dddd-input",P);var j=function(e){i(o,e);var t=c(o);function o(e,r){var i;return n(this,o),(i=t.call(this,{root:e,style:"*,\r\n*:before,\r\n*:after {\r\n    box-sizing: border-box;\r\n}\r\n\r\n.component {\r\n    display: grid;\r\n\r\n    grid-template-columns: var(--label-width) calc(100% - var(--label-width));\r\n    align-items: start;\r\n\r\n    transition: background-color 0.15s;\r\n}\r\n\r\n.label {\r\n    height: var(--input-height);\r\n    overflow: hidden;\r\n\r\n    padding: var(--label-padding);\r\n\r\n    font-size: var(--label-font-size);\r\n    line-height: var(--input-height);\r\n    font-weight: var(--label-font-weight);\r\n    color: var(--label-color);\r\n    white-space: nowrap;\r\n    text-overflow: ellipsis;\r\n}\r\n\r\n.input {\r\n    width: 100%;\r\n    height: var(--input-height);\r\n\r\n    padding: 0 var(--input-padding);\r\n\r\n    font-family: var(--font);\r\n    font-size: var(--input-font-size);\r\n    font-weight: var(--input-font-weight);\r\n    color: var(--input-text-color);\r\n\r\n    background-color: var(--input-background-color);\r\n\r\n    border: 0;\r\n    border-radius: var(--input-border-radius);\r\n    outline: none;\r\n\r\n    transition: var(--input-background-color-transition);\r\n\r\n    cursor: ew-resize;\r\n}\r\n\r\n.input:hover {\r\n    background-color: var(--input-background-color-hover);\r\n}\r\n\r\n.locked .input {\r\n    opacity: 0.6;\r\n\r\n    pointer-events: none;\r\n}\r\n",template:'<div class="component">\r\n\r\n    \x3c!-- Label --\x3e\r\n    <span class="label">{{ label }}</span>\r\n\r\n    \x3c!-- Input --\x3e\r\n    <input class="input" ref="input">\r\n\r\n</div>\r\n',model:r}))._stepSize=i.model.options.stepSize||.01,i._min="number"==typeof i.model.options.min?i.model.options.min:null,i._max="number"==typeof i.model.options.max?i.model.options.max:null,i._decimalPlaces=i._getDecimalPlaces(i._stepSize),i._activeInput=null,i._isPointerLockActive=!1,i._isMouseMoved=!1,i._bindHandlers(),i}return r(o,[{key:"connected",value:function(){this._updateInputValue(this.model.value),this._setupEventListeners()}},{key:"destroyed",value:function(){this._removeEventListeners()}},{key:"onListen",value:function(){this._updateInputValue(this.model.value)}},{key:"_bindHandlers",value:function(){this._mouseEnterHandler=this._mouseEnterHandler.bind(this),this._mouseDownHandler=this._mouseDownHandler.bind(this),this._mouseUpHandler=this._mouseUpHandler.bind(this),this._changeHandler=this._changeHandler.bind(this),this._mouseWheelHandler=this._mouseWheelHandler.bind(this),this._pointerLockHanderHandler=this._pointerLockHanderHandler.bind(this),this._mouseMoveHandler=this._mouseMoveHandler.bind(this)}},{key:"_setupEventListeners",value:function(){this.$refs.input.addEventListener("mouseenter",this._mouseEnterHandler),this.$refs.input.addEventListener("mousedown",this._mouseDownHandler),this.$refs.input.addEventListener("mouseup",this._mouseUpHandler),this.$refs.input.addEventListener("change",this._changeHandler),this.$refs.input.addEventListener("mousewheel",this._mouseWheelHandler),document.addEventListener("pointerlockchange",this._pointerLockHanderHandler),document.addEventListener("mousemove",this._mouseMoveHandler)}},{key:"_removeEventListeners",value:function(){this.$refs.input.removeEventListener("mouseenter",this._mouseEnterHandler),this.$refs.input.removeEventListener("mousedown",this._mouseDownHandler),this.$refs.input.removeEventListener("mouseup",this._mouseUpHandler),this.$refs.input.removeEventListener("change",this._changeHandler),this.$refs.input.removeEventListener("mousewheel",this._mouseWheelHandler),document.removeEventListener("pointerlockchange",this._pointerLockHanderHandler),document.removeEventListener("mousemove",this._mouseMoveHandler)}},{key:"_updateModelValue",value:function(e){this.model.value=e}},{key:"_getInputValueBasedOnMouseMovement",value:function(e){return this.model.value+e*this._stepSize}},{key:"_updateInputValue",value:function(e){this.$refs.input.value=e.toFixed(this._decimalPlaces)}},{key:"_getDecimalPlaces",value:function(e){var n=e.toString().split(".");return n.length>1?n[1].length:0}},{key:"_mouseEnterHandler",value:function(){V.set(this.model.value)}},{key:"_mouseDownHandler",value:function(e){this.$refs.input.requestPointerLock(),this._isMouseMoved=!1}},{key:"_mouseUpHandler",value:function(e){document.exitPointerLock(),this._isMouseMoved?this.$refs.input.blur():this.$refs.input.select()}},{key:"_changeHandler",value:function(){var e=Number(this.$refs.input.value);this._updateModelValue(e),this.$refs.input.blur()}},{key:"_mouseWheelHandler",value:function(e){var n=this.model.value+this._stepSize*Math.sign(e.wheelDelta);this._updateInputValue(n),this._updateModelValue(n)}},{key:"_pointerLockHanderHandler",value:function(){this.shadowRoot.pointerLockElement===this.$refs.input?this._isPointerLockActive=!0:this._isPointerLockActive=!1}},{key:"_mouseMoveHandler",value:function(e){if(this._isPointerLockActive){var n=Math.max(Math.min(e.movementX,100),-100);Math.abs(n)>0&&(this._isMouseMoved=!0);var t=this._getInputValueBasedOnMouseMovement(n);"number"==typeof this._min&&(t=Math.max(t,this._min)),"number"==typeof this._max&&(t=Math.min(t,this._max)),this._updateInputValue(t),this._updateModelValue(t)}}}]),o}(D);window.customElements.define("dddd-number",j);var O="drop-area",U="TYPE_THREE",B=function(e){i(o,e);var t=c(o);function o(e,r){var i;return n(this,o),(i=t.call(this,{root:e,style:".component {\r\n    display: grid;\r\n\r\n    grid-template-columns: var(--label-width) calc(100% - var(--label-width));\r\n    align-items: start;\r\n}\r\n\r\n.label {\r\n    height: var(--input-height);\r\n    overflow: hidden;\r\n\r\n    padding: var(--label-padding);\r\n\r\n    font-size: var(--label-font-size);\r\n    font-weight: var(--label-font-weight);\r\n    line-height: var(--input-height);\r\n    color: var(--label-color);\r\n    white-space: nowrap;\r\n    text-overflow: ellipsis;\r\n}\r\n\r\n.image-container {\r\n    position: relative;\r\n\r\n    width: 100%;\r\n    aspect-ratio: 16 / 9;\r\n\r\n    overflow: hidden;\r\n\r\n    background-color: var(--input-background-color);\r\n\r\n    border-radius: var(--input-border-radius);\r\n\r\n    transition: var(--input-background-color-transition);\r\n}\r\n\r\n.image-container:hover,\r\n.image-container.drop-area {\r\n    background-color: var(--input-background-color-hover);\r\n}\r\n\r\n.image-container img {\r\n    object-fit: cover;\r\n\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\n.locked .image-container {\r\n    opacity: 0.6;\r\n\r\n    pointer-events: none;\r\n}\r\n\r\n.contain .image-container img {\r\n    object-fit: contain;\r\n}\r\n\r\n.file-input {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n\r\n    width: 100%;\r\n    height: 100%;\r\n\r\n    border: 0;\r\n    outline: none;\r\n\r\n    cursor: pointer;\r\n}\r\n\r\n.file-input::-webkit-file-upload-button {\r\n    visibility: hidden;\r\n}\r\n\r\n.file-input::before {\r\n    content: '';\r\n\r\n    display: block;\r\n\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n",template:'<div class="component">\r\n    \r\n    \x3c!-- Label --\x3e\r\n    <span class="label">{{ label }}</span>\r\n\r\n    \x3c!-- Image --\x3e\r\n    <div class="image-container" ref="imageContainer">\r\n\r\n        \x3c!-- File input --\x3e\r\n        <input type="file" ref="fileInput" class="file-input" accept=".jpg,.png,.gif">\r\n\r\n    </div>\r\n\r\n</div>',model:r}))._contain=i.model.options.contain,i._previewImage=null,i._type=i._getType(),i._bindHandlers(),i}return r(o,[{key:"connected",value:function(){this._addPreviewImage(this.model.value),this._contain&&this._addContainClass(),this._setupEventListeners()}},{key:"destroyed",value:function(){this._removeEventListeners()}},{key:"_bindHandlers",value:function(){this._dropHandler=this._dropHandler.bind(this),this._dragEnterHandler=this._dragEnterHandler.bind(this),this._dragOverHandler=this._dragOverHandler.bind(this),this._dragLeaveHandler=this._dragLeaveHandler.bind(this),this._fileInputChangeHandler=this._fileInputChangeHandler.bind(this),this._fileLoadedHandler=this._fileLoadedHandler.bind(this)}},{key:"_setupEventListeners",value:function(){this.$el.addEventListener("drop",this._dropHandler),this.$el.addEventListener("dragenter",this._dragEnterHandler),this.$el.addEventListener("dragover",this._dragOverHandler),this.$el.addEventListener("dragleave",this._dragLeaveHandler),this.$refs.fileInput.addEventListener("change",this._fileInputChangeHandler)}},{key:"_removeEventListeners",value:function(){this.$el.removeEventListener("drop",this._dropHandler),this.$el.removeEventListener("dragenter",this._dragEnterHandler),this.$el.removeEventListener("dragover",this._dragOverHandler),this.$el.removeEventListener("dragleave",this._dragLeaveHandler)}},{key:"_addContainClass",value:function(){this.$el.classList.add("contain")}},{key:"_getType",value:function(){return this.model.value.isTexture?U:"TYPE_IMAGE"}},{key:"_handleFile",value:function(e){var n=new FileReader;n.onloadend=this._fileLoadedHandler,n.readAsDataURL(e)}},{key:"_removePreviewImage",value:function(){this._previewImage&&(this.$refs.imageContainer.removeChild(this._previewImage),this._previewImage=null)}},{key:"_addPreviewImage",value:function(e){e&&(this._type===U?this.model.value.image&&(this._previewImage=document.createElement("img"),this._previewImage.src=this.model.value.image.src,this.$refs.imageContainer.appendChild(this._previewImage)):(this._previewImage=document.createElement("img"),this._previewImage.src=e,this.$refs.imageContainer.appendChild(this._previewImage)))}},{key:"_showDropArea",value:function(){this.$refs.imageContainer.classList.add(O)}},{key:"_hideDropArea",value:function(){this.$refs.imageContainer.classList.remove(O)}},{key:"_dropHandler",value:function(e){e.preventDefault();var n=e.dataTransfer.files[0];this._handleFile(n),this._hideDropArea()}},{key:"_dragEnterHandler",value:function(e){e.preventDefault(),this._showDropArea()}},{key:"_dragOverHandler",value:function(e){e.preventDefault()}},{key:"_dragLeaveHandler",value:function(e){this.$el.contains(e.fromElement)||this._hideDropArea()}},{key:"_fileLoadedHandler",value:function(e){var n=e.target.result;this._type===U?(this.model.value.image||(this.model.value.image=new Image),this.model.value.image.src=n,this.model.value.needsUpdate=!0,this.model.triggerOnChange()):this.model.value=n,this._removePreviewImage(),this._addPreviewImage(n)}},{key:"_fileInputChangeHandler",value:function(e){var n=this.$refs.fileInput.files[0];this._handleFile(n)}}]),o}(D);window.customElements.define("dddd-image",B);var R=function(e){i(o,e);var t=c(o);function o(e,r){var i;return n(this,o),(i=t.call(this,{root:e,style:".component {\r\n    display: grid;\r\n\r\n    grid-template-columns: var(--label-width) calc(100% - var(--label-width));\r\n    align-items: center;\r\n}\r\n\r\n.label {\r\n    overflow: hidden;\r\n\r\n    padding: var(--label-padding);\r\n\r\n    font-size: var(--label-font-size);\r\n    font-weight: var(--label-font-weight);\r\n    color: var(--label-color);\r\n    white-space: nowrap;\r\n    text-overflow: ellipsis;\r\n}\r\n\r\n.input-container {\r\n    position: relative;\r\n\r\n    height: var(--input-height);\r\n    overflow: hidden;\r\n\r\n    background-color: var(--input-background-color);\r\n\r\n    border-radius: var(--input-border-radius);\r\n\r\n    user-select: none;\r\n\r\n    transition: var(--input-background-color-transition);\r\n}\r\n\r\n.input-container:hover {\r\n    background-color: var(--input-background-color-hover);\r\n}\r\n\r\n.locked .input-container {\r\n    opacity: 0.6;\r\n\r\n    pointer-events: none;\r\n}\r\n\r\n.select {\r\n    width: 100%;\r\n    height: 100%;\r\n\r\n    border: 0;\r\n    outline: 0;\r\n\r\n    padding: 0 var(--input-padding);\r\n\r\n    background: transparent;\r\n\r\n    font-family: var(--font);\r\n    font-size: var(--input-font-size);\r\n    font-weight: var(--input-font-weight);\r\n    color: var(--input-text-color);\r\n\r\n    appearance: none;\r\n}\r\n\r\n.select option {\r\n    color: black;\r\n}\r\n\r\n.arrow {\r\n    position: absolute;\r\n    top: 0;\r\n    right: var(--input-padding);\r\n    bottom: 0;\r\n\r\n    margin: auto 0;\r\n}\r\n",template:'<div class="component">\r\n    \r\n    \x3c!-- Label --\x3e\r\n    <span class="label">{{ label }}</span>\r\n\r\n    \x3c!-- Input container  --\x3e\r\n    <div class="input-container">\r\n\r\n        \x3c!-- Arrow --\x3e\r\n        <svg width="11" height="6" viewBox="0 0 11 6" class="arrow">\r\n            <path d="M1 1L4.83564 4.40945C5.21452 4.74624 5.78548 4.74624 6.16436 4.40945L10 1" stroke="white" fill="transparent" stroke-opacity="0.74" stroke-linecap="round"/>\r\n        </svg>\r\n        \r\n        \x3c!-- Select --\x3e\r\n        <select class="select" ref="select"></select>\r\n\r\n    </div>\r\n\r\n</div>',model:r}))._isArray=Array.isArray(i.model.options.options),i._bindHandlers(),i}return r(o,[{key:"connected",value:function(){this._addOptions(),this._setupEventListeners()}},{key:"destroyed",value:function(){this._removeEventListeners()}},{key:"onListen",value:function(){this._updateSelectValue(this.model.value)}},{key:"_bindHandlers",value:function(){this._mouseEnterHandler=this._mouseEnterHandler.bind(this),this._selectChangeHandler=this._selectChangeHandler.bind(this)}},{key:"_setupEventListeners",value:function(){this.$refs.select.addEventListener("mouseenter",this._mouseEnterHandler),this.$refs.select.addEventListener("change",this._selectChangeHandler)}},{key:"_removeEventListeners",value:function(){this.$refs.select.removeEventListener("mouseenter",this._mouseEnterHandler),this.$refs.select.removeEventListener("change",this._selectChangeHandler)}},{key:"_addOptions",value:function(){var e=this.model.options.options;if(this._isArray)for(var n=0,t=e.length;n<t;n++){var r=e[n],i=document.createElement("option");i.value=r,i.textContent=r,i.selected=r===this.model.value,this.$refs.select.appendChild(i)}else for(var o in e){var a=e[o],s=document.createElement("option");s.value=o,s.textContent=o,s.selected=a===this.model.value,this.$refs.select.appendChild(s)}}},{key:"_updateSelectValue",value:function(e){this.$refs.select.value=e}},{key:"_getValue",value:function(){return this._isArray?this.$refs.select.value:this.model.options.options[this.$refs.select.value]}},{key:"_mouseEnterHandler",value:function(){V.set(this.model.value)}},{key:"_selectChangeHandler",value:function(){this.model.value=this._getValue(),this.$refs.select.blur()}}]),o}(D);window.customElements.define("dddd-dropdown",R);var G=function(e){i(o,e);var t=c(o);function o(e,r){var i;return n(this,o),(i=t.call(this,{root:e,style:".component {\r\n    display: grid;\r\n\r\n    grid-template-columns: var(--label-width) calc(100% - var(--label-width));\r\n    align-items: center;\r\n}\r\n\r\n.label {\r\n    overflow: hidden;\r\n\r\n    padding: var(--label-padding);\r\n\r\n    font-size: var(--label-font-size);\r\n    font-weight: var(--label-font-weight);\r\n    color: var(--label-color);\r\n    white-space: nowrap;\r\n    text-overflow: ellipsis;\r\n}\r\n\r\n.input-container {\r\n    position: relative;\r\n\r\n    height: var(--input-height);\r\n    overflow: hidden;\r\n\r\n    background-color: var(--input-background-color);\r\n\r\n    border-radius: var(--input-border-radius);\r\n\r\n    user-select: none;\r\n\r\n    transition: var(--input-background-color-transition);\r\n}\r\n\r\n.input-container:hover {\r\n    background-color: var(--input-background-color-hover);\r\n}\r\n\r\n.locked .input-container {\r\n    opacity: 0.6;\r\n\r\n    pointer-events: none;\r\n}\r\n\r\n.checkbox {\r\n    appearance: none;\r\n\r\n    display: block;\r\n    position: relative;\r\n\r\n    width: 100%;\r\n    height: 100%;\r\n\r\n    margin: 0;\r\n    padding: 0 var(--input-padding);\r\n\r\n    outline: none;\r\n\r\n    cursor: pointer;\r\n}\r\n\r\n.checkbox:after {\r\n    content: '';\r\n\r\n    display: block;\r\n    box-sizing: border-box;\r\n\r\n    position: absolute;\r\n    top: 0;\r\n    bottom: 0;\r\n    left: 10px;\r\n\r\n    width: 16px;\r\n    height: 16px;\r\n\r\n    margin: auto 0;\r\n\r\n    border-radius: 50%;\r\n    border: 1px solid var(--input-highlight-color);\r\n}\r\n\r\n.checkbox:checked:after {\r\n    background: var(--input-highlight-color);\r\n\r\n    border: 0;\r\n}\r\n",template:'<div class="component">\r\n    \r\n    \x3c!-- Label --\x3e\r\n    <span class="label">{{ label }}</span>\r\n\r\n    \x3c!-- Input container  --\x3e\r\n    <div class="input-container">\r\n\r\n        \x3c!-- Checkbox --\x3e\r\n        <input type="checkbox" class="checkbox" ref="checkbox">\r\n\r\n    </div>\r\n\r\n</div>',model:r}))._bindHandlers(),i}return r(o,[{key:"connected",value:function(){this._updateChecked(),this._setupEventListeners()}},{key:"destroyed",value:function(){this._removeEventListeners()}},{key:"onListen",value:function(){this._updateChecked()}},{key:"_bindHandlers",value:function(){this._checkboxChangeHandler=this._checkboxChangeHandler.bind(this)}},{key:"_setupEventListeners",value:function(){this.$refs.checkbox.addEventListener("change",this._checkboxChangeHandler)}},{key:"_removeEventListeners",value:function(){this.$refs.checkbox.removeEventListener("change",this._checkboxChangeHandler)}},{key:"_updateChecked",value:function(){this.$refs.checkbox.checked=this.model.value}},{key:"_checkboxChangeHandler",value:function(){this.model.value=this.$refs.checkbox.checked}}]),o}(D);window.customElements.define("dddd-checkbox",G);var F=function(e){i(o,e);var t=c(o);function o(e,r){var i;return n(this,o),(i=t.call(this,{root:e,style:".component {\r\n    transition: background-color 0.15s;\r\n}\r\n\r\n.button {\r\n    width: calc(100% - var(--label-width));\r\n    height: var(--input-height);\r\n\r\n    padding: 0 var(--input-padding);\r\n    margin-left: var(--label-width);\r\n\r\n    font-family: var(--font);\r\n    font-size: var(--input-font-size);\r\n    font-weight: var(--input-font-weight);\r\n    color: var(--input-text-color);\r\n\r\n    background-color: var(--input-highlight-color);\r\n\r\n    border: 0;\r\n    border-radius: var(--input-border-radius);\r\n    outline: none;\r\n\r\n    transition: var(--input-background-color-transition);\r\n\r\n    cursor: pointer;\r\n}\r\n\r\n.button:hover {\r\n    background-color: rgba(77, 83, 217, 1);\r\n    background-color: var(--input-highlight-color-hover);\r\n}\r\n\r\n.full-width .button {\r\n    width: 100%;\r\n\r\n    margin-left: 0;\r\n}\r\n",template:'<div class="component">\r\n    \r\n    \x3c!-- Button --\x3e\r\n    <button class="button" ref="button">{{ label }}</button>\r\n\r\n</div>',model:r}))._isFullWidth=i.model.options.fullWidth||!1,i._bindHandlers(),i}return r(o,[{key:"connected",value:function(){this._isFullWidth&&this._addFullWidthClass(),this._setupEventListeners()}},{key:"destroyed",value:function(){this._removeEventListeners()}},{key:"_bindHandlers",value:function(){this._clickHandler=this._clickHandler.bind(this)}},{key:"_setupEventListeners",value:function(){this.$refs.button.addEventListener("click",this._clickHandler)}},{key:"_removeEventListeners",value:function(){this.$refs.button.removeEventListener("click",this._clickHandler)}},{key:"_addFullWidthClass",value:function(){this.$el.classList.add("full-width")}},{key:"_clickHandler",value:function(){this.model.value="click"}}]),o}(D);window.customElements.define("dddd-button",F);var W="TYPE_THREE",N="TYPE_STRING",K="error",q=function(e){i(o,e);var t=c(o);function o(e,r){var i;return n(this,o),(i=t.call(this,{root:e,style:".component {\r\n    display: grid;\r\n\r\n    grid-template-columns: var(--label-width) calc(100% - var(--label-width));\r\n    align-items: center;\r\n}\r\n\r\n.label {\r\n    overflow: hidden;\r\n\r\n    padding: var(--label-padding);\r\n\r\n    font-size: var(--label-font-size);\r\n    font-weight: var(--label-font-weight);\r\n    color: var(--label-color);\r\n    white-space: nowrap;\r\n    text-overflow: ellipsis;\r\n}\r\n\r\n.input-container {\r\n    display: grid;\r\n    position: relative;\r\n\r\n    grid-template-columns: 27px calc(100% - 20px);\r\n    align-items: center;\r\n\r\n    height: var(--input-height);\r\n    overflow: hidden;\r\n\r\n    padding: 0 var(--input-padding) 0 5px;\r\n\r\n    font-family: var(--font);\r\n    font-size: var(--input-font-size);\r\n    font-weight: var(--input-font-weight);\r\n\r\n    background-color: var(--input-background-color);\r\n\r\n    border-radius: var(--input-border-radius);\r\n\r\n    transition: var(--input-background-color-transition);\r\n}\r\n\r\n.input-container:hover {\r\n    background-color: var(--input-background-color-hover);\r\n}\r\n\r\n.component.error .input-container {\r\n    background-color: var(--input-background-color-error);\r\n}\r\n\r\n.color {\r\n    width: 20px;\r\n    height: 20px;\r\n\r\n    margin: 0;\r\n    padding: 0;\r\n\r\n    background: transparent;\r\n\r\n    border: 0;\r\n    outline: 0;\r\n\r\n    appearance: none;\r\n    cursor: pointer;\r\n}\r\n\r\n.color::-webkit-color-swatch-wrapper {\r\n    padding: 0;\r\n}\r\n\r\n.color::-webkit-color-swatch {\r\n    border: none;\r\n    border-radius: 4px;\r\n}\r\n\r\n.color-string {\r\n    background: transparent;\r\n\r\n    border: 0;\r\n    outline: 0;\r\n\r\n    color: var(--input-text-color);\r\n}\r\n\r\n/* .alpha {\r\n    color: var(--input-text-color);\r\n    text-align: right;\r\n} */\r\n",template:'<div class="component">\r\n\r\n    \x3c!-- Label --\x3e\r\n    <span class="label">{{ label }}</span>\r\n\r\n    \x3c!-- Input container  --\x3e\r\n    <div class="input-container">\r\n\r\n        \x3c!-- Color input --\x3e\r\n        <input type="color" class="color" ref="color">\r\n\r\n        \x3c!-- Color string --\x3e\r\n        <input type="text" class="color-string" ref="colorString">\r\n\r\n        \x3c!-- Alpha --\x3e\r\n        \x3c!-- <span class="alpha">100%</span> --\x3e\r\n\r\n    </div>\r\n\r\n</div>\r\n',model:r}))._type=i._getType(),i._bindHandlers(),i}return r(o,[{key:"connected",value:function(){var e=this._getValue();this._setColorValue(e),this._setColorString(e),this._setupEventListeners()}},{key:"destroyed",value:function(){this._removeEventListeners()}},{key:"_bindHandlers",value:function(){this._mouseEnterHandler=this._mouseEnterHandler.bind(this),this._inputChangeHandler=this._inputChangeHandler.bind(this),this._colorStringFocusHandler=this._colorStringFocusHandler.bind(this),this._colorStringBlurHandler=this._colorStringBlurHandler.bind(this),this._colorStringKeyUpHandler=this._colorStringKeyUpHandler.bind(this)}},{key:"_setupEventListeners",value:function(){this.$refs.color.addEventListener("mouseenter",this._mouseEnterHandler),this.$refs.color.addEventListener("input",this._inputChangeHandler),this.$refs.colorString.addEventListener("focus",this._colorStringFocusHandler),this.$refs.colorString.addEventListener("blur",this._colorStringBlurHandler),this.$refs.colorString.addEventListener("keyup",this._colorStringKeyUpHandler)}},{key:"_removeEventListeners",value:function(){this.$refs.color.removeEventListener("mouseenter",this._mouseEnterHandler),this.$refs.color.removeEventListener("input",this._inputChangeHandler),this.$refs.colorString.removeEventListener("focus",this._colorStringFocusHandler),this.$refs.colorString.removeEventListener("blur",this._colorStringBlurHandler),this.$refs.colorString.removeEventListener("keyup",this._colorStringKeyUpHandler)}},{key:"_getType",value:function(){var e=this.model.value;return e.isColor?W:this._isHex(e)?"TYPE_HEX":N}},{key:"_getValue",value:function(){switch(this._type){case W:return"#".concat(this.model.value.getHexString());case N:return this._convertColorNameToHex(this.model.value);default:return this.model.value}}},{key:"_setColorValue",value:function(e){this.$refs.color.value=e}},{key:"_setColorString",value:function(e){this.$refs.colorString.value=e}},{key:"_setModelValue",value:function(e){this._type===W?(this.model.value.set(e),"function"==typeof this.model.options.onChange&&this.model.options.onChange(this._value)):this.model.value=e}},{key:"_updateValueFromStringInput",value:function(){var e=this.$refs.colorString.value;"#"!==e.charAt(0)&&(e="#"+e),this._isHex(e)?(this._hideError(),this._setColorString(e),this._setModelValue(e),this._setColorValue(e)):(this._showError(),this._setColorValue("#000000"))}},{key:"_showError",value:function(){this.$el.classList.add(K)}},{key:"_hideError",value:function(){this.$el.classList.remove(K)}},{key:"_isHex",value:function(e){return/^#([0-9A-F]{3}){1,2}$/i.test(e)}},{key:"_convertColorNameToHex",value:function(e){var n=document.createElement("canvas").getContext("2d");return n.fillStyle=e,n.fillStyle}},{key:"_mouseEnterHandler",value:function(){V.set(this.$refs.colorString.value)}},{key:"_inputChangeHandler",value:function(){var e=this.$refs.color.value;this._setModelValue(e),this._setColorString(e),this._hideError(),V.set(e)}},{key:"_colorStringFocusHandler",value:function(){this.$refs.colorString.select()}},{key:"_colorStringBlurHandler",value:function(){this._updateValueFromStringInput()}},{key:"_colorStringKeyUpHandler",value:function(e){13===e.keyCode&&(this._updateValueFromStringInput(),this.$refs.colorString.blur())}}]),o}(D);window.customElements.define("dddd-color",q);var X=function(e){i(o,e);var t=c(o);function o(e,r){var i;return n(this,o),(i=t.call(this,{root:e,style:"*,\r\n*:before,\r\n*:after {\r\n    box-sizing: border-box;\r\n}\r\n\r\n.component {\r\n    display: grid;\r\n\r\n    grid-template-columns: var(--label-width) calc(100% - var(--label-width));\r\n    align-items: start;\r\n\r\n    transition: background-color 0.15s;\r\n}\r\n\r\n.label {\r\n    height: var(--input-height);\r\n    overflow: hidden;\r\n\r\n    padding: var(--label-padding);\r\n\r\n    font-size: var(--label-font-size);\r\n    line-height: var(--input-height);\r\n    font-weight: var(--label-font-weight);\r\n    color: var(--label-color);\r\n    white-space: nowrap;\r\n    text-overflow: ellipsis;\r\n}\r\n\r\n.input-container {\r\n    display: grid;\r\n\r\n    grid-template-columns: repeat(3, 1fr);\r\n    gap: var(--component-row-gap);\r\n}\r\n\r\n.input {\r\n    width: 100%;\r\n    height: var(--input-height);\r\n\r\n    padding: 0 var(--input-padding);\r\n\r\n    font-family: var(--font);\r\n    font-size: var(--input-font-size);\r\n    font-weight: var(--input-font-weight);\r\n    color: var(--input-text-color);\r\n\r\n    background-color: var(--input-background-color);\r\n\r\n    border: 0;\r\n    border-radius: var(--input-border-radius);\r\n    outline: none;\r\n\r\n    transition: var(--input-background-color-transition);\r\n\r\n    cursor: ew-resize;\r\n}\r\n\r\n.input:hover {\r\n    background-color: var(--input-background-color-hover);\r\n}\r\n\r\n\r\n.locked .input {\r\n    opacity: 0.6;\r\n\r\n    pointer-events: none;\r\n}\r\n",template:'<div class="component">\r\n    \r\n    \x3c!-- Label --\x3e\r\n    <span class="label">{{ label }}</span>\r\n\r\n    \x3c!-- Input container --\x3e\r\n    <div class="input-container" ref="inputContainer"></div>\r\n\r\n</div>',model:r}))._stepSize=i.model.options.stepSize||.01,i._decimalPlaces=i._getDecimalPlaces(i._stepSize),i._activeInput=null,i._isPointerLockActive=!1,i._inputs=[],i._bindHandlers(),i}return r(o,[{key:"connected",value:function(){this._createInputs(),this._setupEventListeners()}},{key:"destroyed",value:function(){this._removeEventListeners()}},{key:"onListen",value:function(){this._updateAllInputValues(this.model.value)}},{key:"_bindHandlers",value:function(){this._mouseEnterHandler=this._mouseEnterHandler.bind(this),this._mouseDownHandler=this._mouseDownHandler.bind(this),this._mouseUpHandler=this._mouseUpHandler.bind(this),this._changeHandler=this._changeHandler.bind(this),this._pointerLockHanderHandler=this._pointerLockHanderHandler.bind(this),this._mouseMoveHandler=this._mouseMoveHandler.bind(this)}},{key:"_setupEventListeners",value:function(){for(var e=0,n=this._inputs.length;e<n;e++)this._inputs[e].addEventListener("mouseenter",this._mouseEnterHandler);this.$el.addEventListener("mousedown",this._mouseDownHandler),this.$el.addEventListener("mouseup",this._mouseUpHandler),this.$el.addEventListener("change",this._changeHandler),document.addEventListener("pointerlockchange",this._pointerLockHanderHandler),document.addEventListener("mousemove",this._mouseMoveHandler)}},{key:"_removeEventListeners",value:function(){for(var e=0,n=this._inputs.length;e<n;e++)this._inputs[e].removeEventListener("mouseenter",this._mouseEnterHandler);this.$el.removeEventListener("mousedown",this._mouseDownHandler),this.$el.removeEventListener("mouseup",this._mouseUpHandler),this.$el.removeEventListener("change",this._changeHandler),document.removeEventListener("pointerlockchange",this._pointerLockHanderHandler),document.removeEventListener("mousemove",this._mouseMoveHandler)}},{key:"_createInputs",value:function(){for(var e in this.model.value){var n=this.model.value[e];if("number"==typeof n){var t=document.createElement("input");t.classList.add("input"),t.value=n,this._inputs.push(t),this.$refs.inputContainer.appendChild(t)}}}},{key:"_updateModelValue",value:function(){if("Euler"===this.model.value.constructor.name)this.model.value.x=parseFloat(this._inputs[0].value),this.model.value.y=parseFloat(this._inputs[1].value),this.model.value.z=parseFloat(this._inputs[2].value);else for(var e=0,n=Object.entries(Object.entries(this.model.value));e<n.length;e++){var t=h(n[e],2),r=t[0],i=h(t[1],1)[0];this._inputs[r]&&(this.model.value[i]=parseFloat(this._inputs[r].value))}}},{key:"_getInputValueBasedOnMouseMovement",value:function(e){if(this._activeInput)return parseFloat(this._activeInput.value)+e*this._stepSize}},{key:"_updateInputValue",value:function(e){this._activeInput&&(this._activeInput.value=e.toFixed(this._decimalPlaces))}},{key:"_updateAllInputValues",value:function(){for(var e=0,n=Object.entries(Object.entries(this.model.value));e<n.length;e++){var t=h(n[e],2),r=t[0],i=h(t[1],1)[0];this._inputs[r].value=this.model.value[i]}}},{key:"_getDecimalPlaces",value:function(e){var n=e.toString().split(".");return n.length>1?n[1].length:0}},{key:"_mouseEnterHandler",value:function(e){V.set(e.target.value)}},{key:"_mouseDownHandler",value:function(e){"INPUT"===e.target.tagName&&(this._activeInput=e.target,this.$el.requestPointerLock())}},{key:"_mouseUpHandler",value:function(){this._activeInput=null,document.exitPointerLock()}},{key:"_changeHandler",value:function(){this._updateInputValue()}},{key:"_pointerLockHanderHandler",value:function(e){this.shadowRoot.pointerLockElement===this.$el?this._isPointerLockActive=!0:this._isPointerLockActive=!1}},{key:"_mouseMoveHandler",value:function(e){if(this._isPointerLockActive){var n=Math.max(Math.min(e.movementX,100),-100),t=this._getInputValueBasedOnMouseMovement(n);this._updateInputValue(t),this._updateModelValue()}}}]),o}(D);window.customElements.define("dddd-multi-input",X);var Y=function(e){i(o,e);var t=c(o);function o(e,r){var i;return n(this,o),(i=t.call(this,{root:e,style:"*,\r\n*:before,\r\n*:after {\r\n    box-sizing: border-box;\r\n}\r\n\r\n.component {\r\n    display: grid;\r\n\r\n    grid-template-columns: var(--label-width) calc(100% - var(--label-width));\r\n    align-items: start;\r\n\r\n    transition: background-color 0.15s;\r\n}\r\n\r\n.label {\r\n    height: var(--input-height);\r\n    overflow: hidden;\r\n\r\n    padding: var(--label-padding);\r\n\r\n    font-size: var(--label-font-size);\r\n    line-height: var(--input-height);\r\n    font-weight: var(--label-font-weight);\r\n    color: var(--label-color);\r\n    white-space: nowrap;\r\n    text-overflow: ellipsis;\r\n}\r\n\r\n.input-container {\r\n    overflow: hidden;\r\n\r\n    text-align: center;\r\n\r\n    background-color: var(--input-background-color);\r\n    border-radius: var(--input-border-radius);\r\n}\r\n\r\n.input-container canvas {\r\n    max-width: 100%;\r\n}\r\n",template:'<div class="component">\r\n    \r\n    \x3c!-- Label --\x3e\r\n    <span class="label">{{ label }}</span>\r\n\r\n    \x3c!-- Input container --\x3e\r\n    <div class="input-container" ref="inputContainer"></div>\r\n\r\n</div>',model:r}))._bindHandlers(),i}return r(o,[{key:"connected",value:function(){this._addCanvas(),this._setupEventListeners()}},{key:"destroyed",value:function(){this._removeEventListeners()}},{key:"onListen",value:function(){}},{key:"_bindHandlers",value:function(){}},{key:"_setupEventListeners",value:function(){}},{key:"_removeEventListeners",value:function(){}},{key:"_addCanvas",value:function(){this.$refs.inputContainer.appendChild(this.model.options.canvas)}}]),o}(D);window.customElements.define("dddd-canvas",Y);var J={slider:A,text:P,number:j,image:B,dropdown:R,checkbox:G,button:F,color:q,multiInput:X,canvas:Y},Z=function(){function e(t){var r=t.root;n(this,e),this._root=r,this._components=[],this._bindHandlers(),this._setupEventListeners()}return r(e,[{key:"destroy",value:function(){this._destroyComponents(),this._removeEventListeners()}},{key:"create",value:function(e){I.addComponent(e)}},{key:"remove",value:function(e){this._root.layout.getContainer(e.container).removeChild(e),e.destroy()}},{key:"update",value:function(e){this._getById(e.id).model.value=e.value}},{key:"updateObjects",value:function(e){for(var n,t,r=0,i=e.length;r<i;r++)(n=e[r]).options.listen&&(t=this._getById(n.id))&&(t.model.object=n.object)}},{key:"createElementsByGroupId",value:function(e){for(var n=I.getModelsByGroupId(e),t=0,r=n.length;t<r;t++){var i=n[t],o=i.type,a=new(0,J[o])(this._root,i);this._components.push(a),this._addComponentToContainer(a)}}},{key:"resize",value:function(){var e,n=_(this._components);try{for(n.s();!(e=n.n()).done;){e.value.resize()}}catch(e){n.e(e)}finally{n.f()}}},{key:"removeComponents",value:function(e){for(var n,t=this,r=this,i=function(e){(function e(t){t.model&&t.model.options&&t.model.options.parent?e(t.model.options.parent):t.parent?e(t.parent):r._components.splice(r._components.indexOf(n),1)})(n=t._components[e])},o=this._components.length-1;o>=0;o--)i(o)}},{key:"_bindHandlers",value:function(){this._tickHandler=this._tickHandler.bind(this)}},{key:"_setupEventListeners",value:function(){L.add(this._tickHandler)}},{key:"_removeEventListeners",value:function(){L.remove(this._tickHandler)}},{key:"_addComponentToContainer",value:function(e){var n=e.model.options.container;n&&this._root.layout.getParent(n).content.appendChild(e);var t=e.model.options.parent;t&&t.content.appendChild(e);this._root.layout.resize()}},{key:"_getById",value:function(e){var n,t=_(this._components);try{for(t.s();!(n=t.n()).done;){var r=n.value;if(r.model.id===e)return r}}catch(e){t.e(e)}finally{t.f()}}},{key:"_destroyComponents",value:function(){var e,n=_(this._components);try{for(n.s();!(e=n.n()).done;){e.value.destroy()}}catch(e){n.e(e)}finally{n.f()}}},{key:"_tickComponents",value:function(){for(var e=0,n=this._components.length;e<n;e++)this._components[e].tick()}},{key:"_sendModelsToDevtools",value:function(){for(var e=[],n=0,t=this._components.length;n<t;n++)e.push(this._components[n].model.getData());window.postMessage({source:"dddd-page",payload:{action:"update-objects",models:e}})}},{key:"_tickHandler",value:function(){this._tickComponents()}}]),e}(),Q=function(){function t(e){var r=e.root,i=e.object,o=e.property,a=e.options,s=e.id,l=e.type,u=e.value,d=e.onChangeCallback;n(this,t),this._root=r,this._object=i||{},this._property=o,this._options=a||{},this._id=s||this._generateId(),this._parentId=this._getParentId(),this._type=l||this._detectType(),this._value=u||this._getValue(),this._onChangeCallback=d,this._options.container instanceof M&&(this._options.container=this._options.container.label),this._options.persistent&&(this._loadStoredValue(),this._storeValue())}return r(t,[{key:"value",get:function(){return this._value},set:function(e){this._value=e,this._object[this._property]=this._value,this.triggerOnChange(),"button"===this._type&&"click"===this._value&&"function"==typeof this._options.onClick&&this._options.onClick(e),this._root.isDevtools&&"function"==typeof this._onChangeCallback&&this._onChangeCallback(this.getData()),this._options.persistent&&this._storeValue()}},{key:"object",get:function(){return this._object},set:function(e){this._object=e}},{key:"options",get:function(){return this._options}},{key:"property",get:function(){return this._property}},{key:"type",get:function(){return this._type}},{key:"id",get:function(){return this._id}},{key:"parentId",get:function(){return this._parentId}},{key:"getData",value:function(){return{object:this._object,property:this._property,options:this._removeFunctions(this._options),id:this._id,type:this._type,value:this._value}}},{key:"updateValueFromObject",value:function(){this._value=this._getValue()}},{key:"triggerOnChange",value:function(){"function"==typeof this._options.onChange&&this._options.onChange(this._value)}},{key:"_generateId",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var n=16*Math.random()|0;return("x"===e?n:3&n|8).toString(16)}))}},{key:"_getParentId",value:function(){return this._options.parent?this._options.parent.id:null}},{key:"_detectType",value:function(){if(!(this._property in this._object))throw new Error("Property '".concat(this._property,"' does not exists"));var n=this._getValue();if(n.isTexture)return"image";if(/\.(gif|jpe?g|tiff?|png|webp|bmp)$/i.test(n))return"image";if("canvas"===this._options.type)return"canvas";if(this._options.options&&"object"===e(this._options.options))return"dropdown";if("number"==typeof n&&"number"==typeof this._options.min&&"number"==typeof this._options.max)return"slider";if("color"===this._options.type)return"color";if(n.isColor)return"color";if(/^#[0-9A-F]{6}$/i.test(n))return"color";if("object"===e(n))return"multiInput";if("boolean"==typeof n)return"checkbox";if("number"==typeof n)return"number";if("string"==typeof n)return"text";throw new Error("Input type not detected")}},{key:"_getValue",value:function(){var n=this._object[this._property];return"object"===e(n)&&void 0!==n.value?n.value:n}},{key:"_removeFunctions",value:function(n){var t=JSON.parse(JSON.stringify(n));return function n(t){for(var r in t)"object"===e(t[r])&&null!==t[r]?n(t[r]):"function"==typeof t[r]&&delete t[r]}(t),t}},{key:"_loadStoredValue",value:function(){var e="component.".concat(this._options.parent.label,".").concat(this._property),n=S.get(e,"value");void 0!==n&&(this.value=n)}},{key:"_storeValue",value:function(){var e="component.".concat(this._options.parent.label,".").concat(this._property);S.set(e,{value:this._value})}}]),t}(),ee=function(){function e(t){var r=t.root,i=t.onLayerChange,o=t.minimized;n(this,e),this._root=r,this._onLayerChangeCallback=i,this._isVisible=!0,this._groups=[],this._container=this._createContainer(),this._header=this._createHeader(),this._global=this._createGlobal(),this._navigation=this._createNavigation(),this._layers=this._createLayers(),this._components=this._createComponents(),!o&&S.get("visiblity","visible")||this._hide(),this._bindHandlers(),this._setupEventListeners()}return r(e,[{key:"destroy",value:function(){this._container.destroy(),this._navigation.destroy(),this._layers.destroy(),this._components.destroy(),this._removeContainerElement()}},{key:"components",get:function(){return this._components}},{key:"stats",get:function(){return this._stats}},{key:"addLayer",value:function(e,n){this._navigation.add(e,n);var t=this._layers.add(e);return this._layers.resize(),I.addLayer(e),this._header.resize(),this._setLayersHeight(),t}},{key:"removeLayer",value:function(e){this._navigation.remove(e),this._layers.remove(e),I.removeLayer(e),this._components.removeComponents(e),this._header.resize(),this._setLayersHeight()}},{key:"gotoLayer",value:function(e){var n=this._layers.getIndexByLabel(e);this._navigation.goto(n),this._layers.goto(n),this._components.resize()}},{key:"addGroup",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.parent?n.parent:this.getParent(n.container),r=new M({root:this._root,layout:this,parent:t,label:e,options:n});return t.content.appendChild(r),this._groups.push(r),this._layers.resize(),I.addGroup(r.id,e,n),this._global.resize(),r}},{key:"removeGroup",value:function(e){var n=this._getGroupById(e);n.parent.content.removeChild(n),this._groups.splice(this._groups.indexOf(n),1),this._layers.resize(),I.removeGroup(e)}},{key:"addComponent",value:function(e){var n=e.object,t=e.property,r=e.options,i=e.id,o=e.type,a=e.onChangeCallback,s=new Q({root:this._root,object:n,property:t,options:r,id:i,type:o,onChangeCallback:a});return this._components.create(s)}},{key:"getLayer",value:function(e){return this._layers.get(e)}},{key:"getParent",value:function(e){if("Global"===e)return this._global;var n=this._layers.get(e);if(n)return n;var t=this._getGroupByLabel(e);return t||void 0}},{key:"remove",value:function(){document.body.removeChild(this._container)}},{key:"resize",value:function(){this._layers.resize(),this._components.resize(),this._global.resize(),this._setLayersHeight()}},{key:"toggleVisibility",value:function(){this._isVisible?this._hide():this._show()}},{key:"_bindHandlers",value:function(){this._navigationSwitchHandler=this._navigationSwitchHandler.bind(this),this._keyUpHandler=this._keyUpHandler.bind(this)}},{key:"_setupEventListeners",value:function(){this._navigation.addEventListener("switch",this._navigationSwitchHandler),window.addEventListener("keyup",this._keyUpHandler)}},{key:"_removeEventListeners",value:function(){this._navigation.addEventListener("switch",this._navigationSwitchHandler),window.addEventListener("keyup",this._keyUpHandler)}},{key:"_createContainer",value:function(){var e=new m({root:this._root});return document.body.appendChild(e),e}},{key:"_createHeader",value:function(){var e=new b({root:this._root});return this._container.addElement(e),e}},{key:"_createGlobal",value:function(){var e=new H({root:this._root});return this._container.addElement(e),e}},{key:"_createNavigation",value:function(){var e=new x({root:this._root});return this._header.addElement(e),e}},{key:"_createStats",value:function(){var e=new E({root:this._root});return this._header.addElement(e),e}},{key:"_createLayers",value:function(){var e=new z({root:this._root});return this._container.addElement(e),e}},{key:"_createComponents",value:function(){return new Z({root:this._root,layout:this})}},{key:"_getGroupById",value:function(e){var n,t=_(this._groups);try{for(t.s();!(n=t.n()).done;){var r=n.value;if(r.id===e)return r}}catch(e){t.e(e)}finally{t.f()}}},{key:"_getGroupByLabel",value:function(e){var n,t=_(this._groups);try{for(t.s();!(n=t.n()).done;){var r=n.value;if(r.label===e)return r}}catch(e){t.e(e)}finally{t.f()}}},{key:"_getGroupContainer",value:function(e,n){var t;if(n){if(!(t=this._layers.get(n)))throw new Error("Layer '".concat(n,"' not found"))}else{if(!this._layers.isEmpty())throw new Error("No 'container' defined for group '".concat(e,"'"));t=this._layers.add()}return t}},{key:"_removeContainerElement",value:function(){document.body.removeChild(this._container)}},{key:"_setLayersHeight",value:function(){var e=this._container.height-this._header.height-this._global.height;this._layers.setHeight(e)}},{key:"_show",value:function(){this._container.show(),this._layers.show(),this._navigation.show(),this._global.show(),this._layers.resize(),this._components.resize(),this._isVisible=!0,S.set("visiblity",{visible:this._isVisible})}},{key:"_hide",value:function(){this._container.hide(),this._layers.hide(),this._navigation.hide(),this._global.hide(),this._layers.resize(),this._components.resize(),this._isVisible=!1,S.set("visiblity",{visible:this._isVisible})}},{key:"_navigationSwitchHandler",value:function(e){if(this._layers.goto(e.detail.index),this._components.resize(),"function"==typeof this._onLayerChangeCallback){var n=this._layers.getByIndex(e.detail.index).label;this._onLayerChangeCallback(n)}}},{key:"_keyUpHandler",value:function(e){67===e.keyCode&&V.copyToClipboard()}}]),e}();return function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.devtools,i=t.minimized,o=t.onChange,a=t.onLayerChange;n(this,e),this._isDevtools=r,this._isMinimized=i||!1,this._onChangeCallback=o,this._onLayerChangeCallback=a,this._layout=this._createLayout(),this._bindHandlers(),this._setupEventListeners()}return r(e,[{key:"destroy",value:function(){this._layout.destroy(),this._removeEventListeners()}},{key:"isDevtools",get:function(){return this._isDevtools}},{key:"layout",get:function(){return this._layout}},{key:"stats",get:function(){return this._layout.stats}},{key:"add",value:function(e,n,t){return this._layout.addComponent({object:e,property:n,options:t})}},{key:"remove",value:function(e){}},{key:"addButton",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n.label=e,this._layout.addComponent({options:n,type:"button"})}},{key:"addCanvas",value:function(e){return this._layout.addComponent({options:e,type:"canvas"})}},{key:"addLayer",value:function(e,n){return this._layout.addLayer(e,n)}},{key:"removeLayer",value:function(e){this._layout.removeLayer(e)}},{key:"gotoLayer",value:function(e){this._layout.gotoLayer(e)}},{key:"addGroup",value:function(e,n){return this._layout.addGroup(e,n)}},{key:"removeGroup",value:function(e){return this._layout.removeGroup(e)}},{key:"createLayoutFromModel",value:function(e,n){var t,r=_(e.layers);try{for(r.s();!(t=r.n()).done;){var i=t.value;this.createLayer(i)}}catch(e){r.e(e)}finally{r.f()}var o,a=_(e.groups);try{for(a.s();!(o=a.n()).done;){var s=o.value;this.createGroup(s.label,s.options)}}catch(e){a.e(e)}finally{a.f()}var l,u=_(e.components);try{for(u.s();!(l=u.n()).done;){var d=l.value;this._layout.createComponent({object:d.object,property:d.property,options:d.options,id:d.id,type:d.type,onChangeCallback:this._onChangeCallback})}}catch(e){u.e(e)}finally{u.f()}"function"==typeof n&&n()}},{key:"isLayoutSidebar",value:function(){return!this._isDevtools}},{key:"showStats",value:function(){}},{key:"toggleVisibility",value:function(){this._layout.toggleVisibility()}},{key:"_bindHandlers",value:function(){this._messageHandler=this._messageHandler.bind(this)}},{key:"_setupEventListeners",value:function(){window.addEventListener("message",this._messageHandler)}},{key:"_removeEventListeners",value:function(){window.removeEventListener("message",this._messageHandler)}},{key:"_createLayout",value:function(){return new ee({root:this,onLayerChange:this._onLayerChangeCallback,minimized:this._isMinimized})}},{key:"_sendLayoutModel",value:function(){var e=I.get();window.postMessage({source:"dddd-page",payload:{action:"setup",layoutModel:e}})}},{key:"_messageHandler",value:function(e){var n=e.data.source,t=e.data.payload;if("dddd-devtools-proxy"===n&&t)switch(t.action){case"init":this._sendLayoutModel();break;case"setup-complete":this._layout.remove();break;case"change":this._layout.components.update(t.modelData)}if(this._isDevtools&&"dddd-page"===n&&t)switch(t.action){case"update-objects":t.models[0]}}}]),e}()}));
